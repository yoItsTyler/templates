/*! For license information please see 895.120c7215.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkroot_template=self.webpackChunkroot_template||[]).push([[895],{3577:(e,t,n)=>{n.d(t,{u7:()=>mm,Jj:()=>pf,IX:()=>Jp,my:()=>jp,xU:()=>wm,Lz:()=>ff,WA:()=>Hr,F8:()=>gf,$q:()=>bm,W:()=>Tm,EK:()=>ai,PU:()=>Um,l7:()=>Vo,Ky:()=>pi,Xb:()=>hi,Cf:()=>Zp,K9:()=>qr,Me:()=>Do,yq:()=>Vr,Wi:()=>Rp,ET:()=>Nm,Ab:()=>Gm,vr:()=>Hm,Fc:()=>sf,hJ:()=>zp,B$:()=>Wp,at:()=>Up,oe:()=>Mm,AK:()=>zm,TF:()=>cf,JU:()=>Hp,ST:()=>nf,fH:()=>rf,Ix:()=>lf,Wu:()=>cm,Lx:()=>lm,qY:()=>ef,GL:()=>Lm,QT:()=>Sm,kl:()=>Cm,Xk:()=>Em,PL:()=>_m,UQ:()=>Dm,zN:()=>Pm,nP:()=>Km,b9:()=>nm,vh:()=>rm,Pb:()=>uf,L$:()=>df,cf:()=>Om,sc:()=>Zm,Xo:()=>em,IO:()=>Yf,iE:()=>Kp,Eo:()=>Gp,i3:()=>qm,Bt:()=>Wm,pl:()=>Am,Ub:()=>Zr,qK:()=>xm,TQ:()=>sm,e0:()=>om,r7:()=>Rm,Mx:()=>af,ar:()=>Xf});var r,i=n(7825),o=n(3258),s=n(6781),a=n(5854),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={},u=u||{},d=l||self;function h(){}function p(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function T(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function I(){this.s=this.s,this.o=this.o}I.prototype.s=!1,I.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++g))},I.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const x=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function S(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(p(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",h,t),d.removeEventListener("test",h,t)}catch(n){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}var D=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function P(e,t){return e<t?-1:e>t?1:0}function A(){var e=d.navigator;return e&&(e=e.userAgent)?e:""}function R(e){return-1!=A().indexOf(e)}function M(e){return M[" "](e),e}function N(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}M[" "]=h;var O,Z=R("Opera"),L=R("Trident")||R("MSIE"),F=R("Edge"),V=F||L,U=R("Gecko")&&!(-1!=A().toLowerCase().indexOf("webkit")&&!R("Edge"))&&!(R("Trident")||R("MSIE"))&&!R("Edge"),j=-1!=A().toLowerCase().indexOf("webkit")&&!R("Edge");function B(){var e=d.document;return e?e.documentMode:void 0}e:{var q="",z=function(){var e=A();return U?/rv:([^\);]+)(\)|;)/.exec(e):F?/Edge\/([\d\.]+)/.exec(e):L?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):j?/WebKit\/(\S+)/.exec(e):Z?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(z&&(q=z?z[1]:""),L){var W=B();if(null!=W&&W>parseFloat(q)){O=String(W);break e}}O=q}var H,G={};if(d.document&&L){var K=B();H=K||(parseInt(O,10)||void 0)}else H=void 0;var Y=H;function Q(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(U){e:{try{M(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:X[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Q.$.h.call(this)}}T(Q,C);var X={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),$=0;function ee(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++$,this.fa=this.ia=!1}function te(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ne(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function re(e){const t={};for(const n in e)t[n]=e[n];return t}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ie.length;t++)n=ie[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function se(e){this.src=e,this.g={},this.h=0}function ae(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=x(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(te(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function le(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}se.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=le(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new ee(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var ce="closure_lm_"+(1e6*Math.random()|0),ue={};function de(e,t,n,r,i){if(r&&r.once)return pe(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)de(e,t[o],n,r,i);return null}return n=be(n),e&&e[J]?e.O(t,n,f(r)?!!r.capture:!!r,i):he(e,t,n,!1,r,i)}function he(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i,a=ye(e);if(a||(e[ce]=a=new se(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ve;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)E||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ge(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)pe(e,t[o],n,r,i);return null}return n=be(n),e&&e[J]?e.P(t,n,f(r)?!!r.capture:!!r,i):he(e,t,n,!0,r,i)}function fe(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fe(e,t[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=be(n),e&&e[J]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=le(o=e.g[t],n,r,i))&&(te(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ye(e))&&(t=e.g[t.toString()],e=-1,t&&(e=le(t,n,r,i)),(n=-1<e?t[e]:null)&&me(n))}function me(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[J])ae(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ge(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ye(t))?(ae(n,e),0==n.h&&(n.src=null,t[ce]=null)):te(e)}}}function ge(e){return e in ue?ue[e]:ue[e]="on"+e}function ve(e,t){if(e.fa)e=!0;else{t=new Q(t,this);var n=e.listener,r=e.la||e.src;e.ia&&me(e),e=n.call(r,t)}return e}function ye(e){return(e=e[ce])instanceof se?e:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(e){return"function"===typeof e?e:(e[we]||(e[we]=function(t){return e.handleEvent(t)}),e[we])}function Te(){I.call(this),this.i=new se(this),this.S=this,this.J=null}function Ie(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var i=t;oe(t=new C(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=xe(s,r,!0,t)&&i}if(i=xe(s=t.g=e,r,!0,t)&&i,i=xe(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=xe(s=t.g=n[o],r,!1,t)&&i}function xe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&ae(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}T(Te,I),Te.prototype[J]=!0,Te.prototype.removeEventListener=function(e,t,n,r){fe(this,e,t,n,r)},Te.prototype.N=function(){if(Te.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)te(n[r]);delete t.g[e],t.h--}}this.J=null},Te.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Te.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=d.JSON.stringify;function ke(){var e=Re;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ce,Ee=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new _e),(e=>e.reset()));class _e{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function De(e){d.setTimeout((()=>{throw e}),0)}function Pe(e,t){Ce||function(){var e=d.Promise.resolve(void 0);Ce=function(){e.then(Me)}}(),Ae||(Ce(),Ae=!0),Re.add(e,t)}var Ae=!1,Re=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ee.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Me(){for(var e;e=ke();){try{e.h.call(e.g)}catch(n){De(n)}var t=Ee;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ae=!1}function Ne(e,t){Te.call(this),this.h=e||1,this.g=t||d,this.j=w(this.qb,this),this.l=Date.now()}function Oe(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ze(e,t,n){if("function"===typeof e)n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function Le(e){e.g=Ze((()=>{e.g=null,e.i&&(e.i=!1,Le(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}T(Ne,Te),(r=Ne.prototype).ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ie(this,"tick"),this.ga&&(Oe(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Ne.$.N.call(this),Oe(this),delete this.g};class Fe extends I{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(e){I.call(this),this.h=e,this.g={}}T(Ve,I);var Ue=[];function je(e,t,n,r){Array.isArray(n)||(n&&(Ue[0]=n.toString()),n=Ue);for(var i=0;i<n.length;i++){var o=de(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Be(e){ne(e.g,(function(e,t){this.g.hasOwnProperty(t)&&me(e)}),e),e.g={}}function qe(){this.g=!0}function ze(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Se(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ve.prototype.N=function(){Ve.$.N.call(this),Be(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qe.prototype.Ea=function(){this.g=!1},qe.prototype.info=function(){};var We={},He=null;function Ge(){return He=He||new Te}function Ke(e){C.call(this,We.Ta,e)}function Ye(e){const t=Ge();Ie(t,new Ke(t))}function Qe(e,t){C.call(this,We.STAT_EVENT,e),this.stat=t}function Xe(e){const t=Ge();Ie(t,new Qe(t,e))}function Je(e,t){C.call(this,We.Ua,e),this.size=t}function $e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){e()}),t)}We.Ta="serverreachability",T(Ke,C),We.STAT_EVENT="statevent",T(Qe,C),We.Ua="timingevent",T(Je,C);var et={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nt(){}function rt(e){return e.h||(e.h=e.i())}function it(){}nt.prototype.h=null;var ot,st={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function at(){C.call(this,"d")}function lt(){C.call(this,"c")}function ct(){}function ut(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ve(this),this.P=ht,e=V?125:void 0,this.V=new Ne(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}T(at,C),T(lt,C),T(ct,nt),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},ot=new ct;var ht=45e3,pt={},ft={};function mt(e,t,n){e.L=1,e.v=Nt(Dt(t)),e.s=n,e.S=!0,gt(e,null)}function gt(e,t){e.G=Date.now(),bt(e),e.A=Dt(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Gt(n.i,"t",r),e.C=0,n=e.l.I,e.h=new dt,e.g=Kn(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Fe(w(e.Pa,e,e.g),e.O)),je(e.U,e.g,"readystatechange",e.nb),t=e.I?re(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ye(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function vt(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function yt(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=wt(e,n),r==ft){4==t&&(e.o=4,Xe(14),i=!1),ze(e.j,e.m,null,"[Incomplete Response]");break}if(r==pt){e.o=4,Xe(15),ze(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ze(e.j,e.m,r,null),kt(e,r)}vt(e)&&r!=ft&&r!=pt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xe(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Un(t),t.L=!0,Xe(11))):(ze(e.j,e.m,n,"[Invalid Chunked Response]"),St(e),xt(e))}function wt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ft:(n=Number(t.substring(n,r)),isNaN(n)?pt:(r+=1)+n>t.length?ft:(t=t.substr(r,n),e.C=r+n,t))}function bt(e){e.Y=Date.now()+e.P,Tt(e,e.P)}function Tt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=$e(w(e.lb,e),t)}function It(e){e.B&&(d.clearTimeout(e.B),e.B=null)}function xt(e){0==e.l.H||e.J||qn(e.l,e)}function St(e){It(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Oe(e.V),Be(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function kt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||en(n.h,e)))if(!e.K&&en(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Bn(n),Rn(n)}Vn(n),Xe(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=$e(w(n.ib,n),6e3));if(1>=$t(n.h)&&n.na){try{n.na()}catch(c){}n.na=void 0}}else Wn(n,11)}else if((e.K||n.g==e)&&Bn(n),!_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.J=c[1],n.oa=c[2];const t=c[3];null!=t&&(n.qa=t,n.j.info("VER="+n.qa));const i=c[4];null!=i&&(n.Ga=i,n.j.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(tn(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Mt(r.G,r.F,e))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Gn(r,r.I?r.oa:null,r.Y),s.K){nn(r.h,s);var a=s,l=r.K;l&&a.setTimeout(l),a.B&&(It(a),bt(a)),r.g=s}else Fn(r);0<n.i.length&&Nn(n)}else"stop"!=c[0]&&"close"!=c[0]||Wn(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Wn(n,7):An(n):"noop"!=c[0]&&n.l&&n.l.Aa(c),n.A=0)}Ye()}catch(c){}}function Ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(p(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(r=ut.prototype).setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==kn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const u=kn(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||V||this.g&&(this.h.h||this.g.ja()||Cn(this.g)))){this.J||4!=u||7==t||Ye(),It(this);var n=this.g.da();this.aa=n;t:if(vt(this)){var r=Cn(this.g);e="";var i=r.length,o=4==kn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){St(this),xt(this);var s="";break t}this.h.i=new d.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Xe(12),St(this),xt(this);break e}ze(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kt(this,n)}this.S?(yt(this,u,s),V&&this.i&&3==u&&(je(this.U,this.V,"tick",this.mb),this.V.start())):(ze(this.j,this.m,s,null),kt(this,s)),4==u&&St(this),this.i&&!this.J&&(4==u?qn(this.l,this):(this.i=!1,bt(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Xe(12)):(this.o=0,Xe(13)),St(this),xt(this)}}}catch(u){}},r.mb=function(){if(this.g){var e=kn(this.g),t=this.g.ja();this.C<t.length&&(It(this),yt(this,e,t),this.i&&4!=e&&bt(this))}},r.cancel=function(){this.J=!0,St(this)},r.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ye(),Xe(17)),St(this),this.o=2,xt(this)):Tt(this,this.Y-e)};var Et=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _t(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _t){this.h=void 0!==t?t:e.h,Pt(this,e.j),this.s=e.s,this.g=e.g,At(this,e.m),this.l=e.l,t=e.i;var n=new qt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Rt(this,n),this.o=e.o}else e&&(n=String(e).match(Et))?(this.h=!!t,Pt(this,n[1]||"",!0),this.s=Ot(n[2]||""),this.g=Ot(n[3]||"",!0),At(this,n[4]),this.l=Ot(n[5]||"",!0),Rt(this,n[6]||"",!0),this.o=Ot(n[7]||"")):(this.h=!!t,this.i=new qt(null,this.h))}function Dt(e){return new _t(e)}function Pt(e,t,n){e.j=n?Ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function At(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Rt(e,t,n){t instanceof qt?(e.i=t,function(e,t){t&&!e.j&&(zt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wt(this,t),Gt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Zt(t,jt)),e.i=new qt(t,e.h))}function Mt(e,t,n){e.i.set(t,n)}function Nt(e){return Mt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}_t.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zt(t,Ft,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zt(t,Ft,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zt(n,"/"==n.charAt(0)?Ut:Vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zt(n,Bt)),e.join("")};var Ft=/[#\/\?@]/g,Vt=/[#\?:]/g,Ut=/[#\?]/g,jt=/[#\?@]/g,Bt=/#/g;function qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wt(e,t){zt(e),t=Kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ht(e,t){return zt(e),t=Kt(e,t),e.g.has(t)}function Gt(e,t,n){Wt(e,t),0<n.length&&(e.i=null,e.g.set(Kt(e,t),S(n)),e.h+=n.length)}function Kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=qt.prototype).add=function(e,t){zt(this),this.i=null,e=Kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){zt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.sa=function(){zt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){zt(this);let t=[];if("string"===typeof e)Ht(this,e)&&(t=t.concat(this.g.get(Kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return zt(this),this.i=null,Ht(this,e=Kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function Yt(e){this.l=e||Xt,d.PerformanceNavigationTiming?e=0<(e=d.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(d.g&&d.g.Ka&&d.g.Ka()&&d.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qt,Xt=10;function Jt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $t(e){return e.h?1:e.g?e.g.size:0}function en(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tn(e,t){e.g?e.g.add(t):e.h=t}function nn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rn(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return S(e.i)}function on(){}function sn(){this.g=new on}function an(e,t,n){const r=n||"";try{Ct(e,(function(e,n){let i=e;f(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function cn(e){this.l=e.fc||null,this.j=e.ob||!1}function un(e,t){Te.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=dn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},on.prototype.stringify=function(e){return d.JSON.stringify(e,void 0)},on.prototype.parse=function(e){return d.JSON.parse(e,void 0)},T(cn,nt),cn.prototype.g=function(){return new un(this.l,this.j)},cn.prototype.i=(Qt={},function(){return Qt}),T(un,Te);var dn=0;function hn(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function pn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fn(e)}function fn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=un.prototype).open=function(e,t){if(this.readyState!=dn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||d).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pn(this)),this.readyState=dn},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fn(this)),this.g&&(this.readyState=3,fn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hn(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pn(this):fn(this),3==this.readyState&&hn(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,pn(this))},r.Ya=function(e){this.g&&(this.response=e,pn(this))},r.ka=function(){this.g&&pn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(un.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mn=d.JSON.parse;function gn(e){Te.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vn,this.L=this.M=!1}T(gn,Te);var vn="",yn=/^https?$/i,wn=["POST","PUT"];function bn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tn(e),xn(e)}function Tn(e){e.F||(e.F=!0,Ie(e,"complete"),Ie(e,"error"))}function In(e){if(e.h&&"undefined"!=typeof u&&(!e.C[1]||4!=kn(e)||2!=e.da()))if(e.v&&4==kn(e))Ze(e.La,0,e);else if(Ie(e,"readystatechange"),4==kn(e)){e.h=!1;try{const l=e.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.I).match(Et)[1]||null;if(!i&&d.self&&d.self.location){var o=d.self.location.protocol;i=o.substr(0,o.length-1)}r=!yn.test(i?i.toLowerCase():"")}n=r}if(n)Ie(e,"complete"),Ie(e,"success");else{e.m=6;try{var s=2<kn(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Tn(e)}}finally{xn(e)}}}function xn(e,t){if(e.g){Sn(e);const r=e.g,i=e.C[0]?h:null;e.g=null,e.C=null,t||Ie(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Sn(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function kn(e){return e.g?e.g.readyState:0}function Cn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case vn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ar){return null}}function En(e){let t="";return ne(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function _n(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=En(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Mt(e,t,n))}function Dn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pn(e){this.Ga=0,this.i=[],this.j=new qe,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dn("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dn("baseRetryDelayMs",5e3,e),this.hb=Dn("retryDelaySeedMs",1e4,e),this.eb=Dn("forwardChannelMaxRetries",2,e),this.xa=Dn("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Yt(e&&e.concurrentRequestLimit),this.Ja=new sn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function An(e){if(Mn(e),3==e.H){var t=e.W++,n=Dt(e.G);Mt(n,"SID",e.J),Mt(n,"RID",t),Mt(n,"TYPE","terminate"),Zn(e,n),(t=new ut(e,e.j,t,void 0)).L=2,t.v=Nt(Dt(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(t.v.toString(),"")),!n&&d.Image&&((new Image).src=t.v,n=!0),n||(t.g=Kn(t.l,null),t.g.ha(t.v)),t.G=Date.now(),bt(t)}Hn(e)}function Rn(e){e.g&&(Un(e),e.g.cancel(),e.g=null)}function Mn(e){Rn(e),e.u&&(d.clearTimeout(e.u),e.u=null),Bn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&d.clearTimeout(e.m),e.m=null)}function Nn(e){Jt(e.h)||e.m||(e.m=!0,Pe(e.Na,e),e.C=0)}function On(e,t){var n;n=t?t.m:e.W++;const r=Dt(e.G);Mt(r,"SID",e.J),Mt(r,"RID",n),Mt(r,"AID",e.V),Zn(e,r),e.o&&e.s&&_n(r,e.o,e.s),n=new ut(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=Ln(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),tn(e.h,n),mt(n,r,t)}function Zn(e,t){e.ma&&ne(e.ma,(function(e,n){Mt(t,n,e)})),e.l&&Ct({},(function(e,n){Mt(t,n,e)}))}function Ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?w(e.l.Va,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),o=!1;else try{an(a,e,"req"+n+"_")}catch(zr){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.F=e,r}function Fn(e){e.g||e.u||(e.ba=1,Pe(e.Ma,e),e.A=0)}function Vn(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=$e(w(e.Ma,e),zn(e,e.A)),e.A++,!0)}function Un(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function jn(e){e.g=new ut(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Dt(e.wa);Mt(t,"RID","rpc"),Mt(t,"SID",e.J),Mt(t,"CI",e.M?"0":"1"),Mt(t,"AID",e.V),Mt(t,"TYPE","xmlhttp"),Zn(e,t),e.o&&e.s&&_n(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Nt(Dt(t)),n.s=null,n.S=!0,gt(n,e)}function Bn(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function qn(e,t){var n=null;if(e.g==t){Bn(e),Un(e),e.g=null;var r=2}else{if(!en(e.h,t))return;n=t.F,nn(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ie(r=Ge(),new Je(r,n)),Nn(e)}else Fn(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!($t(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=$e(w(e.Na,e,t),zn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Wn(e,5);break;case 4:Wn(e,10);break;case 3:Wn(e,6);break;default:Wn(e,2)}}function zn(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Wn(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=w(e.pb,e);n||(n=new _t("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Pt(n,"https"),Nt(n)),function(e,t){const n=new qe;if(d.Image){const r=new Image;r.onload=b(ln,n,r,"TestLoadImage: loaded",!0,t),r.onerror=b(ln,n,r,"TestLoadImage: error",!1,t),r.onabort=b(ln,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=b(ln,n,r,"TestLoadImage: timeout",!1,t),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xe(2);e.H=0,e.l&&e.l.za(t),Hn(e),Mn(e)}function Hn(e){if(e.H=0,e.pa=[],e.l){const t=rn(e.h);0==t.length&&0==e.i.length||(k(e.pa,t),k(e.pa,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ya()}}function Gn(e,t,n){var r=n instanceof _t?Dt(n):new _t(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),At(r,r.m);else{var i=d.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new _t(null,void 0);r&&Pt(o,r),t&&(o.g=t),i&&At(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Mt(r,n,t),Mt(r,"VER",e.qa),Zn(e,r),r}function Kn(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new gn(new cn({ob:!0})):new gn(e.va)).Oa(e.I),t}function Yn(){}function Qn(){if(L&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function Xn(e,t){Te.call(this),this.g=new Pn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new er(this)}function Jn(e){at.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $n(){lt.call(this),this.status=1}function er(e){this.g=e}function tr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nr(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function rr(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(r=gn.prototype).Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ot.g(),this.C=this.u?rt(this.u):rt(ot),this.g.onreadystatechange=w(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void bn(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=d.FormData&&e instanceof d.FormData,!(0<=x(wn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sn(this),0<this.B&&((this.L=function(e){return L&&N(G,9,(function(){let e=0;const t=D(String(O)).split("."),n=D("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=P(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||P(0==i[2].length,0==o[2].length)||P(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.ua,this)):this.A=Ze(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){bn(this,o)}},r.ua=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ie(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ie(this,"complete"),Ie(this,"abort"),xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xn(this,!0)),gn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?In(this):this.kb())},r.kb=function(){In(this)},r.da=function(){try{return 2<kn(this)?this.g.status:-1}catch(Qt){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(Qt){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Pn.prototype).qa=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ut(this,this.j,e,void 0);let o=this.s;if(this.U&&(o?(o=re(o),oe(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ln(this,i,t),Mt(n=Dt(this.G),"RID",e),Mt(n,"CVER",22),this.F&&Mt(n,"X-HTTP-Session-Id",this.F),Zn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(En(o)))+"&"+t:this.o&&_n(n,this.o,o)),tn(this.h,i),this.bb&&Mt(n,"TYPE","init"),this.P?(Mt(n,"$req",t),Mt(n,"SID","null"),i.ba=!0,mt(i,n,null)):mt(i,n,t),this.H=2}}else 3==this.H&&(e?On(this,e):0==this.i.length||Jt(this.h)||On(this))},r.Ma=function(){if(this.u=null,jn(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=$e(w(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Xe(10),Rn(this),jn(this))},r.ib=function(){null!=this.v&&(this.v=null,Rn(this),Vn(this),Xe(19))},r.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))},(r=Yn.prototype).Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.Va=function(){},Qn.prototype.g=function(e,t){return new Xn(e,t)},T(Xn,Te),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Xe(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=Gn(e,null,e.Y),Nn(e)},Xn.prototype.close=function(){An(this.g)},Xn.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Se(e),e=n);t.i.push(new class{constructor(e,t){this.h=e,this.g=t}}(t.fb++,e)),3==t.H&&Nn(t)},Xn.prototype.N=function(){this.g.l=null,delete this.j,An(this.g),delete this.g,Xn.$.N.call(this)},T(Jn,at),T($n,lt),T(er,Yn),er.prototype.Ba=function(){Ie(this.g,"a")},er.prototype.Aa=function(e){Ie(this.g,new Jn(e))},er.prototype.za=function(e){Ie(this.g,new $n)},er.prototype.ya=function(){Ie(this.g,"b")},T(tr,(function(){this.blockSize=-1})),tr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},tr.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)nr(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){nr(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){nr(this,r),i=0;break}}this.h=i,this.i+=t},tr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ir={};function or(e){return-128<=e&&128>e?N(ir,e,(function(e){return new rr([0|e],0>e?-1:0)})):new rr([0|e],0>e?-1:0)}function sr(e){if(isNaN(e)||!isFinite(e))return lr;if(0>e)return pr(sr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ar;return new rr(t,0)}var ar=4294967296,lr=or(0),cr=or(1),ur=or(16777216);function dr(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function hr(e){return-1==e.h}function pr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new rr(n,~e.h).add(cr)}function fr(e,t){return e.add(pr(t))}function mr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function gr(e,t){this.g=e,this.h=t}function vr(e,t){if(dr(t))throw Error("division by zero");if(dr(e))return new gr(lr,lr);if(hr(e))return t=vr(pr(e),t),new gr(pr(t.g),pr(t.h));if(hr(t))return t=vr(e,pr(t)),new gr(pr(t.g),t.h);if(30<e.g.length){if(hr(e)||hr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=cr,r=t;0>=r.X(e);)n=yr(n),r=yr(r);var i=wr(n,1),o=wr(r,1);for(r=wr(r,2),n=wr(n,2);!dr(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=wr(r,1),n=wr(n,1)}return t=fr(e,i.R(t)),new gr(i,t)}for(i=lr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=sr(n)).R(t);hr(s)||0<s.X(e);)s=(o=sr(n-=r)).R(t);dr(o)&&(o=cr),i=i.add(o),e=fr(e,s)}return new gr(i,e)}function yr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new rr(n,e.h)}function wr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new rr(i,e.h)}(r=rr.prototype).ea=function(){if(hr(this))return-pr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ar+r)*t,t*=ar}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(dr(this))return"0";if(hr(this))return"-"+pr(this).toString(e);for(var t=sr(Math.pow(e,6)),n=this,r="";;){var i=vr(n,t).g,o=((0<(n=fr(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(dr(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return hr(e=fr(this,e))?-1:dr(e)?0:1},r.abs=function(){return hr(this)?pr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new rr(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(dr(this)||dr(e))return lr;if(hr(this))return hr(e)?pr(this).R(pr(e)):pr(pr(this).R(e));if(hr(e))return pr(this.R(pr(e)));if(0>this.X(ur)&&0>e.X(ur))return sr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,mr(n,2*r+2*i),n[2*r+2*i+1]+=o*l,mr(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,mr(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,mr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new rr(n,0)},r.gb=function(e){return vr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new rr(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new rr(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new rr(n,this.h^e.h)},Qn.prototype.createWebChannel=Qn.prototype.g,Xn.prototype.send=Xn.prototype.u,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,tt.COMPLETE="complete",it.EventType=st,st.OPEN="a",st.CLOSE="b",st.ERROR="c",st.MESSAGE="d",Te.prototype.listen=Te.prototype.O,gn.prototype.listenOnce=gn.prototype.P,gn.prototype.getLastError=gn.prototype.Sa,gn.prototype.getLastErrorCode=gn.prototype.Ia,gn.prototype.getStatus=gn.prototype.da,gn.prototype.getResponseJson=gn.prototype.Wa,gn.prototype.getResponseText=gn.prototype.ja,gn.prototype.send=gn.prototype.ha,gn.prototype.setWithCredentials=gn.prototype.Oa,tr.prototype.digest=tr.prototype.l,tr.prototype.reset=tr.prototype.reset,tr.prototype.update=tr.prototype.j,rr.prototype.add=rr.prototype.add,rr.prototype.multiply=rr.prototype.R,rr.prototype.modulo=rr.prototype.gb,rr.prototype.compare=rr.prototype.X,rr.prototype.toNumber=rr.prototype.ea,rr.prototype.toString=rr.prototype.toString,rr.prototype.getBits=rr.prototype.D,rr.fromNumber=sr,rr.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return pr(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=sr(Math.pow(n,8)),i=lr,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=sr(Math.pow(n,s)),i=i.R(s).add(sr(a))):i=(i=i.R(r)).add(sr(a))}return i};var br=c.createWebChannelTransport=function(){return new Qn},Tr=c.getStatEventTarget=function(){return Ge()},Ir=c.ErrorCode=et,xr=c.EventType=tt,Sr=c.Event=We,kr=c.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cr=c.FetchXmlHttpFactory=cn,Er=c.WebChannel=it,_r=c.XhrIo=gn,Dr=c.Md5=tr,Pr=c.Integer=rr;const Ar="@firebase/firestore";class Rr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let Mr="9.22.0";const Nr=new s.Yd("@firebase/firestore");function Or(){return Nr.logLevel}function Zr(e){Nr.setLogLevel(e)}function Lr(e){if(Nr.logLevel<=s.in.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ur);Nr.debug("Firestore (".concat(Mr,"): ").concat(e),...i)}}function Fr(e){if(Nr.logLevel<=s.in.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ur);Nr.error("Firestore (".concat(Mr,"): ").concat(e),...i)}}function Vr(e){if(Nr.logLevel<=s.in.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ur);Nr.warn("Firestore (".concat(Mr,"): ").concat(e),...i)}}function Ur(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Mr,") INTERNAL ASSERTION FAILED: ")+e;throw Fr(t),new Error(t)}function Br(e,t){e||jr()}function qr(e,t){e||jr()}function zr(e,t){return e}const Wr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hr extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Gr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Kr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Yr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Rr.UNAUTHENTICATED)))}shutdown(){}}class Qr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Xr{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Lr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Lr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gr)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Lr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Br("string"==typeof t.accessToken),new Kr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Br(null===e||"string"==typeof e),new Rr(e)}}class Jr{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class $r{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Jr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ei{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ti{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Lr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Lr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Lr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Lr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Br("string"==typeof e.token),this.T=e.token,new ei(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ni(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ri{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=ni(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ii(e,t){return e<t?-1:e>t?1:0}function oi(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function si(e){return e+"\0"}class ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Hr(Wr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Hr(Wr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hr(Wr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Hr(Wr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ai(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ii(this.nanoseconds,e.nanoseconds):ii(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class li{constructor(e){this.timestamp=e}static fromTimestamp(e){return new li(e)}static min(){return new li(new ai(0,0))}static max(){return new li(new ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ci{constructor(e,t,n){void 0===t?t=0:t>e.length&&jr(),void 0===n?n=e.length-t:n>e.length-t&&jr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ci.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ui extends ci{construct(e,t,n){return new ui(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new ui(e)}static emptyPath(){return new ui([])}}const di=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends ci{construct(e,t,n){return new hi(e,t,n)}static isValidIdentifier(e){return di.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Hr(Wr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Hr(Wr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Hr(Wr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class pi{constructor(e){this.path=e}static fromPath(e){return new pi(ui.fromString(e))}static fromName(e){return new pi(ui.fromString(e).popFirst(5))}static empty(){return new pi(ui.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ui.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ui.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pi(new ui(e.slice()))}}class fi{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function mi(e){return e.fields.find((e=>2===e.kind))}function gi(e){return e.fields.filter((e=>2!==e.kind))}fi.UNKNOWN_ID=-1;class vi{constructor(e,t){this.fieldPath=e,this.kind=t}}class yi{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yi(0,Ti.min())}}function wi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=li.fromTimestamp(1e9===r?new ai(n+1,0):new ai(n,r));return new Ti(i,pi.empty(),t)}function bi(e){return new Ti(e.readTime,e.key,-1)}class Ti{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ti(li.min(),pi.empty(),-1)}static max(){return new Ti(li.max(),pi.empty(),-1)}}function Ii(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=pi.comparator(e.documentKey,t.documentKey),0!==n?n:ii(e.largestBatchId,t.largestBatchId))}const xi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Si{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ki(e){if(e.code!==Wr.FAILED_PRECONDITION||e.message!==xi)throw e;Lr("LocalStore","Unexpectedly lost primary lease")}class Ci{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ci(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ci?t:Ci.resolve(t)}catch(e){return Ci.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ci.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ci.reject(t)}static resolve(e){return new Ci(((t,n)=>{t(e)}))}static reject(e){return new Ci(((t,n)=>{n(e)}))}static waitFor(e){return new Ci(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Ci.resolve(!1);for(const n of e)t=t.next((e=>e?Ci.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ci(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ci(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Ei{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Gr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Pi(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=Oi(t.target.error);this.v.reject(new Pi(e,n))}}static open(e,t,n,r){try{return new Ei(t,e.transaction(r,n))}catch(e){throw new Pi(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Lr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ri(t)}}class _i{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===_i.S((0,a.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Lr("SimpleDb","Removing database:",e),Mi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,a.hl)())return!1;if(_i.C())return!0;const e=(0,a.z$)(),t=_i.S(e),n=0<t&&t<10,r=_i.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDTkNut57bBIDCj7yo1ZHN1KoKsx_5I5Fo",REACT_APP_FIREBASE_AUTH_DOMAIN:"scheduler-25721.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://scheduler-25721-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"scheduler-25721",REACT_APP_FIREBASE_STORAGE_BUCKET:"scheduler-25721.appspot.com",REACT_APP_FIREBASE_SENDER_ID:"956203334049",REACT_APP_FIREBASE_APP_ID:"1:956203334049:web:eb53d3e2638f6289a9b3e0",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-ZLGG19MEDK",REACT_APP_CAPTCHA_SITE_KEY:"6LeDCd0lAAAAAOpVA3Hc_kSwoZmmVjpTEF4x1OaZ"})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Lr("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Pi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Hr(Wr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Hr(Wr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Pi(e,r))},r.onupgradeneeded=e=>{Lr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Lr("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.$(e);const t=Ei.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Ci.reject(e)))).toPromise();return o.catch((()=>{})),await t.R,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Lr("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Di{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Mi(this.L.delete())}}class Pi extends Hr{constructor(e,t){super(Wr.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Ai(e){return"IndexedDbTransactionError"===e.name}class Ri{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Lr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Lr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Mi(n)}add(e){return Lr("SimpleDb","ADD",this.store.name,e,e),Mi(this.store.add(e))}get(e){return Mi(this.store.get(e)).next((t=>(void 0===t&&(t=null),Lr("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Lr("SimpleDb","DELETE",this.store.name,e),Mi(this.store.delete(e))}count(){return Lr("SimpleDb","COUNT",this.store.name),Mi(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Ci(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ci(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Lr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new Ci(((n,r)=>{t.onerror=e=>{const t=Oi(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Ci(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Di(i),s=t(i.primaryKey,i.value,o);if(s instanceof Ci){const e=s.catch((e=>(o.done(),Ci.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Ci.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Mi(e){return new Ci(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Oi(e.target.error);n(t)}}))}let Ni=!1;function Oi(e){const t=_i.S((0,a.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Hr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ni||(Ni=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Zi{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){Lr("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Lr("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){Ai(e)?Lr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ki(e)}await this.et(6e4)}))}}class Li{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return Ci.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Lr("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(Lr("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=bi(t);Ii(r,n)>0&&(n=r)})),new Ti(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Fi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Vi(e){return null==e}function Ui(e){return 0===e&&1/e==-1/0}function ji(e){return"number"==typeof e&&Number.isInteger(e)&&!Ui(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Bi(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=zi(t)),t=qi(e.get(n),t);return zi(t)}function qi(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function zi(e){return e+"\x01\x01"}function Wi(e){const t=e.length;if(Br(t>=2),2===t)return Br("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ui.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&jr(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:jr()}o=t+2}return new ui(r)}Fi.ct=-1;const Hi=["userId","batchId"];function Gi(e,t){return[e,Bi(t)]}function Ki(e,t,n){return[e,Bi(t),n]}const Yi={},Qi=["prefixPath","collectionGroup","readTime","documentId"],Xi=["prefixPath","collectionGroup","documentId"],Ji=["collectionGroup","readTime","prefixPath","documentId"],$i=["canonicalId","targetId"],eo=["targetId","path"],to=["path","targetId"],no=["collectionId","parent"],ro=["indexId","uid"],io=["uid","sequenceNumber"],oo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],so=["indexId","uid","orderedDocumentKey"],ao=["userId","collectionPath","documentId"],lo=["userId","collectionPath","largestBatchId"],co=["userId","collectionGroup","largestBatchId"],uo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ho=[...uo,"documentOverlays"],po=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fo=po,mo=[...fo,"indexConfiguration","indexState","indexEntries"];class go extends Si{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function vo(e,t){const n=zr(e);return _i.M(n.ht,t)}function yo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class To{constructor(e,t){this.comparator=e,this.root=t||xo.EMPTY}insert(e,t){return new To(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xo.BLACK,null,null))}remove(e){return new To(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Io(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Io(this.root,e,this.comparator,!1)}getReverseIterator(){return new Io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Io(this.root,e,this.comparator,!0)}}class Io{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:xo.RED,this.left=null!=r?r:xo.EMPTY,this.right=null!=i?i:xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new xo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return xo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jr();if(this.right.isRed())throw jr();const e=this.left.check();if(e!==this.right.check())throw jr();return e+(this.isRed()?0:1)}}xo.EMPTY=null,xo.RED=!0,xo.BLACK=!1,xo.EMPTY=new class{constructor(){this.size=0}get key(){throw jr()}get value(){throw jr()}get color(){throw jr()}get left(){throw jr()}get right(){throw jr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new xo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class So{constructor(e){this.comparator=e,this.data=new To(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ko(this.data.getIterator())}getIteratorFrom(e){return new ko(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof So))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new So(this.comparator);return t.data=e,t}}class ko{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Co(e){return e.hasNext()?e.getNext():void 0}class Eo{constructor(e){this.fields=e,e.sort(hi.comparator)}static empty(){return new Eo([])}unionWith(e){let t=new So(hi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Eo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oi(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class _o extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Do(){return"undefined"!=typeof atob}class Po{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new _o("Invalid base64 string: "+e):e}}(e);return new Po(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Po(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ii(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Po.EMPTY_BYTE_STRING=new Po("");const Ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(e){if(Br(!!e),"string"==typeof e){let t=0;const n=Ao.exec(e);if(Br(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Mo(e.seconds),nanos:Mo(e.nanos)}}function Mo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function No(e){return"string"==typeof e?Po.fromBase64String(e):Po.fromUint8Array(e)}function Oo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zo(e){const t=e.mapValue.fields.__previous_value__;return Oo(t)?Zo(t):t}function Lo(e){const t=Ro(e.mapValue.fields.__local_write_time__.timestampValue);return new ai(t.seconds,t.nanos)}class Fo{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Vo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}const Uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jo={nullValue:"NULL_VALUE"};function Bo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oo(e)?4:ns(e)?9007199254740991:10:jr()}function qo(e,t){if(e===t)return!0;const n=Bo(e);if(n!==Bo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lo(e).isEqual(Lo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ro(e.timestampValue),r=Ro(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return No(e.bytesValue).isEqual(No(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mo(e.geoPointValue.latitude)===Mo(t.geoPointValue.latitude)&&Mo(e.geoPointValue.longitude)===Mo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mo(e.integerValue)===Mo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Mo(e.doubleValue),r=Mo(t.doubleValue);return n===r?Ui(n)===Ui(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oi(e.arrayValue.values||[],t.arrayValue.values||[],qo);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yo(n)!==yo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qo(n[i],r[i])))return!1;return!0}(e,t);default:return jr()}}function zo(e,t){return void 0!==(e.values||[]).find((e=>qo(e,t)))}function Wo(e,t){if(e===t)return 0;const n=Bo(e),r=Bo(t);if(n!==r)return ii(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ii(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Mo(e.integerValue||e.doubleValue),r=Mo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ho(e.timestampValue,t.timestampValue);case 4:return Ho(Lo(e),Lo(t));case 5:return ii(e.stringValue,t.stringValue);case 6:return function(e,t){const n=No(e),r=No(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ii(n[i],r[i]);if(0!==e)return e}return ii(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ii(Mo(e.latitude),Mo(t.latitude));return 0!==n?n:ii(Mo(e.longitude),Mo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Wo(n[i],r[i]);if(e)return e}return ii(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Uo.mapValue&&t===Uo.mapValue)return 0;if(e===Uo.mapValue)return 1;if(t===Uo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=ii(r[s],o[s]);if(0!==e)return e;const t=Wo(n[r[s]],i[o[s]]);if(0!==t)return t}return ii(r.length,o.length)}(e.mapValue,t.mapValue);default:throw jr()}}function Ho(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ii(e,t);const n=Ro(e),r=Ro(t),i=ii(n.seconds,r.seconds);return 0!==i?i:ii(n.nanos,r.nanos)}function Go(e){return Ko(e)}function Ko(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ro(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?No(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pi.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ko(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ko(e.fields[i]));return n+"}"}(e.mapValue):jr();var t,n}function Yo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qo(e){return!!e&&"integerValue"in e}function Xo(e){return!!e&&"arrayValue"in e}function Jo(e){return!!e&&"nullValue"in e}function $o(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function es(e){return!!e&&"mapValue"in e}function ts(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ts(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ts(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ns(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function rs(e){return"nullValue"in e?jo:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Yo(Vo.empty(),pi.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:jr()}function is(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Yo(Vo.empty(),pi.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Uo:jr()}function os(e,t){const n=Wo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ss(e,t){const n=Wo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!es(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ts(t)}setAll(e){let t=hi.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ts(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());es(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];es(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new as(ts(this.value))}}function ls(e){const t=[];return wo(e.fields,((e,n)=>{const r=new hi([e]);if(es(n)){const e=ls(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Eo(t)}class cs{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new cs(e,0,li.min(),li.min(),li.min(),as.empty(),0)}static newFoundDocument(e,t,n,r){return new cs(e,1,t,li.min(),n,r,0)}static newNoDocument(e,t){return new cs(e,2,t,li.min(),li.min(),as.empty(),0)}static newUnknownDocument(e,t){return new cs(e,3,t,li.min(),li.min(),as.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(li.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=li.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class us{constructor(e,t){this.position=e,this.inclusive=t}}function ds(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?pi.comparator(pi.fromName(s.referenceValue),n.key):Wo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function hs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qo(e.position[n],t.position[n]))return!1;return!0}class ps{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function fs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ms{}class gs extends ms{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Cs(e,t,n):"array-contains"===t?new Ps(e,n):"in"===t?new As(e,n):"not-in"===t?new Rs(e,n):"array-contains-any"===t?new Ms(e,n):new gs(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Es(e,n):new _s(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wo(t,this.value)):null!==t&&Bo(this.value)===Bo(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vs extends ms{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new vs(e,t)}matches(e){return ys(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ys(e){return"and"===e.op}function ws(e){return"or"===e.op}function bs(e){return Ts(e)&&ys(e)}function Ts(e){for(const t of e.filters)if(t instanceof vs)return!1;return!0}function Is(e){if(e instanceof gs)return e.field.canonicalString()+e.op.toString()+Go(e.value);if(bs(e))return e.filters.map((e=>Is(e))).join(",");{const t=e.filters.map((e=>Is(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function xs(e,t){return e instanceof gs?function(e,t){return t instanceof gs&&e.op===t.op&&e.field.isEqual(t.field)&&qo(e.value,t.value)}(e,t):e instanceof vs?function(e,t){return t instanceof vs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&xs(n,t.filters[r])),!0)}(e,t):void jr()}function Ss(e,t){const n=e.filters.concat(t);return vs.create(n,e.op)}function ks(e){return e instanceof gs?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Go(e.value))}(e):e instanceof vs?function(e){return e.op.toString()+" {"+e.getFilters().map(ks).join(" ,")+"}"}(e):"Filter"}class Cs extends gs{constructor(e,t,n){super(e,t,n),this.key=pi.fromName(n.referenceValue)}matches(e){const t=pi.comparator(e.key,this.key);return this.matchesComparison(t)}}class Es extends gs{constructor(e,t){super(e,"in",t),this.keys=Ds("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _s extends gs{constructor(e,t){super(e,"not-in",t),this.keys=Ds("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ds(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>pi.fromName(e.referenceValue)))}class Ps extends gs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xo(t)&&zo(t.arrayValue,this.value)}}class As extends gs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zo(this.value.arrayValue,t)}}class Rs extends gs{constructor(e,t){super(e,"not-in",t)}matches(e){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zo(this.value.arrayValue,t)}}class Ms extends gs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>zo(this.value.arrayValue,e)))}}class Ns{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function Os(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ns(e,t,n,r,i,o,s)}function Zs(e){const t=zr(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Is(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Vi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Go(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Go(e))).join(",")),t.dt=e}return t.dt}function Ls(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hs(e.startAt,t.startAt)&&hs(e.endAt,t.endAt)}function Fs(e){return pi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Vs(e,t){return e.filters.filter((e=>e instanceof gs&&e.field.isEqual(t)))}function Us(e,t,n){let r=jo,i=!0;for(const o of Vs(e,t)){let e=jo,t=!0;switch(o.op){case"<":case"<=":e=rs(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=jo}os({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];os({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function js(e,t,n){let r=Uo,i=!0;for(const o of Vs(e,t)){let e=Uo,t=!0;switch(o.op){case">=":case">":e=is(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Uo}ss({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ss({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Bs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function qs(e,t,n,r,i,o,s,a){return new Bs(e,t,n,r,i,o,s,a)}function zs(e){return new Bs(e)}function Ws(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gs(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Ks(e){return null!==e.collectionGroup}function Ys(e){const t=zr(e);if(null===t.wt){t.wt=[];const e=Gs(t),n=Hs(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new ps(e)),t.wt.push(new ps(hi.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ps(hi.keyField(),e))}}}return t.wt}function Qs(e){const t=zr(e);if(!t._t)if("F"===t.limitType)t._t=Os(t.path,t.collectionGroup,Ys(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Ys(t)){const t="desc"===i.dir?"asc":"desc";e.push(new ps(i.field,t))}const n=t.endAt?new us(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new us(t.startAt.position,t.startAt.inclusive):null;t._t=Os(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Xs(e,t){t.getFirstInequalityField(),Gs(e);const n=e.filters.concat([t]);return new Bs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Js(e,t,n){return new Bs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $s(e,t){return Ls(Qs(e),Qs(t))&&e.limitType===t.limitType}function ea(e){return"".concat(Zs(Qs(e)),"|lt:").concat(e.limitType)}function ta(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ks(e))).join(", "),"]")),Vi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Go(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Go(e))).join(",")),"Target(".concat(t,")")}(Qs(e)),"; limitType=").concat(e.limitType,")")}function na(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ys(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ds(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ys(e),t))&&!(e.endAt&&!function(e,t,n){const r=ds(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ys(e),t))}(e,t)}function ra(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ia(e){return(t,n)=>{let r=!1;for(const i of Ys(e)){const e=oa(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function oa(e,t,n){const r=e.field.isKeyField()?pi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wo(r,i):jr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jr()}}class sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return bo(this.inner)}size(){return this.innerSize}}const aa=new To(pi.comparator);function la(){return aa}const ca=new To(pi.comparator);function ua(){let e=ca;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function da(e){let t=ca;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ha(){return fa()}function pa(){return fa()}function fa(){return new sa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ma=new To(pi.comparator),ga=new So(pi.comparator);function va(){let e=ga;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ya=new So(ii);function wa(){return ya}function ba(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ui(t)?"-0":t}}function Ta(e){return{integerValue:""+e}}function Ia(e,t){return ji(t)?Ta(t):ba(e,t)}class xa{constructor(){this._=void 0}}function Sa(e,t,n){return e instanceof Ea?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Oo(t)&&(t=Zo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof _a?Da(e,t):e instanceof Pa?Aa(e,t):function(e,t){const n=Ca(e,t),r=Ma(n)+Ma(e.gt);return Qo(n)&&Qo(e.gt)?Ta(r):ba(e.serializer,r)}(e,t)}function ka(e,t,n){return e instanceof _a?Da(e,t):e instanceof Pa?Aa(e,t):n}function Ca(e,t){return e instanceof Ra?Qo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ea extends xa{}class _a extends xa{constructor(e){super(),this.elements=e}}function Da(e,t){const n=Na(t);for(const r of e.elements)n.some((e=>qo(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Pa extends xa{constructor(e){super(),this.elements=e}}function Aa(e,t){let n=Na(t);for(const r of e.elements)n=n.filter((e=>!qo(e,r)));return{arrayValue:{values:n}}}class Ra extends xa{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ma(e){return Mo(e.integerValue||e.doubleValue)}function Na(e){return Xo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Oa{constructor(e,t){this.field=e,this.transform=t}}class Za{constructor(e,t){this.version=e,this.transformResults=t}}class La{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new La}static exists(e){return new La(void 0,e)}static updateTime(e){return new La(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Va{}function Ua(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qa(e.key,La.none()):new Wa(e.key,e.data,La.none());{const n=e.data,r=as.empty();let i=new So(hi.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ha(e.key,r,new Eo(i.toArray()),La.none())}}function ja(e,t,n){e instanceof Wa?function(e,t,n){const r=e.value.clone(),i=Ka(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ha?function(e,t,n){if(!Fa(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ka(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ga(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ba(e,t,n,r){return e instanceof Wa?function(e,t,n,r){if(!Fa(e.precondition,t))return n;const i=e.value.clone(),o=Ya(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ha?function(e,t,n,r){if(!Fa(e.precondition,t))return n;const i=Ya(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ga(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Fa(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qa(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ca(r.transform,e||null);null!=i&&(null===n&&(n=as.empty()),n.set(r.field,i))}return n||null}function za(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&oi(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _a&&t instanceof _a||e instanceof Pa&&t instanceof Pa?oi(e.elements,t.elements,qo):e instanceof Ra&&t instanceof Ra?qo(e.gt,t.gt):e instanceof Ea&&t instanceof Ea}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wa extends Va{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ha extends Va{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ga(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ka(e,t,n){const r=new Map;Br(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ka(s,a,n[i]))}return r}function Ya(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Sa(e,o,t))}return r}class Qa extends Va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xa extends Va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ja{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ja(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ba(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ba(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=pa();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Ua(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(li.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),va())}isEqual(e){return this.batchId===e.batchId&&oi(this.mutations,e.mutations,((e,t)=>za(e,t)))&&oi(this.baseMutations,e.baseMutations,((e,t)=>za(e,t)))}}class $a{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Br(e.mutations.length===n.length);let r=ma;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new $a(e,t,n,r)}}class el{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class tl{constructor(e,t){this.count=e,this.unchangedNames=t}}var nl,rl;function il(e){switch(e){default:return jr();case Wr.CANCELLED:case Wr.UNKNOWN:case Wr.DEADLINE_EXCEEDED:case Wr.RESOURCE_EXHAUSTED:case Wr.INTERNAL:case Wr.UNAVAILABLE:case Wr.UNAUTHENTICATED:return!1;case Wr.INVALID_ARGUMENT:case Wr.NOT_FOUND:case Wr.ALREADY_EXISTS:case Wr.PERMISSION_DENIED:case Wr.FAILED_PRECONDITION:case Wr.ABORTED:case Wr.OUT_OF_RANGE:case Wr.UNIMPLEMENTED:case Wr.DATA_LOSS:return!0}}function ol(e){if(void 0===e)return Fr("GRPC error has no .code"),Wr.UNKNOWN;switch(e){case nl.OK:return Wr.OK;case nl.CANCELLED:return Wr.CANCELLED;case nl.UNKNOWN:return Wr.UNKNOWN;case nl.DEADLINE_EXCEEDED:return Wr.DEADLINE_EXCEEDED;case nl.RESOURCE_EXHAUSTED:return Wr.RESOURCE_EXHAUSTED;case nl.INTERNAL:return Wr.INTERNAL;case nl.UNAVAILABLE:return Wr.UNAVAILABLE;case nl.UNAUTHENTICATED:return Wr.UNAUTHENTICATED;case nl.INVALID_ARGUMENT:return Wr.INVALID_ARGUMENT;case nl.NOT_FOUND:return Wr.NOT_FOUND;case nl.ALREADY_EXISTS:return Wr.ALREADY_EXISTS;case nl.PERMISSION_DENIED:return Wr.PERMISSION_DENIED;case nl.FAILED_PRECONDITION:return Wr.FAILED_PRECONDITION;case nl.ABORTED:return Wr.ABORTED;case nl.OUT_OF_RANGE:return Wr.OUT_OF_RANGE;case nl.UNIMPLEMENTED:return Wr.UNIMPLEMENTED;case nl.DATA_LOSS:return Wr.DATA_LOSS;default:return jr()}}(rl=nl||(nl={}))[rl.OK=0]="OK",rl[rl.CANCELLED=1]="CANCELLED",rl[rl.UNKNOWN=2]="UNKNOWN",rl[rl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rl[rl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rl[rl.NOT_FOUND=5]="NOT_FOUND",rl[rl.ALREADY_EXISTS=6]="ALREADY_EXISTS",rl[rl.PERMISSION_DENIED=7]="PERMISSION_DENIED",rl[rl.UNAUTHENTICATED=16]="UNAUTHENTICATED",rl[rl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rl[rl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rl[rl.ABORTED=10]="ABORTED",rl[rl.OUT_OF_RANGE=11]="OUT_OF_RANGE",rl[rl.UNIMPLEMENTED=12]="UNIMPLEMENTED",rl[rl.INTERNAL=13]="INTERNAL",rl[rl.UNAVAILABLE=14]="UNAVAILABLE",rl[rl.DATA_LOSS=15]="DATA_LOSS";class sl{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return al}static getOrCreateInstance(){return null===al&&(al=new sl),al}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let al=null;function ll(){return new TextEncoder}const cl=new Pr([4294967295,4294967295],0);function ul(e){const t=ll().encode(e),n=new Dr;return n.update(t),new Uint8Array(n.digest())}function dl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Pr([n,r],0),new Pr([i,o],0)]}class hl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new pl("Invalid padding: ".concat(t));if(n<0)throw new pl("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new pl("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new pl("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Pr.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Pr.fromNumber(n)));return 1===r.compare(cl)&&(r=new Pr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ul(e),[n,r]=dl(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new hl(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=ul(e),[n,r]=dl(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new fl(li.min(),r,new To(ii),la(),va())}}class ml{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ml(n,t,va(),va(),va())}}class gl{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class vl{constructor(e,t){this.targetId=e,this.Vt=t}}class yl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Po.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class wl{constructor(){this.St=0,this.Dt=Il(),this.Ct=Po.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=va(),t=va(),n=va();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jr()}})),new ml(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Il()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class bl{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=la(),this.zt=Tl(),this.Wt=new To(ii)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:jr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Fs(o))if(0===r){const e=new pi(o.path);this.Yt(n,e,cs.newNoDocument(e,li.min()))}else Br(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=sl.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,s,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,l;try{a=No(i).toUint8Array()}catch(e){if(e instanceof _o)return Vr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new hl(a,o,s)}catch(e){return Vr(e instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Fs(i.target)){const t=new pi(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,cs.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=va();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new fl(e,t,this.Wt,this.jt,n);return this.jt=la(),this.zt=Tl(),this.Wt=new To(ii),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new wl,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new So(ii),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Lr("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wl),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Tl(){return new To(pi.comparator)}function Il(){return new To(pi.comparator)}const xl={asc:"ASCENDING",desc:"DESCENDING"},Sl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kl={and:"AND",or:"OR"};class Cl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function El(e,t){return e.useProto3Json||Vi(t)?t:{value:t}}function _l(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Pl(e,t){return _l(e,t.toTimestamp())}function Al(e){return Br(!!e),li.fromTimestamp(function(e){const t=Ro(e);return new ai(t.seconds,t.nanos)}(e))}function Rl(e,t){return function(e){return new ui(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ml(e){const t=ui.fromString(e);return Br(tc(t)),t}function Nl(e,t){return Rl(e.databaseId,t.path)}function Ol(e,t){const n=Ml(t);if(n.get(1)!==e.databaseId.projectId)throw new Hr(Wr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hr(Wr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pi(Vl(n))}function Zl(e,t){return Rl(e.databaseId,t)}function Ll(e){const t=Ml(e);return 4===t.length?ui.emptyPath():Vl(t)}function Fl(e){return new ui(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vl(e){return Br(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ul(e,t,n){return{name:Nl(e,t),fields:n.value.mapValue.fields}}function jl(e,t,n){const r=Ol(e,t.name),i=Al(t.updateTime),o=t.createTime?Al(t.createTime):li.min(),s=new as({mapValue:{fields:t.fields}}),a=cs.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Bl(e,t){let n;if(t instanceof Wa)n={update:Ul(e,t.key,t.value)};else if(t instanceof Qa)n={delete:Nl(e,t.key)};else if(t instanceof Ha)n={update:Ul(e,t.key,t.data),updateMask:ec(t.fieldMask)};else{if(!(t instanceof Xa))return jr();n={verify:Nl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ea)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _a)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ra)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw jr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Pl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jr()}(e,t.precondition)),n}function ql(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?La.updateTime(Al(e.updateTime)):void 0!==e.exists?La.exists(e.exists):La.none()}(t.currentDocument):La.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Br("REQUEST_TIME"===t.setToServerValue),n=new Ea;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new _a(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Pa(e)}else"increment"in t?n=new Ra(e,t.increment):jr();const r=hi.fromServerFormat(t.fieldPath);return new Oa(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Ol(e,t.update.name),o=new as({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Eo(t.map((e=>hi.fromServerFormat(e))))}(t.updateMask);return new Ha(i,o,e,n,r)}return new Wa(i,o,n,r)}if(t.delete){const r=Ol(e,t.delete);return new Qa(r,n)}if(t.verify){const r=Ol(e,t.verify);return new Xa(r,n)}return jr()}function zl(e,t){return{documents:[Zl(e,t.path)]}}function Wl(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Zl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return $l(vs.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Xl(e.field),direction:Kl(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=El(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hl(e){let t=Ll(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Br(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Gl(e);return t instanceof vs&&bs(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new ps(Jl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Vi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new us(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new us(n,t)}(n.endAt)),qs(t,i,s,o,a,"F",l,c)}function Gl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jl(e.unaryFilter.field);return gs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Jl(e.unaryFilter.field);return gs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Jl(e.unaryFilter.field);return gs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Jl(e.unaryFilter.field);return gs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return jr()}}(e):void 0!==e.fieldFilter?function(e){return gs.create(Jl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vs.create(e.compositeFilter.filters.map((e=>Gl(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return jr()}}(e.compositeFilter.op))}(e):jr()}function Kl(e){return xl[e]}function Yl(e){return Sl[e]}function Ql(e){return kl[e]}function Xl(e){return{fieldPath:e.canonicalString()}}function Jl(e){return hi.fromServerFormat(e.fieldPath)}function $l(e){return e instanceof gs?function(e){if("=="===e.op){if($o(e.value))return{unaryFilter:{field:Xl(e.field),op:"IS_NAN"}};if(Jo(e.value))return{unaryFilter:{field:Xl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($o(e.value))return{unaryFilter:{field:Xl(e.field),op:"IS_NOT_NAN"}};if(Jo(e.value))return{unaryFilter:{field:Xl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(e.field),op:Yl(e.op),value:e.value}}}(e):e instanceof vs?function(e){const t=e.getFilters().map((e=>$l(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ql(e.op),filters:t}}}(e):jr()}function ec(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function tc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class nc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:li.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:li.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Po.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new nc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rc{constructor(e){this.fe=e}}function ic(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:oc(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Nl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:_l(e,t.version.toTimestamp()),createTime:_l(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:sc(t.version)};else{if(!t.isUnknownDocument())return jr();r.unknownDocument={path:n.path.toArray(),version:sc(t.version)}}return r}function oc(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function sc(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ac(e){const t=new ai(e.seconds,e.nanoseconds);return li.fromTimestamp(t)}function lc(e,t){const n=(t.baseMutations||[]).map((t=>ql(e.fe,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>ql(e.fe,t))),i=ai.fromMillis(t.localWriteTimeMs);return new Ja(t.batchId,i,n,r)}function cc(e){const t=ac(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ac(e.lastLimboFreeSnapshotVersion):li.min();let r;var i;return void 0!==e.query.documents?(Br(1===(i=e.query).documents.length),r=Qs(zs(Ll(i.documents[0])))):r=function(e){return Qs(Hl(e))}(e.query),new nc(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Po.fromBase64String(e.resumeToken))}function uc(e,t){const n=sc(t.snapshotVersion),r=sc(t.lastLimboFreeSnapshotVersion);let i;i=Fs(t.target)?zl(e.fe,t.target):Wl(e.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zs(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dc(e){const t=Hl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Js(t,t.limit,"L"):t}function hc(e,t){return new el(t.largestBatchId,ql(e.fe,t.overlayMutation))}function pc(e,t){const n=t.path.lastSegment();return[e,Bi(t.path.popLast()),n]}function fc(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:sc(r.readTime),documentKey:Bi(r.documentKey.path),largestBatchId:r.largestBatchId}}class mc{getBundleMetadata(e,t){return gc(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:ac(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return gc(e).put({bundleId:(n=t).id,createTime:sc(Al(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return vc(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:dc(t.bundledQuery),readTime:ac(t.readTime)};var t}))}saveNamedQuery(e,t){return vc(e).put(function(e){return{name:e.name,readTime:sc(Al(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function gc(e){return vo(e,"bundles")}function vc(e){return vo(e,"namedQueries")}class yc{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new yc(e,n)}getOverlay(e,t){return wc(e).get(pc(this.userId,t)).next((e=>e?hc(this.serializer,e):null))}getOverlays(e,t){const n=ha();return Ci.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new el(t,i);r.push(this.we(e,o))})),Ci.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Bi(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(wc(e).J("collectionPathOverlayIndex",r))})),Ci.waitFor(i)}getOverlaysForCollection(e,t,n){const r=ha(),i=Bi(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return wc(e).j("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=hc(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=ha();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wc(e).X({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=hc(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}we(e,t){return wc(e).put(function(e,t,n){const[r,i,o]=pc(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Bl(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function wc(e){return vo(e,"documentOverlays")}class bc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Mo(e.integerValue));else if("doubleValue"in e){const n=Mo(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ui(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(No(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?ns(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):jr()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),pi.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Tc(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ic(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Tc(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bc.Ve=new bc;class xc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=Ic(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=Ic(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Sc{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class kc{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Cc{constructor(){this.je=new xc,this.ze=new Sc(this.je),this.We=new kc(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ec{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ec(this.indexId,this.documentKey,this.arrayValue,n)}}function _c(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Dc(e.arrayValue,t.arrayValue),0!==n?n:(n=Dc(e.directionalValue,t.directionalValue),0!==n?n:pi.comparator(e.documentKey,t.documentKey)))}function Dc(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Pc{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){Br(e.collectionGroup===this.collectionId);const t=mi(e);if(void 0!==t&&!this.en(t))return!1;const n=gi(e);let r=0,i=0;for(;r<n.length&&this.en(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ze){const e=n[r];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Ye.length||!this.sn(this.Ye[i++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ac(e){var t,n;if(Br(e instanceof gs||e instanceof vs),e instanceof gs){if(e instanceof As){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>gs.create(e.field,"==",t))))||[];return vs.create(r,"or")}return e}const r=e.filters.map((e=>Ac(e)));return vs.create(r,e.op)}function Rc(e){if(0===e.getFilters().length)return[];const t=Zc(Ac(e));return Br(Oc(t)),Mc(t)||Nc(t)?[t]:t.getFilters()}function Mc(e){return e instanceof gs}function Nc(e){return e instanceof vs&&bs(e)}function Oc(e){return Mc(e)||Nc(e)||function(e){if(e instanceof vs&&ws(e)){for(const t of e.getFilters())if(!Mc(t)&&!Nc(t))return!1;return!0}return!1}(e)}function Zc(e){if(Br(e instanceof gs||e instanceof vs),e instanceof gs)return e;if(1===e.filters.length)return Zc(e.filters[0]);const t=e.filters.map((e=>Zc(e)));let n=vs.create(t,e.op);return n=Vc(n),Oc(n)?n:(Br(n instanceof vs),Br(ys(n)),Br(n.filters.length>1),n.filters.reduce(((e,t)=>Lc(e,t))))}function Lc(e,t){let n;return Br(e instanceof gs||e instanceof vs),Br(t instanceof gs||t instanceof vs),n=e instanceof gs?t instanceof gs?function(e,t){return vs.create([e,t],"and")}(e,t):Fc(e,t):t instanceof gs?Fc(t,e):function(e,t){if(Br(e.filters.length>0&&t.filters.length>0),ys(e)&&ys(t))return Ss(e,t.getFilters());const n=ws(e)?e:t,r=ws(e)?t:e,i=n.filters.map((e=>Lc(e,r)));return vs.create(i,"or")}(e,t),Vc(n)}function Fc(e,t){if(ys(t))return Ss(t,e.getFilters());{const n=t.filters.map((t=>Lc(e,t)));return vs.create(n,"or")}}function Vc(e){if(Br(e instanceof gs||e instanceof vs),e instanceof gs)return e;const t=e.getFilters();if(1===t.length)return Vc(t[0]);if(Ts(e))return e;const n=t.map((e=>Vc(e))),r=[];return n.forEach((t=>{t instanceof gs?r.push(t):t instanceof vs&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:vs.create(r,e.op)}class Uc{constructor(){this.rn=new jc}addToCollectionParentIndex(e,t){return this.rn.add(t),Ci.resolve()}getCollectionParents(e,t){return Ci.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ci.resolve()}deleteFieldIndex(e,t){return Ci.resolve()}getDocumentsMatchingTarget(e,t){return Ci.resolve(null)}getIndexType(e,t){return Ci.resolve(0)}getFieldIndexes(e,t){return Ci.resolve([])}getNextCollectionGroupToUpdate(e){return Ci.resolve(null)}getMinOffset(e,t){return Ci.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return Ci.resolve(Ti.min())}updateCollectionGroup(e,t,n){return Ci.resolve()}updateIndexEntries(e,t){return Ci.resolve()}}class jc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new So(ui.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new So(ui.comparator)).toArray()}}const Bc=new Uint8Array(0);class qc{constructor(e,t){this.user=e,this.databaseId=t,this.on=new jc,this.un=new sa((e=>Zs(e)),((e,t)=>Ls(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:Bi(r)};return zc(e).put(i)}return Ci.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[si(t),""],!1,!0);return zc(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Wi(r.parent))}return n}))}addFieldIndex(e,t){const n=Hc(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Gc(e);return i.next((e=>{n.put(fc(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Hc(e),r=Gc(e),i=Wc(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Wc(e);let r=!0;const i=new Map;return Ci.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=va();const r=[];return Ci.forEach(i,((i,o)=>{var s;Lr("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(Zs(t)));const a=function(e,t){const n=mi(t);if(void 0===n)return null;for(const r of Vs(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),l=function(e,t){const n=new Map;for(const r of gi(t))for(const t of Vs(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of gi(t)){const t=0===i.kind?Us(e,i.fieldPath,e.startAt):js(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new us(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of gi(t)){const t=0===i.kind?js(e,i.fieldPath,e.endAt):Us(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new us(n,r)}(o,i),d=this.hn(i,o,c),h=this.hn(i,o,u),p=this.ln(i,o,l),f=this.fn(i.indexId,a,d,c.inclusive,h,u.inclusive,p);return Ci.forEach(f,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=pi.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Ci.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Rc(vs.create(e.filters,"and")).map((t=>Os(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.dn(t[u/l]):Bc,d=this.wn(e,a,n[u%l],r),h=this._n(e,a,i[u%l],o),p=s.map((t=>this.wn(e,a,t,!0)));c.push(...this.createRange(d,h,p))}return c}wn(e,t,n,r){const i=new Ec(e,pi.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new Ec(e,pi.empty(),t,n);return r?i.Je():i}an(e,t){const n=new Pc(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Ci.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new So(hi.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new Cc;for(const r of gi(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);bc.Ve._e(e,i)}return n.Qe()}dn(e){const t=new Cc;return bc.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Cc;return bc.Ve._e(Yo(this.databaseId,t),n.He(function(e){const t=gi(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new Cc);let i=0;for(const o of gi(e)){const e=n[i++];for(const n of r)if(this.yn(t,o.fieldPath)&&Xo(e))r=this.pn(r,o,e);else{const t=n.He(o.kind);bc.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Cc;n.seed(e.Qe()),bc.Ve._e(o,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof gs&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Hc(e),r=Gc(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Ci.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new yi(t.sequenceNumber,new Ti(ac(t.readTime),new pi(Wi(t.documentKey)),t.largestBatchId)):yi.empty(),r=e.fields.map((e=>{let[t,n]=e;return new vi(hi.fromServerFormat(t),n)}));return new fi(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ii(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Hc(e),i=Gc(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Ci.forEach(t,(t=>i.put(fc(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ci.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Ci.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Ci.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?Ci.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return Wc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return Wc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=Wc(e);let i=new So(_c);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new Ec(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new So(_c);const r=this.mn(t,e);if(null==r)return n;const i=mi(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Xo(o))for(const i of o.arrayValue.values||[])n=n.add(new Ec(t.indexId,e.key,this.dn(i),r))}else n=n.add(new Ec(t.indexId,e.key,Bc,r));return n}vn(e,t,n,r,i){Lr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Co(o),l=Co(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Co(s)):t?(i(a),a=Co(o)):(a=Co(o),l=Co(s))}}(r,i,_c,(r=>{o.push(this.Rn(e,t,n,r))}),(r=>{o.push(this.Pn(e,t,n,r))})),Ci.waitFor(o)}Tn(e){let t=1;return Gc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>_c(e,t))).filter(((e,t,n)=>!t||0!==_c(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=_c(o,e),i=_c(o,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(o),r.push(o.Je());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Bc,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Bc,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return _c(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Kc)}getMinOffset(e,t){return Ci.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||jr())))).next(Kc)}}function zc(e){return vo(e,"collectionParents")}function Wc(e){return vo(e,"indexEntries")}function Hc(e){return vo(e,"indexConfiguration")}function Gc(e){return vo(e,"indexState")}function Kc(e){Br(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Ii(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ti(t.readTime,t.documentKey,n)}const Yc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Qc(e,Qc.DEFAULT_COLLECTION_PERCENTILE,Qc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xc(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{Br(1===a)})));const c=[];for(const u of n.mutations){const e=Ki(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Ci.waitFor(o).next((()=>c))}function Jc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw jr();t=e.noDocument}return JSON.stringify(t).length}Qc.DEFAULT_COLLECTION_PERCENTILE=10,Qc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qc.DEFAULT=new Qc(41943040,Qc.DEFAULT_COLLECTION_PERCENTILE,Qc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qc.DISABLED=new Qc(-1,0,0);class $c{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){Br(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new $c(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=nu(e),o=tu(e);return o.add({}).next((s=>{Br("number"==typeof s);const a=new Ja(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Bl(e.fe,t))),i=n.mutations.map((t=>Bl(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new So(((e,t)=>ii(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ki(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,Yi))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[s]=a.keys()})),Ci.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return tu(e).get(t).next((e=>e?(Br(e.userId===this.userId),lc(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Ci.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return tu(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Br(t.batchId>=n),i=lc(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return tu(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).j("userMutationsIndex",t).next((e=>e.map((e=>lc(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Gi(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return nu(e).X({range:r},((n,r,o)=>{const[s,a,l]=n,c=Wi(a);if(s===this.userId&&t.path.isEqual(c))return tu(e).get(l).next((e=>{if(!e)throw jr();Br(e.userId===this.userId),i.push(lc(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new So(ii);const r=[];return t.forEach((t=>{const i=Gi(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=nu(e).X({range:o},((e,r,i)=>{const[o,s,a]=e,l=Wi(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Ci.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Gi(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new So(ii);return nu(e).X({range:o},((e,t,i)=>{const[o,a,l]=e,c=Wi(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Dn(e,s)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(tu(e).get(t).next((e=>{if(null===e)throw jr();Br(e.userId===this.userId),n.push(lc(this.serializer,e))})))})),Ci.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Xc(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Ci.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ci.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return nu(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Wi(e[1]);r.push(t)}else n.done()})).next((()=>{Br(0===r.length)}))}))}containsKey(e,t){return eu(e,this.userId,t)}xn(e){return ru(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function eu(e,t,n){const r=Gi(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return nu(e).X({range:o,Y:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function tu(e){return vo(e,"mutations")}function nu(e){return vo(e,"documentMutations")}function ru(e){return vo(e,"mutationQueues")}class iu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new iu(0)}static Mn(){return new iu(-1)}}class ou{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new iu(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>li.fromTimestamp(new ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>su(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(Br(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return su(e).X(((o,s)=>{const a=cc(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Ci.waitFor(i))).next((()=>r))}forEachTarget(e,t){return su(e).X(((e,n)=>{const r=cc(n);t(r)}))}$n(e){return au(e).get("targetGlobalKey").next((e=>(Br(null!==e),e)))}On(e,t){return au(e).put("targetGlobalKey",t)}Fn(e,t){return su(e).put(uc(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Zs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return su(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=cc(n);Ls(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=lu(e);return t.forEach((t=>{const o=Bi(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Ci.waitFor(r)}removeMatchingKeys(e,t,n){const r=lu(e);return Ci.forEach(t,(t=>{const i=Bi(t.path);return Ci.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=lu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lu(e);let i=va();return r.X({range:n,Y:!0},((e,t,n)=>{const r=Wi(e[1]),o=new pi(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Bi(t.path),r=IDBKeyRange.bound([n],[si(n)],!1,!0);let i=0;return lu(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return su(e).get(t).next((e=>e?cc(e):null))}}function su(e){return vo(e,"targets")}function au(e){return vo(e,"targetGlobal")}function lu(e){return vo(e,"targetDocuments")}function cu(e,t){let[n,r]=e,[i,o]=t;const s=ii(n,i);return 0===s?ii(r,o):s}class uu{constructor(e){this.Ln=e,this.buffer=new So(cu),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();cu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class du{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){Lr("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ai(e)?Lr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ki(e)}await this.Qn(3e5)}))}}class hu{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ci.resolve(Fi.ct);const n=new uu(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Lr("LruGarbageCollector","Garbage collection skipped; disabled"),Ci.resolve(Yc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Lr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Yc):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Lr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Or()<=s.in.DEBUG&&Lr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(l-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Ci.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function pu(e,t){return new hu(e,t)}class fu{constructor(e,t){this.db=e,this.garbageCollector=pu(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return mu(e,n)}removeReference(e,t,n){return mu(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return mu(e,t)}Xn(e,t){return function(e,t){let n=!1;return ru(e).Z((r=>eu(e,r,t).next((e=>(e&&(n=!0),Ci.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,li.min()),lu(e).delete([0,Bi(o.path)]))))}));r.push(t)}})).next((()=>Ci.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return mu(e,t)}Yn(e,t){const n=lu(e);let r,i=Fi.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Fi.ct&&t(new pi(Wi(r)),i),i=l,r=a):i=Fi.ct})).next((()=>{i!==Fi.ct&&t(new pi(Wi(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mu(e,t){return lu(e).put(function(e,t){return{targetId:0,path:Bi(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class gu{constructor(){this.changes=new sa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ci.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vu{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Tu(e).put(n)}removeEntry(e,t,n){return Tu(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],oc(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=cs.newInvalidDocument(t);return Tu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Iu(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:cs.newInvalidDocument(t)};return Tu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Iu(t))},((e,r)=>{n={document:this.ts(t,r),size:Jc(r)}})).next((()=>n))}getEntries(e,t){let n=la();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=la(),r=new To(pi.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,Jc(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return Ci.resolve();let r=new So(Su);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Iu(r.first()),Iu(r.last())),o=r.getIterator();let s=o.getNext();return Tu(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=pi.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Su(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.G(Iu(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),oc(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tu(e).j(IDBKeyRange.bound(o,s,!0)).next((e=>{let n=la();for(const i of e){const e=this.ts(pi.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(na(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=la();const o=xu(t,n),s=xu(t,Ti.max());return Tu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.ts(pi.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new wu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return bu(e).get("remoteDocumentGlobalKey").next((e=>(Br(!!e),e)))}Zn(e,t){return bu(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=jl(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=pi.fromSegments(t.noDocument.path),r=ac(t.noDocument.readTime);n=cs.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return jr();{const e=pi.fromSegments(t.unknownDocument.path),r=ac(t.unknownDocument.version);n=cs.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new ai(e[0],e[1]);return li.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(li.min()))return e}return cs.newInvalidDocument(e)}}function yu(e){return new vu(e)}class wu extends gu{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new sa((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new So(((e,t)=>ii(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.us.get(i);if(t.push(this.os.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=ic(this.os.serializer,o);r=r.add(i.path.popLast());const l=Jc(a);n+=l-s.size,t.push(this.os.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=ic(this.os.serializer,o.convertToNoDocument(li.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Ci.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function bu(e){return vo(e,"remoteDocumentGlobal")}function Tu(e){return vo(e,"remoteDocumentsV14")}function Iu(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xu(e,t){const n=t.documentKey.path.toArray();return[e,oc(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Su(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ii(n[o],r[o]),i)return i;return i=ii(n.length,r.length),i||(i=ii(n[n.length-2],r[r.length-2]),i||ii(n[n.length-1],r[r.length-1]))}class ku{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Cu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ba(n.mutation,e,Eo.empty(),ai.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,va()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:va();const r=ha();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ua();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ha();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,va())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=la();const o=fa(),s=fa();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ha)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Ba(s.mutation,t,s.mutation.getFieldMask(),ai.now())):o.set(t.key,Eo.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ku(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=fa();let r=new To(((e,t)=>e-t)),i=va();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Eo.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||va()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=pa();l.forEach((e=>{if(!i.has(e)){const r=Ua(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ci.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return pi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ks(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ci.resolve(ha());let s=-1,a=i;return o.next((t=>Ci.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Ci.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,va()))).next((e=>({batchId:s,changes:da(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pi(t)).next((e=>{let t=ua();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=ua();return this.indexManager.getCollectionParents(e,r).next((o=>Ci.forEach(o,(o=>{const s=function(e,t){return new Bs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,cs.newInvalidDocument(r)))}));let n=ua();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&Ba(o.mutation,i,Eo.empty(),ai.now()),na(t,i)&&(n=n.insert(e,i))})),n}))}}class Eu{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ci.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Al(n.createTime)}),Ci.resolve()}getNamedQuery(e,t){return Ci.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:dc(e.bundledQuery),readTime:Al(e.readTime)}}(t)),Ci.resolve()}}class _u{constructor(){this.overlays=new To(pi.comparator),this.ls=new Map}getOverlay(e,t){return Ci.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ha();return Ci.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Ci.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Ci.resolve()}getOverlaysForCollection(e,t,n){const r=ha(),i=t.length+1,o=new pi(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ci.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new To(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ha(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ha(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Ci.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new el(t,n));let i=this.ls.get(t);void 0===i&&(i=va(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Du{constructor(){this.fs=new So(Pu.ds),this.ws=new So(Pu._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Pu(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Pu(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new pi(new ui([])),n=new Pu(t,e),r=new Pu(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new pi(new ui([])),n=new Pu(t,e),r=new Pu(t,e+1);let i=va();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Pu(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Pu{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return pi.comparator(e.key,t.key)||ii(e.As,t.As)}static _s(e,t){return ii(e.As,t.As)||pi.comparator(e.key,t.key)}}class Au{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new So(Pu.ds)}checkEmpty(e){return Ci.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ja(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Rs=this.Rs.add(new Pu(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ci.resolve(o)}lookupMutationBatch(e,t){return Ci.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Ci.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ci.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ci.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Pu(t,0),r=new Pu(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Ci.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new So(ii);return t.forEach((e=>{const t=new Pu(e,0),r=new Pu(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Ci.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;pi.isDocumentKey(i)||(i=i.child(""));const o=new Pu(new pi(i),0);let s=new So(ii);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)}),o),Ci.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Br(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Ci.forEach(t.mutations,(r=>{const i=new Pu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Pu(t,0),r=this.Rs.firstAfterOrEqual(n);return Ci.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ci.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ru{constructor(e){this.Ds=e,this.docs=new To(pi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ci.resolve(n?n.document.mutableCopy():cs.newInvalidDocument(t))}getEntries(e,t){let n=la();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cs.newInvalidDocument(e))})),Ci.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=la();const o=t.path,s=new pi(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Ii(bi(s),n)<=0||(r.has(s.key)||na(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Ci.resolve(i)}getAllFromCollectionGroup(e,t,n,r){jr()}Cs(e,t){return Ci.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Mu(this)}getSize(e){return Ci.resolve(this.size)}}class Mu extends gu{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Ci.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Nu{constructor(e){this.persistence=e,this.xs=new sa((e=>Zs(e)),Ls),this.lastRemoteSnapshotVersion=li.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Du,this.targetCount=0,this.Ms=iu.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Ci.resolve()}getLastRemoteSnapshotVersion(e){return Ci.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ci.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ci.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ci.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new iu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ci.resolve()}updateTargetData(e,t){return this.Fn(t),Ci.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ci.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Ci.waitFor(i).next((()=>r))}getTargetCount(e){return Ci.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Ci.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Ci.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ci.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ci.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Ci.resolve(n)}containsKey(e,t){return Ci.resolve(this.ks.containsKey(t))}}class Ou{constructor(e,t){this.$s={},this.overlays={},this.Os=new Fi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Nu(this),this.indexManager=new Uc,this.remoteDocumentCache=function(e){return new Ru(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new rc(t),this.qs=new Eu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _u,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Au(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Lr("MemoryPersistence","Starting transaction:",e);const r=new Zu(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Ci.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Zu extends Si{constructor(e){super(),this.currentSequenceNumber=e}}class Lu{constructor(e){this.persistence=e,this.Qs=new Du,this.js=null}static zs(e){return new Lu(e)}get Ws(){if(this.js)return this.js;throw jr()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ci.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ci.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ci.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ci.forEach(this.Ws,(n=>{const r=pi.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,li.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Ci.or([()=>Ci.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Fu{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Ei("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hi,{unique:!0}),e.createObjectStore("documentMutations")}(e),Vu(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Ci.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Vu(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:li.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hi,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Ci.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ys(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(o=o.next((()=>this.Zs(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ei(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:ao});t.createIndex("collectionPathOverlayIndex",lo,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",co,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Qi});t.createIndex("documentKeyIndex",Xi),t.createIndex("collectionGroupIndex",Ji)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ro}).createIndex("sequenceNumberIndex",io,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:oo}).createIndex("documentKeyIndex",so,{unique:!1})}(e)))),o}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=Jc(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Ci.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>Ci.forEach(n,(n=>{Br(n.userId===t.userId);const r=lc(this.serializer,n);return Xc(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const o=new ui(n),s=function(e){return[0,Bi(e)]}(o);r.push(t.get(s).next((n=>n?Ci.resolve():(n=>t.put({targetId:0,path:Bi(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Ci.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:no});const n=t.store("collectionParents"),r=new jc,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Bi(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new ui(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,o]=e;const s=Wi(r);return i(s.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=cc(n),i=uc(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(s=n,s.document?new pi(ui.fromString(s.document.name).popFirst(5)):s.noDocument?pi.fromSegments(s.noDocument.path):s.unknownDocument?pi.fromSegments(s.unknownDocument.path):jr()).path.toArray();var s;const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Ci.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=yu(this.serializer),i=new Ou(Lu.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:va();lc(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Ci.forEach(n,((e,n)=>{const o=new Rr(n),s=yc.de(this.serializer,o),a=i.getIndexManager(o),l=$c.de(o,this.serializer,a,i.referenceDelegate);return new Cu(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new go(t,Fi.ct),e).next()}))}))}}function Vu(e){e.createObjectStore("targetDocuments",{keyPath:eo}).createIndex("documentTargetsIndex",to,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$i,{unique:!0}),e.createObjectStore("targetGlobal")}const Uu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ju{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=o,this.document=s,this.ri=l,this.oi=c,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!ju.D())throw new Hr(Wr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fu(this,r),this.di=t+"main",this.serializer=new rc(a),this.wi=new _i(this.di,this.ui,new Fu(this.serializer)),this.Bs=new ou(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yu(this.serializer),this.qs=new mc,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Hr(Wr.FAILED_PRECONDITION,Uu);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new Fi(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>qu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(Ai(e))return Lr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Lr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return Bu(e).get("owner").next((e=>Ci.resolve(this.Ri(e))))}Pi(e){return qu(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=vo(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Ci.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ci.resolve(!0):Bu(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Hr(Wr.FAILED_PRECONDITION,Uu);return!1}}return!(!this.networkEnabled||!this.inForeground)||qu(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Lr("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new go(e,Fi.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>qu(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return $c.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qc(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return yc.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Lr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.ui)?mo:14===o?fo:13===o?po:12===o?ho:11===o?uo:void jr();var o;let s;return this.wi.runTransaction(e,r,i,(r=>(s=new go(r,this.Os?this.Os.next():Fi.ct),"readwrite-primary"===t?this.Ti(s).next((e=>!!e||this.Ei(s))).next((t=>{if(!t)throw Fr("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new Hr(Wr.FAILED_PRECONDITION,xi);return n(s)})).next((e=>this.vi(s).next((()=>e)))):this.Oi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Oi(e){return Bu(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Hr(Wr.FAILED_PRECONDITION,Uu)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bu(e).put("owner",t)}static D(){return _i.D()}Ai(e){const t=Bu(e);return t.get("owner").next((e=>this.Ri(e)?(Lr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ci.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Fr("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,a.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Lr("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Fr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Bu(e){return vo(e,"owner")}function qu(e){return vo(e,"clientMetadata")}function zu(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Wu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=va(),r=va();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Wu(e,t.fromCache,n,r)}}class Hu{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Ws(t))return Ci.resolve(null);let n=Qs(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Js(t,null,"F"),n=Qs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=va(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Js(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return Ws(t)||r.isEqual(li.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(Or()<=s.in.DEBUG&&Lr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ta(t)),this.Wi(e,o,t,wi(r,-1)))}))}ji(e,t){let n=new So(ia(e));return t.forEach(((t,r)=>{na(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Or()<=s.in.DEBUG&&Lr("QueryEngine","Using full collection scan to execute query:",ta(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ti.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Gu{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new To(ii),this.Yi=new sa((e=>Zs(e)),Ls),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cu(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Ku(e,t,n,r){return new Gu(e,t,n,r)}async function Yu(e,t){const n=zr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=va();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Qu(e){const t=zr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Xu(e,t,n){let r=va(),i=va();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=la();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(li.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Lr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function Ju(e,t){const n=zr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function $u(e,t){const n=zr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Ci.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new nc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function ed(e,t,n){const r=zr(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ai(e))throw e;Lr("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function td(e,t,n){const r=zr(e);let i=li.min(),o=va();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=zr(e),i=r.Yi.get(n);return void 0!==i?Ci.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Qs(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:li.min(),n?o:va()))).next((e=>(id(r,ra(t),e),{documents:e,ir:o})))))}function nd(e,t){const n=zr(e),r=zr(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function rd(e,t){const n=zr(e),r=n.Xi.get(t)||li.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,wi(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(id(n,t,e),e)))}function id(e,t,n){let r=e.Xi.get(t)||li.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function od(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:va();const r=await $u(e,Qs(dc(t.bundledQuery))),i=zr(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Al(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(e,t);const s=r.withResumeToken(Po.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(s.targetId,s),i.Bs.updateTargetData(e,s).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function sd(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ad(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ld(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class cd{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Hr(r.error.code,r.error.message))),o?new cd(e,t,r.state,i):(Fr("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ud{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Hr(n.error.code,n.error.message))),i?new ud(e,n.state,r):(Fr("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=wa();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=ji(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new dd(e,i):(Fr("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class hd{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hd(t.clientId,t.onlineState):(Fr("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class pd{constructor(){this.activeTargetIds=wa()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fd{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new To(ii),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=sd(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new pd),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(sd(this.persistenceKey,n));if(e){const t=dd.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ld(this.persistenceKey,e));if(n){const r=ud.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ld(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Lr("SharedClientState","READ",e,t),t}setItem(e,t){Lr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Lr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(Lr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=Fi.ct;if(null!=e)try{const n=JSON.parse(e);Br("number"==typeof n),t=n}catch(e){Fr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Fi.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new cd(this.currentUser,e,t,n),i=ad(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=ad(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=ld(this.persistenceKey,e),i=new ud(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return dd.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return cd.ar(new Rr(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return ud.ar(r,t)}br(e){return hd.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);Lr("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=wa();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class md{constructor(){this.Hr=new pd,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new pd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gd{Yr(e){}shutdown(){}}class vd{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Lr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Lr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yd=null;function wd(){return null===yd?yd=268435456+Math.round(2147483648*Math.random()):yd++,"0x"+yd.toString(16)}const bd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Td{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Id="WebChannelConnection";class xd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=wd(),s=this.To(e,t);Lr("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={};return this.Eo(a,r,i),this.Ao(e,s,a,n).then((t=>(Lr("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Vr("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=bd[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=wd();return new Promise(((o,s)=>{const a=new _r;a.setWithCredentials(!0),a.listenOnce(xr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ir.NO_ERROR:const t=a.getResponseJson();Lr(Id,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Ir.TIMEOUT:Lr(Id,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Hr(Wr.DEADLINE_EXCEEDED,"Request time out"));break;case Ir.HTTP_ERROR:const n=a.getStatus();if(Lr(Id,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Wr).indexOf(t)>=0?t:Wr.UNKNOWN}(t.status);s(new Hr(e,t.message))}else s(new Hr(Wr.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Hr(Wr.UNAVAILABLE,"Connection failed."));break;default:jr()}}finally{Lr(Id,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Lr(Id,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=wd(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=br(),s=Tr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Cr({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Lr(Id,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const p=new Td({ro:t=>{h?Lr(Id,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Lr(Id,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Lr(Id,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Er.EventType.OPEN,(()=>{h||Lr(Id,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),f(u,Er.EventType.CLOSE,(()=>{h||(h=!0,Lr(Id,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.wo())})),f(u,Er.EventType.ERROR,(t=>{h||(h=!0,Vr(Id,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.wo(new Hr(Wr.UNAVAILABLE,"The operation could not be completed")))})),f(u,Er.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Br(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Lr(Id,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=nl[e];if(void 0!==t)return ol(t)}(t),i=s.message;void 0===n&&(n=Wr.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.wo(new Hr(n,i)),u.close()}else Lr(Id,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p._o(i)}})),f(s,Sr.STAT_EVENT,(t=>{t.stat===kr.PROXY?Lr(Id,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===kr.NOPROXY&&Lr(Id,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.fo()}),0),p}}function Sd(){return"undefined"!=typeof window?window:null}function kd(){return"undefined"!=typeof document?document:null}function Cd(e){return new Cl(e,!0)}class Ed{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Lr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class _d{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ed(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Wr.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Wr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Hr(Wr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Lr("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Lr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dd extends _d{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Br(void 0===t||"string"==typeof t),Po.fromBase64String(t||"")):(Br(void 0===t||t instanceof Uint8Array),Po.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Wr.UNKNOWN:ol(e.code);return new Hr(t,e.message||"")}(s);n=new yl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ol(e,r.document.name),o=Al(r.document.updateTime),s=r.document.createTime?Al(r.document.createTime):li.min(),a=new as({mapValue:{fields:r.document.fields}}),l=cs.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new gl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ol(e,r.document),o=r.readTime?Al(r.readTime):li.min(),s=cs.newNoDocument(i,o),a=r.removedTargetIds||[];n=new gl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ol(e,r.document),o=r.removedTargetIds||[];n=new gl([],o,i,null)}else{if(!("filter"in t))return jr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new tl(r,i),s=e.targetId;n=new vl(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return li.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?li.min():t.readTime?Al(t.readTime):li.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Fl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Fs(r)?{documents:zl(e,r)}:{query:Wl(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Dl(e,t.resumeToken);const r=El(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(li.min())>0){n.readTime=_l(e,t.snapshotVersion.toTimestamp());const r=El(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Fl(this.serializer),t.removeTarget=e,this.Wo(t)}}class Pd extends _d{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Br(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Br(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Al(e.updateTime):Al(t);return n.isEqual(li.min())&&(n=Al(t)),new Za(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Al(e.commitTime);return this.listener.cu(n,t)}return Br(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fl(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Bl(this.serializer,e)))};this.Wo(t)}}class Ad extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Hr(Wr.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Wr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hr(Wr.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.vo(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Wr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hr(Wr.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Rd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Fr(t),this.mu=!1):Lr("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Md{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Bd(this)&&(Lr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=zr(e);t.vu.add(4),await Od(t),t.bu.set("Unknown"),t.vu.delete(4),await Nd(t)}(this))}))})),this.bu=new Rd(n,r)}}async function Nd(e){if(Bd(e))for(const t of e.Ru)await t(!0)}async function Od(e){for(const t of e.Ru)await t(!1)}function Zd(e,t){const n=zr(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),jd(n)?Ud(n):sh(n).Ko()&&Fd(n,t))}function Ld(e,t){const n=zr(e),r=sh(n);n.Au.delete(t),r.Ko()&&Vd(n,t),0===n.Au.size&&(r.Ko()?r.jo():Bd(n)&&n.bu.set("Unknown"))}function Fd(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(li.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sh(e).su(t)}function Vd(e,t){e.Vu.qt(t),sh(e).iu(t)}function Ud(e){e.Vu=new bl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),sh(e).start(),e.bu.gu()}function jd(e){return Bd(e)&&!sh(e).Uo()&&e.Au.size>0}function Bd(e){return 0===zr(e).vu.size}function qd(e){e.Vu=void 0}async function zd(e){e.Au.forEach(((t,n)=>{Fd(e,t)}))}async function Wd(e,t){qd(e),jd(e)?(e.bu.Iu(t),Ud(e)):e.bu.set("Unknown")}async function Hd(e,t,n){if(e.bu.set("Online"),t instanceof yl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Lr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Gd(e,n)}else if(t instanceof gl?e.Vu.Ht(t):t instanceof vl?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(li.min()))try{const t=await Qu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Po.EMPTY_BYTE_STRING,r.snapshotVersion)),Vd(e,t);const i=new nc(r.target,t,n,r.sequenceNumber);Fd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Lr("RemoteStore","Failed to raise snapshot:",t),await Gd(e,t)}}async function Gd(e,t,n){if(!Ai(t))throw t;e.vu.add(1),await Od(e),e.bu.set("Offline"),n||(n=()=>Qu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Lr("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Nd(e)}))}function Kd(e,t){return t().catch((n=>Gd(e,n,t)))}async function Yd(e){const t=zr(e),n=ah(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Qd(t);)try{const e=await Ju(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Xd(t,e)}catch(e){await Gd(t,e)}Jd(t)&&$d(t)}function Qd(e){return Bd(e)&&e.Eu.length<10}function Xd(e,t){e.Eu.push(t);const n=ah(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Jd(e){return Bd(e)&&!ah(e).Uo()&&e.Eu.length>0}function $d(e){ah(e).start()}async function eh(e){ah(e).hu()}async function th(e){const t=ah(e);for(const n of e.Eu)t.uu(n.mutations)}async function nh(e,t,n){const r=e.Eu.shift(),i=$a.from(r,t,n);await Kd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Yd(e)}async function rh(e,t){t&&ah(e).ou&&await async function(e,t){if(il(n=t.code)&&n!==Wr.ABORTED){const n=e.Eu.shift();ah(e).Qo(),await Kd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Yd(e)}var n}(e,t),Jd(e)&&$d(e)}async function ih(e,t){const n=zr(e);n.asyncQueue.verifyOperationInProgress(),Lr("RemoteStore","RemoteStore received new credentials");const r=Bd(n);n.vu.add(3),await Od(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Nd(n)}async function oh(e,t){const n=zr(e);t?(n.vu.delete(2),await Nd(n)):t||(n.vu.add(2),await Od(n),n.bu.set("Unknown"))}function sh(e){return e.Su||(e.Su=function(e,t,n){const r=zr(e);return r.fu(),new Dd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:zd.bind(null,e),ao:Wd.bind(null,e),nu:Hd.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),jd(e)?Ud(e):e.bu.set("Unknown")):(await e.Su.stop(),qd(e))}))),e.Su}function ah(e){return e.Du||(e.Du=function(e,t,n){const r=zr(e);return r.fu(),new Pd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:eh.bind(null,e),ao:rh.bind(null,e),au:th.bind(null,e),cu:nh.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Yd(e)):(await e.Du.stop(),e.Eu.length>0&&(Lr("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class lh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new lh(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hr(Wr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ch(e,t){if(Fr("AsyncQueue","".concat(t,": ").concat(e)),Ai(e))return new Hr(Wr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class uh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||pi.comparator(t.key,n.key):(e,t)=>pi.comparator(e.key,t.key),this.keyedMap=ua(),this.sortedSet=new To(this.comparator)}static emptySet(e){return new uh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new uh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class dh{constructor(){this.Cu=new To(pi.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):jr():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class hh{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new hh(e,t,uh.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$s(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ph{constructor(){this.Nu=void 0,this.listeners=[]}}class fh{constructor(){this.queries=new sa((e=>ea(e)),$s),this.onlineState="Unknown",this.ku=new Set}}async function mh(e,t){const n=zr(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new ph),i)try{o.Nu=await n.onListen(r)}catch(e){const n=ch(e,"Initialization of query '".concat(ta(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&wh(n)}async function gh(e,t){const n=zr(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function vh(e,t){const n=zr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&wh(n)}function yh(e,t,n){const r=zr(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function wh(e){e.ku.forEach((e=>{e.next()}))}class bh{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new hh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Th{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Ih{constructor(e){this.serializer=e}rr(e){return Ol(this.serializer,e)}ur(e){return e.metadata.exists?jl(this.serializer,e.document,!1):cs.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Al(e)}}class xh{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sh(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=ui.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new Ih(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||va()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=zr(e);let o=va(),s=la();for(const c of n){const e=t.rr(c.metadata.name);c.document&&(o=o.add(e));const n=t.ur(c);n.setReadTime(t.cr(c.metadata.readTime)),s=s.insert(e,n)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await $u(i,function(e){return Qs(zs(ui.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Xu(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Bs.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new Ih(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await od(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function Sh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class kh{constructor(e){this.key=e}}class Ch{constructor(e){this.key=e}}class Eh{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=va(),this.mutatedKeys=va(),this.tc=ia(e),this.ec=new uh(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new dh,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=na(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.rc(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jr()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new hh(this.query,e.ec,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dh,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=va(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Ch(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new kh(n))})),t}hc(e){this.Yu=e.ir,this.Zu=va();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return hh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class _h{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Dh{constructor(e){this.key=e,this.fc=!1}}class Ph{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new sa((e=>ea(e)),$s),this._c=new Map,this.mc=new Set,this.gc=new To(pi.comparator),this.yc=new Map,this.Ic=new Du,this.Tc={},this.Ec=new Map,this.Ac=iu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Ah(e,t){const n=rp(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await $u(n.localStore,Qs(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Rh(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Zd(n.remoteStore,e)}return i}async function Rh(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await td(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return qh(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const o=await td(e.localStore,t,!0),s=new Eh(t,o.ir),a=s.sc(o.documents),l=ml.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);qh(e,n,c.cc);const u=new _h(t,n,s);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Mh(e,t){const n=zr(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!$s(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ed(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Ld(n.remoteStore,r.targetId),jh(n,r.targetId)})).catch(ki)):(jh(n,r.targetId),await ed(n.localStore,r.targetId,!0))}async function Nh(e,t){const n=zr(e);try{const e=await function(e,t){const n=zr(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Po.EMPTY_BYTE_STRING,li.min()).withLastLimboFreeSnapshotVersion(li.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Bs.updateTargetData(e,c))}));let a=la(),l=va();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Xu(e,o,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(li.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Ci.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(Br(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Br(r.fc):e.removedDocuments.size>0&&(Br(r.fc),r.fc=!1))})),await Hh(n,e,t)}catch(e){await ki(e)}}function Oh(e,t,n){const r=zr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=zr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&wh(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zh(e,t,n){const r=zr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new To(pi.comparator);e=e.insert(o,cs.newNoDocument(o,li.min()));const n=va().add(o),i=new fl(li.min(),new Map,new To(ii),e,n);await Nh(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Wh(r)}else await ed(r.localStore,t,!1).then((()=>jh(r,t,n))).catch(ki)}async function Lh(e,t){const n=zr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=zr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Ci.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Br(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=va();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Uh(n,r,null),Vh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hh(n,e)}catch(e){await ki(e)}}async function Fh(e,t,n){const r=zr(e);try{const e=await function(e,t){const n=zr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Br(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Uh(r,t,n),Vh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Hh(r,e)}catch(n){await ki(n)}}function Vh(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Uh(e,t,n){const r=zr(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function jh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Bh(e,t)}))}function Bh(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Ld(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Wh(e))}function qh(e,t,n){for(const r of n)r instanceof kh?(e.Ic.addReference(r.key,t),zh(e,r)):r instanceof Ch?(Lr("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Bh(e,r.key)):jr()}function zh(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Lr("SyncEngine","New document in limbo: "+n),e.mc.add(r),Wh(e))}function Wh(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new pi(ui.fromString(t)),r=e.Ac.next();e.yc.set(r,new Dh(n)),e.gc=e.gc.insert(n,r),Zd(e.remoteStore,new nc(Qs(zs(n.path)),r,"TargetPurposeLimboResolution",Fi.ct))}}async function Hh(e,t,n){const r=zr(e),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{s.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Wu.Li(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=zr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ci.forEach(t,(t=>Ci.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ci.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ai(e))throw e;Lr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function Gh(e,t){const n=zr(e);if(!n.currentUser.isEqual(t)){Lr("SyncEngine","User change. New user:",t.toKey());const e=await Yu(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Hr(Wr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Hh(n,e.er)}}function Kh(e,t){const n=zr(e),r=n.yc.get(t);if(r&&r.fc)return va().add(r.key);{let e=va();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function Yh(e,t){const n=zr(e),r=await td(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&qh(n,t.targetId,i.cc),i}async function Qh(e,t){const n=zr(e);return rd(n.localStore,t).then((e=>Hh(n,e)))}async function Xh(e,t,n,r){const i=zr(e),o=await function(e,t){const n=zr(e),r=zr(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Ci.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Yd(i.remoteStore):"acknowledged"===n||"rejected"===n?(Uh(i,t,r||null),Vh(i,t),function(e,t){zr(zr(e).mutationQueue).Cn(t)}(i.localStore,t)):jr(),await Hh(i,o)):Lr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Jh(e,t,n){const r=zr(e),i=[],o=[];for(const s of t){let e;const t=r._c.get(s);if(t&&0!==t.length){e=await $u(r.localStore,Qs(t[0]));for(const e of t){const t=r.wc.get(e),n=await Yh(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await nd(r.localStore,s);e=await $u(r.localStore,t),await Rh(r,$h(t),s,!1,e.resumeToken)}i.push(e)}return r.dc.nu(o),i}function $h(e){return qs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ep(e){const t=zr(e);return zr(zr(t.localStore).persistence).$i()}async function tp(e,t,n,r){const i=zr(e);if(i.vc)return void Lr("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await rd(i.localStore,ra(o[0])),r=fl.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Po.EMPTY_BYTE_STRING);await Hh(i,e,r);break}case"rejected":await ed(i.localStore,t,!0),jh(i,t,r);break;default:jr()}}async function np(e,t,n){const r=rp(e);if(r.vc){for(const e of t){if(r._c.has(e)){Lr("SyncEngine","Adding an already active target "+e);continue}const t=await nd(r.localStore,e),n=await $u(r.localStore,t);await Rh(r,$h(t),n.targetId,!1,n.resumeToken),Zd(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await ed(r.localStore,e,!1).then((()=>{Ld(r.remoteStore,e),jh(r,e)})).catch(ki)}}function rp(e){const t=zr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zh.bind(null,t),t.dc.nu=vh.bind(null,t.eventManager),t.dc.Pc=yh.bind(null,t.eventManager),t}function ip(e){const t=zr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fh.bind(null,t),t}class op{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ku(this.persistence,new Hu,e.initialUser,this.serializer)}createPersistence(e){return new Ou(Lu.zs,this.serializer)}createSharedClientState(e){return new md}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sp extends op{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await ip(this.Vc.syncEngine),await Yd(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Ku(this.persistence,new Hu,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new du(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Li(t,this.persistence);return new Zi(e.asyncQueue,n)}createPersistence(e){const t=zu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qc.withCacheSize(this.cacheSizeBytes):Qc.DEFAULT;return new ju(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Sd(),kd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new md}}class ap extends sp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof fd&&(this.sharedClientState.syncEngine={jr:Xh.bind(null,t),zr:tp.bind(null,t),Wr:np.bind(null,t),$i:ep.bind(null,t),Qr:Qh.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=zr(e);if(rp(n),ip(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Jh(n,e.toArray());n.vc=!0,await oh(n.remoteStore,!0);for(const r of t)Zd(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(jh(n,i),ed(n.localStore,i,!0)))),Ld(n.remoteStore,i)})),await t,await Jh(n,e),function(e){const t=zr(e);t.yc.forEach(((e,n)=>{Ld(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new To(pi.comparator)}(n),n.vc=!1,await oh(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Sd();if(!fd.D(t))throw new Hr(Wr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=zu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fd(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Oh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gh.bind(null,this.syncEngine),await oh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fh}createDatastore(e){const t=Cd(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new xd(r));var r;return function(e,t,n,r){return new Ad(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Oh(this.syncEngine,e,0),o=vd.D()?new vd:new gd,new Md(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Ph(e,t,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=zr(e);Lr("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Od(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function cp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class up{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class dp{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Gr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const r=await this.$c(n);return new Th(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class hp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Hr(Wr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=zr(e),r=Fl(n.serializer)+"/documents",i={documents:t.map((e=>Nl(n.serializer,e)))},o=await n.vo("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Br(!!t.found),t.found.name,t.found.updateTime;const n=Ol(e,t.found.name),r=Al(t.found.updateTime),i=t.found.createTime?Al(t.found.createTime):li.min(),o=new as({mapValue:{fields:t.found.fields}});return cs.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Br(!!t.missing),Br(!!t.readTime);const n=Ol(e,t.missing),r=Al(t.readTime);return cs.newNoDocument(n,r)}(e,t):jr()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Br(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=pi.fromPath(t);this.mutations.push(new Xa(n,this.precondition(n)))})),await async function(e,t){const n=zr(e),r=Fl(n.serializer)+"/documents",i={writes:t.map((e=>Bl(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jr();t=li.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Hr(Wr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(li.min())?La.exists(!1):La.updateTime(t):La.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(li.min()))throw new Hr(Wr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return La.updateTime(t)}return La.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pp{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new Ed(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new hp(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!Vi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!il(t)}return!1}}class fp{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Rr.UNAUTHENTICATED,this.clientId=ri.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Lr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Lr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Hr(Wr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ch(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function mp(e,t){e.asyncQueue.verifyOperationInProgress(),Lr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Yu(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function gp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yp(e);Lr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>ih(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ih(t.remoteStore,n))),e._onlineComponents=t}function vp(e){return"FirebaseError"===e.name?e.code===Wr.FAILED_PRECONDITION||e.code===Wr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function yp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Lr("FirestoreClient","Using user provided OfflineComponentProvider");try{await mp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!vp(n))throw n;Vr("Error using user provided cache. Falling back to memory cache: "+n),await mp(e,new op)}}else Lr("FirestoreClient","Using default OfflineComponentProvider"),await mp(e,new op);return e._offlineComponents}async function wp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Lr("FirestoreClient","Using user provided OnlineComponentProvider"),await gp(e,e._uninitializedComponentsProvider._online)):(Lr("FirestoreClient","Using default OnlineComponentProvider"),await gp(e,new lp))),e._onlineComponents}function bp(e){return yp(e).then((e=>e.persistence))}function Tp(e){return yp(e).then((e=>e.localStore))}function Ip(e){return wp(e).then((e=>e.remoteStore))}function xp(e){return wp(e).then((e=>e.syncEngine))}function Sp(e){return wp(e).then((e=>e.datastore))}async function kp(e){const t=await wp(e),n=t.eventManager;return n.onListen=Ah.bind(null,t.syncEngine),n.onUnlisten=Mh.bind(null,t.syncEngine),n}function Cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new up({next:o=>{t.enqueueAndForget((()=>gh(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Hr(Wr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Hr(Wr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new bh(zs(n.path),o,{includeMetadataChanges:!0,Ku:!0});return mh(e,s)}(await kp(e),e.asyncQueue,t,n,r))),r.promise}function Ep(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new up({next:n=>{t.enqueueAndForget((()=>gh(e,s))),n.fromCache&&"server"===r.source?i.reject(new Hr(Wr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new bh(n,o,{includeMetadataChanges:!0,Ku:!0});return mh(e,s)}(await kp(e),e.asyncQueue,t,n,r))),r.promise}function _p(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?ll().encode(e):e,function(e,t){return new dp(e,t)}(function(e,t){if(e instanceof Uint8Array)return cp(e,t);if(e instanceof ArrayBuffer)return cp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Cd(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=zr(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=zr(e),r=Al(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Sh(r));const i=new xh(r,e.localStore,t.serializer);let o=await t.bc();for(;o;){const e=await i.zu(o);e&&n._updateProgress(e),o=await t.bc()}const s=await i.complete();return await Hh(e,s.Ju,void 0),await function(e,t){const n=zr(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Hu)}catch(e){return Vr("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await xp(e),i,r)}))}function Dp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Pp=new Map;function Ap(e,t,n){if(!n)throw new Hr(Wr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Rp(e,t,n,r){if(!0===t&&!0===r)throw new Hr(Wr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Mp(e){if(!pi.isDocumentKey(e))throw new Hr(Wr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Np(e){if(pi.isDocumentKey(e))throw new Hr(Wr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Op(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":jr()}function Zp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hr(Wr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Op(e);throw new Hr(Wr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Lp(e,t){if(t<=0)throw new Hr(Wr.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Fp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Hr(Wr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Hr(Wr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Hr(Wr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Hr(Wr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Hr(Wr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Vp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Hr(Wr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Hr(Wr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Yr;switch(e.type){case"firstParty":return new $r(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Hr(Wr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Pp.get(e);t&&(Lr("ComponentProvider","Removing Datastore"),Pp.delete(e),t.terminate())}(this),Promise.resolve()}}function Up(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Zp(e,Vp))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Vr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:"".concat(t,":").concat(n),ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Rr.MOCK_USER;else{t=(0,a.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Hr(Wr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Rr(o)}e._authCredentials=new Qr(new Kr(t,n))}}class jp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jp(this.firestore,e,this._key)}}class Bp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bp(this.firestore,e,this._query)}}class qp extends Bp{constructor(e,t,n){super(e,t,zs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jp(this.firestore,null,new pi(e))}withConverter(e){return new qp(this.firestore,e,this._path)}}function zp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,a.m9)(e),Ap("collection","path",t),e instanceof Vp){const n=ui.fromString(t,...r);return Np(n),new qp(e,null,n)}{if(!(e instanceof jp||e instanceof qp))throw new Hr(Wr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ui.fromString(t,...r));return Np(n),new qp(e.firestore,null,n)}}function Wp(e,t){if(e=Zp(e,Vp),Ap("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Bp(e,null,function(e){return new Bs(ui.emptyPath(),e)}(t))}function Hp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,a.m9)(e),1===arguments.length&&(t=ri.A()),Ap("doc","path",t),e instanceof Vp){const n=ui.fromString(t,...r);return Mp(n),new jp(e,null,new pi(n))}{if(!(e instanceof jp||e instanceof qp))throw new Hr(Wr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ui.fromString(t,...r));return Mp(n),new jp(e.firestore,e instanceof qp?e.converter:null,new pi(n))}}function Gp(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),(e instanceof jp||e instanceof qp)&&(t instanceof jp||t instanceof qp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Kp(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),e instanceof Bp&&t instanceof Bp&&e.firestore===t.firestore&&$s(e._query,t._query)&&e.converter===t.converter}class Yp{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ed(this,"async_queue_retry"),this.Xc=()=>{const e=kd();e&&Lr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=kd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=kd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Gr;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ai(e))throw e;Lr("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=lh.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&jr()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Qp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Xp{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Jp=-1;class $p extends Vp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Yp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tf(this),this._firestoreClient.terminate()}}function ef(e){return e._firestoreClient||tf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tf(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Fo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Dp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new fp(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function nf(e,t){hf(e=Zp(e,$p));const n=ef(e);if(n._uninitializedComponentsProvider)throw new Hr(Wr.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new lp;return of(n,i,new sp(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function rf(e){hf(e=Zp(e,$p));const t=ef(e);if(t._uninitializedComponentsProvider)throw new Hr(Wr.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new lp;return of(t,r,new ap(r,n.cacheSizeBytes))}function of(e,t,n){const r=new Gr;return e.asyncQueue.enqueue((async()=>{try{await mp(e,n),await gp(e,t),r.resolve()}catch(e){const n=e;if(!vp(n))throw n;Vr("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function sf(e){if(e._initialized&&!e._terminated)throw new Hr(Wr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gr;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!_i.D())return Promise.resolve();const t=e+"main";await _i.delete(t)}(zu(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function af(e){return function(e){const t=new Gr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=zr(e);Bd(n.remoteStore)||Lr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=zr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=ch(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await xp(e),t))),t.promise}(ef(e=Zp(e,$p)))}function lf(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await bp(e),n=await Ip(e);return t.setNetworkEnabled(!0),function(e){const t=zr(e);return t.vu.delete(0),Nd(t)}(n)}))}(ef(e=Zp(e,$p)))}function cf(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await bp(e),n=await Ip(e);return t.setNetworkEnabled(!1),async function(e){const t=zr(e);t.vu.add(0),await Od(t),t.bu.set("Offline")}(n)}))}(ef(e=Zp(e,$p)))}function uf(e,t){const n=ef(e=Zp(e,$p)),r=new Xp;return _p(n,e._databaseId,t,r),r}function df(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=zr(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await Tp(e),t)))}(ef(e=Zp(e,$p)),t).then((t=>t?new Bp(e,null,t.query):null))}function hf(e){if(e._initialized||e._terminated)throw new Hr(Wr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pf(Po.fromBase64String(e))}catch(e){throw new Hr(Wr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new pf(Po.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ff{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mf{constructor(e){this._methodName=e}}class gf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Hr(Wr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Hr(Wr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ii(this._lat,e._lat)||ii(this._long,e._long)}}const vf=/^__.*__$/;class yf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wa(e,this.data,t,this.fieldTransforms)}}class wf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jr()}}class Tf{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return jf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(bf(this.ca)&&vf.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class If{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Cd(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Tf({ca:e,methodName:t,ga:n,path:hi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xf(e){const t=e._freezeSettings(),n=Cd(e._databaseId);return new If(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sf(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Lf("Data must be an object, but it was:",s,r);const a=Of(r,s);let l,c;if(o.merge)l=new Eo(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Ff(t,r,n);if(!s.contains(i))throw new Hr(Wr.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Bf(e,i)||e.push(i)}l=new Eo(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new yf(new as(a),l,c)}class kf extends mf{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kf}}function Cf(e,t,n){return new Tf({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ef extends mf{_toFieldTransform(e){return new Oa(e.path,new Ea)}isEqual(e){return e instanceof Ef}}class _f extends mf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Cf(this,e,!0),n=this.pa.map((e=>Nf(e,t))),r=new _a(n);return new Oa(e.path,r)}isEqual(e){return this===e}}class Df extends mf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Cf(this,e,!0),n=this.pa.map((e=>Nf(e,t))),r=new Pa(n);return new Oa(e.path,r)}isEqual(e){return this===e}}class Pf extends mf{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Ra(e.serializer,Ia(e.serializer,this.Ia));return new Oa(e.path,t)}isEqual(e){return this===e}}function Af(e,t,n,r){const i=e.ya(1,t,n);Lf("Data must be an object, but it was:",i,r);const o=[],s=as.empty();wo(r,((e,r)=>{const l=Uf(t,e,n);r=(0,a.m9)(r);const c=i.da(l);if(r instanceof kf)o.push(l);else{const e=Nf(r,c);null!=e&&(o.push(l),s.set(l,e))}}));const l=new Eo(o);return new wf(s,l,i.fieldTransforms)}function Rf(e,t,n,r,i,o){const s=e.ya(1,t,n),l=[Ff(t,r,n)],c=[i];if(o.length%2!=0)throw new Hr(Wr.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let a=0;a<o.length;a+=2)l.push(Ff(t,o[a])),c.push(o[a+1]);const u=[],d=as.empty();for(let p=l.length-1;p>=0;--p)if(!Bf(u,l[p])){const e=l[p];let t=c[p];t=(0,a.m9)(t);const n=s.da(e);if(t instanceof kf)u.push(e);else{const r=Nf(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new Eo(u);return new wf(d,h,s.fieldTransforms)}function Mf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Nf(n,e.ya(r?4:3,t))}function Nf(e,t){if(Zf(e=(0,a.m9)(e)))return Lf("Unsupported field value:",t,e),Of(e,t);if(e instanceof mf)return function(e,t){if(!bf(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Nf(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ia(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ai.fromDate(e);return{timestampValue:_l(t.serializer,n)}}if(e instanceof ai){const n=new ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_l(t.serializer,n)}}if(e instanceof gf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pf)return{bytesValue:Dl(t.serializer,e._byteString)};if(e instanceof jp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Rl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Op(e)))}(e,t)}function Of(e,t){const n={};return bo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wo(e,((e,r)=>{const i=Nf(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Zf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ai||e instanceof gf||e instanceof pf||e instanceof jp||e instanceof mf)}function Lf(e,t,n){if(!Zf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Op(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Ff(e,t,n){if((t=(0,a.m9)(t))instanceof ff)return t._internalPath;if("string"==typeof t)return Uf(e,t);throw jf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Vf=new RegExp("[~\\*/\\[\\]]");function Uf(e,t,n){if(t.search(Vf)>=0)throw jf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ff(...t.split("."))._internalPath}catch(r){throw jf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function jf(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Hr(Wr.INVALID_ARGUMENT,a+e+l)}function Bf(e,t){return e.some((e=>e.isEqual(t)))}class qf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zf extends qf{data(){return super.data()}}function Wf(e,t){return"string"==typeof t?Uf(e,t):t instanceof ff?t._internalPath:t._delegate._internalPath}function Hf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Hr(Wr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gf{}class Kf extends Gf{}function Yf(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Gf&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Jf)).length,n=e.filter((e=>e instanceof Qf)).length;if(t>1||t>0&&n>0)throw new Hr(Wr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Qf extends Kf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Qf(e,t,n)}_apply(e){const t=this._parse(e);return pm(e._query,t),new Bp(e.firestore,e.converter,Xs(e._query,t))}_parse(e){const t=xf(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){hm(s,o);const t=[];for(const n of s)t.push(dm(r,e,n));a={arrayValue:{values:t}}}else a=dm(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hm(s,o),a=Mf(n,"where",s,"in"===o||"not-in"===o);return gs.create(i,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Xf(e,t,n){const r=t,i=Wf("where",e);return Qf._create(i,r,n)}class Jf extends Gf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jf(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:vs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)pm(n,i),n=Xs(n,i)}(e._query,t),new Bp(e.firestore,e.converter,Xs(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $f extends Kf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $f(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ps(t,n);return function(e,t){if(null===Hs(e)){const n=Gs(e);null!==n&&fm(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Bp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Bs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function em(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";const n=t,r=Wf("orderBy",e);return $f._create(r,n)}class tm extends Kf{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new tm(e,t,n)}_apply(e){return new Bp(e.firestore,e.converter,Js(e._query,this._limit,this._limitType))}}function nm(e){return Lp("limit",e),tm._create("limit",e,"F")}function rm(e){return Lp("limitToLast",e),tm._create("limitToLast",e,"L")}class im extends Kf{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new im(e,t,n)}_apply(e){const t=um(e,this.type,this._docOrFields,this._inclusive);return new Bp(e.firestore,e.converter,function(e,t){return new Bs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function om(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return im._create("startAt",t,!0)}function sm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return im._create("startAfter",t,!1)}class am extends Kf{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new am(e,t,n)}_apply(e){const t=um(e,this.type,this._docOrFields,this._inclusive);return new Bp(e.firestore,e.converter,function(e,t){return new Bs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function lm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return am._create("endBefore",t,!1)}function cm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return am._create("endAt",t,!0)}function um(e,t,n,r){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof qf)return function(e,t,n,r,i){if(!r)throw new Hr(Wr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Ys(e))if(s.field.isKeyField())o.push(Yo(t,r.key));else{const e=r.data.field(s.field);if(Oo(e))throw new Hr(Wr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new us(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=xf(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Hr(Wr.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Ks(e)&&-1!==o.indexOf("/"))throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(ui.fromString(o));if(!pi.isDocumentKey(n))throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new pi(n);a.push(Yo(t,i))}else{const e=Mf(n,r,o);a.push(e)}}return new us(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function dm(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ks(t)&&-1!==n.indexOf("/"))throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ui.fromString(n));if(!pi.isDocumentKey(r))throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Yo(e,new pi(r))}if(n instanceof jp)return Yo(e,n._key);throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Op(n),"."))}function hm(e,t){if(!Array.isArray(e)||0===e.length)throw new Hr(Wr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function pm(e,t){if(t.isInequality()){const n=Gs(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=Hs(e);null!==i&&fm(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Hr(Wr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Hr(Wr.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function fm(e,t,n){if(!n.isEqual(t))throw new Hr(Wr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class mm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return wo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new gf(Mo(e.latitude),Mo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Zo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lo(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ui.fromString(e);Br(tc(n));const r=new Vo(n.get(1),n.get(3)),i=new pi(n.popFirst(5));return r.isEqual(t)||Fr("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function gm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class vm extends mm{constructor(e){super(),this.firestore=e}convertBytes(e){return new pf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jp(this.firestore,null,t)}}class ym{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wm extends qf{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Wf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class bm extends wm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Tm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ym(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new bm(this._firestore,this._userDataWriter,n.key,n,new ym(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Hr(Wr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new bm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ym(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new bm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ym(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Im(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Im(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jr()}}function xm(e,t){return e instanceof wm&&t instanceof wm?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Tm&&t instanceof Tm&&e._firestore===t._firestore&&Kp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Sm(e){e=Zp(e,jp);const t=Zp(e.firestore,$p);return Cp(ef(t),e._key).then((n=>Fm(t,e,n)))}class km extends mm{constructor(e){super(),this.firestore=e}convertBytes(e){return new pf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jp(this.firestore,null,t)}}function Cm(e){e=Zp(e,jp);const t=Zp(e.firestore,$p),n=ef(t),r=new km(t);return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=zr(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Hr(Wr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=ch(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Tp(e),t,n))),n.promise}(n,e._key).then((n=>new wm(t,r,e._key,n,new ym(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Em(e){e=Zp(e,jp);const t=Zp(e.firestore,$p);return Cp(ef(t),e._key,{source:"server"}).then((n=>Fm(t,e,n)))}function _m(e){e=Zp(e,Bp);const t=Zp(e.firestore,$p),n=ef(t),r=new km(t);return Hf(e._query),Ep(n,e._query).then((n=>new Tm(t,r,e,n)))}function Dm(e){e=Zp(e,Bp);const t=Zp(e.firestore,$p),n=ef(t),r=new km(t);return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await td(e,t,!0),i=new Eh(t,r.ir),o=i.sc(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=ch(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Tp(e),t,n))),n.promise}(n,e._query).then((n=>new Tm(t,r,e,n)))}function Pm(e){e=Zp(e,Bp);const t=Zp(e.firestore,$p),n=ef(t),r=new km(t);return Ep(n,e._query,{source:"server"}).then((n=>new Tm(t,r,e,n)))}function Am(e,t,n){e=Zp(e,jp);const r=Zp(e.firestore,$p),i=gm(e.converter,t,n);return Lm(r,[Sf(xf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,La.none())])}function Rm(e,t,n){e=Zp(e,jp);const r=Zp(e.firestore,$p),i=xf(r);let o;for(var s=arguments.length,l=new Array(s>3?s-3:0),c=3;c<s;c++)l[c-3]=arguments[c];return o="string"==typeof(t=(0,a.m9)(t))||t instanceof ff?Rf(i,"updateDoc",e._key,t,n,l):Af(i,"updateDoc",e._key,t),Lm(r,[o.toMutation(e._key,La.exists(!0))])}function Mm(e){return Lm(Zp(e.firestore,$p),[new Qa(e._key,La.none())])}function Nm(e,t){const n=Zp(e.firestore,$p),r=Hp(e),i=gm(e.converter,t);return Lm(n,[Sf(xf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,La.exists(!1))]).then((()=>r))}function Om(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=(0,a.m9)(e);let l={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||Qp(n[c])||(l=n[c],c++);const u={includeMetadataChanges:l.includeMetadataChanges};if(Qp(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let d,h,p;if(e instanceof jp)h=Zp(e.firestore,$p),p=zs(e._key.path),d={next:t=>{n[c]&&n[c](Fm(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=Zp(e,Bp);h=Zp(t.firestore,$p),p=t._query;const r=new km(h);d={next:e=>{n[c]&&n[c](new Tm(h,r,t,e))},error:n[c+1],complete:n[c+2]},Hf(e._query)}return function(e,t,n,r){const i=new up(r),o=new bh(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>mh(await kp(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>gh(await kp(e),o)))}}(ef(h),p,u,d)}function Zm(e,t){return function(e,t){const n=new up(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){zr(e).ku.add(t),t.next()}(await kp(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){zr(e).ku.delete(t)}(await kp(e),n)))}}(ef(e=Zp(e,$p)),Qp(t)?t:{next:t})}function Lm(e,t){return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ip(e);try{const e=await function(e,t){const n=zr(e),r=ai.now(),i=t.reduce(((e,t)=>e.add(t.key)),va());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=la(),l=va();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=qa(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Ha(e.key,t,ls(t.value.mapValue),La.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:da(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new To(ii)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Hh(r,e.changes),await Yd(r.remoteStore)}catch(e){const t=ch(e,"Failed to persist write");n.reject(t)}}(await xp(e),t,n))),n.promise}(ef(e),t)}function Fm(e,t,n){const r=n.docs.get(t._key),i=new km(e);return new wm(e,i,t._key,r,new ym(n.hasPendingWrites,n.fromCache),t.converter)}const Vm={maxAttempts:5};class Um{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xf(e)}set(e,t,n){this._verifyNotCommitted();const r=jm(e,this._firestore),i=gm(r.converter,t,n),o=Sf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,La.none())),this}update(e,t,n){this._verifyNotCommitted();const r=jm(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return i="string"==typeof(t=(0,a.m9)(t))||t instanceof ff?Rf(this._dataReader,"WriteBatch.update",r._key,t,n,s):Af(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,La.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jm(e,this._firestore);return this._mutations=this._mutations.concat(new Qa(t._key,La.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Hr(Wr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jm(e,t){if((e=(0,a.m9)(e)).firestore!==t)throw new Hr(Wr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Bm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xf(e)}get(e){const t=jm(e,this._firestore),n=new vm(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return jr();const r=e[0];if(r.isFoundDocument())return new qf(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new qf(this._firestore,n,t._key,null,t.converter);throw jr()}))}set(e,t,n){const r=jm(e,this._firestore),i=gm(r.converter,t,n),o=Sf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=jm(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return i="string"==typeof(t=(0,a.m9)(t))||t instanceof ff?Rf(this._dataReader,"Transaction.update",r._key,t,n,s):Af(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=jm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=jm(e,this._firestore),n=new km(this._firestore);return super.get(e).then((e=>new wm(this._firestore,n,t._key,e._document,new ym(!1,!1),t.converter)))}}function qm(e,t,n){e=Zp(e,$p);const r=Object.assign(Object.assign({},Vm),n);return function(e){if(e.maxAttempts<1)throw new Hr(Wr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Gr;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Sp(e);new pp(e.asyncQueue,i,n,t,r).run()})),r.promise}(ef(e),(n=>t(new Bm(e,n))),r)}function zm(){return new kf("deleteField")}function Wm(){return new Ef("serverTimestamp")}function Hm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _f("arrayUnion",t)}function Gm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Df("arrayRemove",t)}function Km(e){return new Pf("increment",e)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Mr=e}(i.SDK_VERSION),(0,i._registerComponent)(new o.wA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new $p(new Xr(e.getProvider("auth-internal")),new ti(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hr(Wr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),(0,i.registerVersion)(Ar,"3.12.0",e),(0,i.registerVersion)(Ar,"3.12.0","esm2017")}()},5854:(e,t,n)=>{n.d(t,{BH:()=>f,G6:()=>x,L:()=>s,LL:()=>E,P0:()=>d,Pz:()=>p,Sg:()=>m,UG:()=>y,ZB:()=>l,ZR:()=>C,aH:()=>h,b$:()=>T,eu:()=>k,hl:()=>S,jU:()=>w,m9:()=>V,ne:()=>Z,pd:()=>O,r3:()=>D,ru:()=>b,tV:()=>a,uI:()=>v,vZ:()=>A,w1:()=>I,xO:()=>M,xb:()=>P,z$:()=>g,zd:()=>N});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==l)throw new o;const c=t<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=l(e[n],t[n]));return e}const c=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return c()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDTkNut57bBIDCj7yo1ZHN1KoKsx_5I5Fo",REACT_APP_FIREBASE_AUTH_DOMAIN:"scheduler-25721.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://scheduler-25721-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"scheduler-25721",REACT_APP_FIREBASE_STORAGE_BUCKET:"scheduler-25721.appspot.com",REACT_APP_FIREBASE_SENDER_ID:"956203334049",REACT_APP_FIREBASE_APP_ID:"1:956203334049:web:eb53d3e2638f6289a9b3e0",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-ZLGG19MEDK",REACT_APP_CAPTCHA_SITE_KEY:"6LeDCd0lAAAAAOpVA3Hc_kSwoZmmVjpTEF4x1OaZ"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{const t=(e=>{var t,n;return null===(n=null===(t=u())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function w(){return"object"===typeof self&&self.self===self}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function I(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function x(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){try{return"object"===typeof indexedDB}catch(e){return!1}}function k(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class C extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E.prototype.create)}}class E{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(_,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new C(n,o,t)}}const _=/\{\$([^}]+)}/g;function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function P(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(R(n)&&R(o)){if(!A(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R(e){return null!==e&&"object"===typeof e}function M(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function N(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function O(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Z(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=F),void 0===r.error&&(r.error=F),void 0===r.complete&&(r.complete=F);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function F(){}function V(e){return e&&e._delegate?e._delegate:e}},2080:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(2791),i=n(7563),o=n(9723),s=n(184);const a=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function l(e){const t=[],n=[];return Array.from(e.querySelectorAll(a)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function c(){return!0}const u=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:a=!1,disableRestoreFocus:u=!1,getTabbable:d=l,isEnabled:h=c,open:p}=e,f=r.useRef(!1),m=r.useRef(null),g=r.useRef(null),v=r.useRef(null),y=r.useRef(null),w=r.useRef(!1),b=r.useRef(null),T=(0,i.Z)(t.ref,b),I=r.useRef(null);r.useEffect((()=>{p&&b.current&&(w.current=!n)}),[n,p]),r.useEffect((()=>{if(!p||!b.current)return;const e=(0,o.Z)(b.current);return b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),w.current&&b.current.focus()),()=>{u||(v.current&&v.current.focus&&(f.current=!0,v.current.focus()),v.current=null)}}),[p]),r.useEffect((()=>{if(!p||!b.current)return;const e=(0,o.Z)(b.current),t=t=>{const{current:n}=b;if(null!==n)if(e.hasFocus()&&!a&&h()&&!f.current){if(!n.contains(e.activeElement)){if(t&&y.current!==t.target||e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!w.current)return;let o=[];if(e.activeElement!==m.current&&e.activeElement!==g.current||(o=d(b.current)),o.length>0){var r,i;const e=Boolean((null==(r=I.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=I.current)?void 0:i.key)),t=o[0],n=o[o.length-1];"string"!==typeof t&&"string"!==typeof n&&(e?n.focus():t.focus())}else n.focus()}}else f.current=!1},n=t=>{I.current=t,!a&&h()&&"Tab"===t.key&&e.activeElement===b.current&&t.shiftKey&&(f.current=!0,g.current&&g.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}),[n,a,u,h,p,d]);const x=e=>{null===v.current&&(v.current=e.relatedTarget),w.current=!0};return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("div",{tabIndex:p?0:-1,onFocus:x,ref:m,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:T,onFocus:e=>{null===v.current&&(v.current=e.relatedTarget),w.current=!0,y.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,s.jsx)("div",{tabIndex:p?0:-1,onFocus:x,ref:g,"data-testid":"sentinelEnd"})]})}},6174:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(2791),i=n(4164),o=n(7563),s=n(5721),a=n(2971),l=n(184);const c=r.forwardRef((function(e,t){const{children:n,container:c,disablePortal:u=!1}=e,[d,h]=r.useState(null),p=(0,o.Z)(r.isValidElement(n)?n.ref:null,t);if((0,s.Z)((()=>{u||h(function(e){return"function"===typeof e?e():e}(c)||document.body)}),[c,u]),(0,s.Z)((()=>{if(d&&!u)return(0,a.Z)(t,d),()=>{(0,a.Z)(t,null)}}),[t,d,u]),u){if(r.isValidElement(n)){const e={ref:p};return r.cloneElement(n,e)}return(0,l.jsx)(r.Fragment,{children:n})}return(0,l.jsx)(r.Fragment,{children:d?i.createPortal(n,d):d})}))},6826:(e,t,n)=>{n.d(t,{T:()=>s});var r=n(2791);n(184);const i={disableDefaultClasses:!1},o=r.createContext(i);function s(e){const{disableDefaultClasses:t}=r.useContext(o);return n=>t?"":e(n)}},627:(e,t,n)=>{function r(e){return"string"===typeof e}n.d(t,{Z:()=>r})},1503:(e,t,n)=>{function r(e,t){return"function"===typeof e?e(t):e}n.d(t,{Z:()=>r})},8069:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(7462),i=n(3366),o=n(7563),s=n(627);var a=n(8182);function l(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}function c(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:o,className:s}=e;if(!t){const e=(0,a.Z)(null==o?void 0:o.className,null==i?void 0:i.className,s,null==n?void 0:n.className),t=(0,r.Z)({},null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),l=(0,r.Z)({},n,o,i);return e.length>0&&(l.className=e),Object.keys(t).length>0&&(l.style=t),{props:l,internalRef:void 0}}const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}((0,r.Z)({},o,i)),u=l(i),d=l(o),h=t(c),p=(0,a.Z)(null==h?void 0:h.className,null==n?void 0:n.className,s,null==o?void 0:o.className,null==i?void 0:i.className),f=(0,r.Z)({},null==h?void 0:h.style,null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),m=(0,r.Z)({},h,n,d,u);return p.length>0&&(m.className=p),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:h.ref}}var u=n(1503);const d=["elementType","externalSlotProps","ownerState"];function h(e){var t;const{elementType:n,externalSlotProps:a,ownerState:l}=e,h=(0,i.Z)(e,d),p=(0,u.Z)(a,l),{props:f,internalRef:m}=c((0,r.Z)({},h,{externalSlotProps:p})),g=(0,o.Z)(m,null==p?void 0:p.ref,null==(t=e.additionalProps)?void 0:t.ref),v=function(e,t,n){return void 0===e||(0,s.Z)(e)?t:(0,r.Z)({},t,{ownerState:(0,r.Z)({},t.ownerState,n)})}(n,(0,r.Z)({},f,{ref:g}),l);return v}},2739:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(3366),i=n(7462),o=n(2791),s=n(8182),a=n(4419),l=n(6934),c=n(1402),u=n(2003),d=n(5878),h=n(1217);function p(e){return(0,h.Z)("MuiBackdrop",e)}(0,d.Z)("MuiBackdrop",["root","invisible"]);var f=n(184);const m=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],g=(0,l.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,i.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),v=o.forwardRef((function(e,t){var n,o,l;const d=(0,c.Z)({props:e,name:"MuiBackdrop"}),{children:h,className:v,component:y="div",components:w={},componentsProps:b={},invisible:T=!1,open:I,slotProps:x={},slots:S={},TransitionComponent:k=u.Z,transitionDuration:C}=d,E=(0,r.Z)(d,m),_=(0,i.Z)({},d,{component:y,invisible:T}),D=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,a.Z)(r,p,t)})(_),P=null!=(n=x.root)?n:b.root;return(0,f.jsx)(k,(0,i.Z)({in:I,timeout:C},E,{children:(0,f.jsx)(g,(0,i.Z)({"aria-hidden":!0},P,{as:null!=(o=null!=(l=S.root)?l:w.Root)?o:y,className:(0,s.Z)(D.root,v,null==P?void 0:P.className),ownerState:(0,i.Z)({},_,null==P?void 0:P.ownerState),classes:D,ref:t,children:h}))}))}))},1614:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(3366),i=n(7462),o=n(2791),s=n(8182),a=n(7312),l=n(1217),c=n(4419),u=n(6083);const d=(0,n(7091).ZP)();var h=n(5080),p=n(184);const f=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,h.Z)(),g=d("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,a.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),v=e=>(0,u.Z)({props:e,name:"MuiContainer",defaultTheme:m}),y=(e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e,s={root:["root",o&&"maxWidth".concat((0,a.Z)(String(o))),r&&"fixed",i&&"disableGutters"]};return(0,c.Z)(s,(e=>(0,l.Z)(t,e)),n)};var w=n(4036),b=n(6934),T=n(1402);const I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=g,useThemeProps:n=v,componentName:a="MuiContainer"}=e,l=t((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})})),c=o.forwardRef((function(e,t){const o=n(e),{className:c,component:u="div",disableGutters:d=!1,fixed:h=!1,maxWidth:m="lg"}=o,g=(0,r.Z)(o,f),v=(0,i.Z)({},o,{component:u,disableGutters:d,fixed:h,maxWidth:m}),w=y(v,a);return(0,p.jsx)(l,(0,i.Z)({as:u,ownerState:v,className:(0,s.Z)(w.root,c),ref:t},g))}));return c}({createStyledComponent:(0,b.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,w.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,T.Z)({props:e,name:"MuiContainer"})}),x=I},2003:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(7462),i=n(3366),o=n(2791),s=n(8875),a=n(3967),l=n(4999),c=n(2071),u=n(184);const d=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],h={entering:{opacity:1},entered:{opacity:1}},p=o.forwardRef((function(e,t){const n=(0,a.Z)(),p={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:f,appear:m=!0,children:g,easing:v,in:y,onEnter:w,onEntered:b,onEntering:T,onExit:I,onExited:x,onExiting:S,style:k,timeout:C=p,TransitionComponent:E=s.ZP}=e,_=(0,i.Z)(e,d),D=o.useRef(null),P=(0,c.Z)(D,g.ref,t),A=e=>t=>{if(e){const n=D.current;void 0===t?e(n):e(n,t)}},R=A(T),M=A(((e,t)=>{(0,l.n)(e);const r=(0,l.C)({style:k,timeout:C,easing:v},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),w&&w(e,t)})),N=A(b),O=A(S),Z=A((e=>{const t=(0,l.C)({style:k,timeout:C,easing:v},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),I&&I(e)})),L=A(x);return(0,u.jsx)(E,(0,r.Z)({appear:m,in:y,nodeRef:D,onEnter:M,onEntered:N,onEntering:R,onExit:Z,onExited:L,onExiting:O,addEndListener:e=>{f&&f(D.current,e)},timeout:C},_,{children:(e,t)=>o.cloneElement(g,(0,r.Z)({style:(0,r.Z)({opacity:0,visibility:"exited"!==e||y?void 0:"hidden"},h[e],k,g.props.style),ref:P},t))}))}))},3840:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(2791).createContext(void 0)},2930:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(2791),i=n(3840);function o(){return r.useContext(i.Z)}},1889:(e,t,n)=>{n.d(t,{ZP:()=>C});var r=n(3366),i=n(7462),o=n(2791),s=n(8182),a=n(1184),l=n(8519),c=n(4419),u=n(6934),d=n(1402),h=n(3967);const p=o.createContext();var f=n(5878),m=n(1217);function g(e){return(0,m.Z)("MuiGrid",e)}const v=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],y=(0,f.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...v.map((e=>"grid-xs-".concat(e))),...v.map((e=>"grid-sm-".concat(e))),...v.map((e=>"grid-md-".concat(e))),...v.map((e=>"grid-lg-".concat(e))),...v.map((e=>"grid-xl-".concat(e)))]);var w=n(184);const b=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function T(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function I(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const x=(0,u.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return(0,i.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,a.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,a.k9)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(y.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,a.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=I({breakpoints:t.breakpoints.values,values:e})),o=(0,a.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(T(o)),["& > .".concat(y.item)]:{paddingTop:T(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(y.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,a.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=I({breakpoints:t.breakpoints.values,values:e})),o=(0,a.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(T(o),")"),marginLeft:"-".concat(T(o)),["& > .".concat(y.item)]:{paddingLeft:T(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(y.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,o)=>{let s={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=(0,a.P$)({values:r.columns,breakpoints:n.breakpoints.values}),c="object"===typeof l?l[o]:l;if(void 0===c||null===c)return e;const u="".concat(Math.round(t/c*1e8)/1e6,"%");let d={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(u," + ").concat(T(e),")");d={flexBasis:t,maxWidth:t}}}s=(0,i.Z)({flexBasis:u,flexGrow:0,maxWidth:u},d)}return 0===n.breakpoints.values[o]?Object.assign(e,s):e[n.breakpoints.up(o)]=s,e}),{})}));const S=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let u=[];n&&(u=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const d=[];l.forEach((t=>{const n=e[t];n&&d.push("grid-".concat(t,"-").concat(String(n)))}));const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...d]};return(0,c.Z)(h,g,t)},k=o.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiGrid"}),{breakpoints:a}=(0,h.Z)(),c=(0,l.Z)(n),{className:u,columns:f,columnSpacing:m,component:g="div",container:v=!1,direction:y="row",item:T=!1,rowSpacing:I,spacing:k=0,wrap:C="wrap",zeroMinWidth:E=!1}=c,_=(0,r.Z)(c,b),D=I||k,P=m||k,A=o.useContext(p),R=v?f||12:A,M={},N=(0,i.Z)({},_);a.keys.forEach((e=>{null!=_[e]&&(M[e]=_[e],delete N[e])}));const O=(0,i.Z)({},c,{columns:R,container:v,direction:y,item:T,rowSpacing:D,columnSpacing:P,wrap:C,zeroMinWidth:E,spacing:k},M,{breakpoints:a.keys}),Z=S(O);return(0,w.jsx)(p.Provider,{value:R,children:(0,w.jsx)(x,(0,i.Z)({ownerState:O,className:(0,s.Z)(Z.root,u),as:g,ref:t},N))})}));const C=k},3208:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(7462),i=n(3366),o=n(2791),s=n(8875),a=n(3967),l=n(4999),c=n(2071),u=n(184);const d=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function h(e){return"scale(".concat(e,", ").concat(e**2,")")}const p={entering:{opacity:1,transform:h(1)},entered:{opacity:1,transform:"none"}},f="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),m=o.forwardRef((function(e,t){const{addEndListener:n,appear:m=!0,children:g,easing:v,in:y,onEnter:w,onEntered:b,onEntering:T,onExit:I,onExited:x,onExiting:S,style:k,timeout:C="auto",TransitionComponent:E=s.ZP}=e,_=(0,i.Z)(e,d),D=o.useRef(),P=o.useRef(),A=(0,a.Z)(),R=o.useRef(null),M=(0,c.Z)(R,g.ref,t),N=e=>t=>{if(e){const n=R.current;void 0===t?e(n):e(n,t)}},O=N(T),Z=N(((e,t)=>{(0,l.n)(e);const{duration:n,delay:r,easing:i}=(0,l.C)({style:k,timeout:C,easing:v},{mode:"enter"});let o;"auto"===C?(o=A.transitions.getAutoHeightDuration(e.clientHeight),P.current=o):o=n,e.style.transition=[A.transitions.create("opacity",{duration:o,delay:r}),A.transitions.create("transform",{duration:f?o:.666*o,delay:r,easing:i})].join(","),w&&w(e,t)})),L=N(b),F=N(S),V=N((e=>{const{duration:t,delay:n,easing:r}=(0,l.C)({style:k,timeout:C,easing:v},{mode:"exit"});let i;"auto"===C?(i=A.transitions.getAutoHeightDuration(e.clientHeight),P.current=i):i=t,e.style.transition=[A.transitions.create("opacity",{duration:i,delay:n}),A.transitions.create("transform",{duration:f?i:.666*i,delay:f?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=h(.75),I&&I(e)})),U=N(x);return o.useEffect((()=>()=>{clearTimeout(D.current)}),[]),(0,u.jsx)(E,(0,r.Z)({appear:m,in:y,nodeRef:R,onEnter:Z,onEntered:L,onEntering:O,onExit:V,onExited:U,onExiting:F,addEndListener:e=>{"auto"===C&&(D.current=setTimeout(e,P.current||0)),n&&n(R.current,e)},timeout:"auto"===C?null:C},_,{children:(e,t)=>o.cloneElement(g,(0,r.Z)({style:(0,r.Z)({opacity:0,transform:h(.75),visibility:"exited"!==e||y?void 0:"hidden"},p[e],k,g.props.style),ref:M},t))}))}));m.muiSupportAuto=!0;const g=m},3400:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(3366),i=n(7462),o=n(2791),s=n(8182),a=n(4419),l=n(2065),c=n(6934),u=n(1402),d=n(3900),h=n(4036),p=n(5878),f=n(1217);function m(e){return(0,f.Z)("MuiIconButton",e)}const g=(0,p.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var v=n(184);const y=["edge","children","className","color","disabled","disableFocusRipple","size"],w=(0,c.ZP)(d.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,h.Z)(n.color))],n.edge&&t["edge".concat((0,h.Z)(n.edge))],t["size".concat((0,h.Z)(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,i.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,i.Z)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,i.Z)({},o&&{backgroundColor:t.vars?"rgba(".concat(o.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(g.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),b=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiIconButton"}),{edge:o=!1,children:l,className:c,color:d="default",disabled:p=!1,disableFocusRipple:f=!1,size:g="medium"}=n,b=(0,r.Z)(n,y),T=(0,i.Z)({},n,{edge:o,color:d,disabled:p,disableFocusRipple:f,size:g}),I=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled","default"!==r&&"color".concat((0,h.Z)(r)),i&&"edge".concat((0,h.Z)(i)),"size".concat((0,h.Z)(o))]};return(0,a.Z)(s,m,t)})(T);return(0,v.jsx)(w,(0,i.Z)({className:(0,s.Z)(I.root,c),centerRipple:!0,focusRipple:!f,disabled:p,ref:t,ownerState:T},b,{children:l}))}))},493:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(3366),i=n(7462),o=n(2791),s=n(8182),a=n(4419),l=n(6934),c=n(1402),u=n(6199),d=n(5878),h=n(1217);function p(e){return(0,h.Z)("MuiList",e)}(0,d.Z)("MuiList",["root","padding","dense","subheader"]);var f=n(184);const m=["children","className","component","dense","disablePadding","subheader"],g=(0,l.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,i.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),v=o.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiList"}),{children:l,className:d,component:h="ul",dense:v=!1,disablePadding:y=!1,subheader:w}=n,b=(0,r.Z)(n,m),T=o.useMemo((()=>({dense:v})),[v]),I=(0,i.Z)({},n,{component:h,dense:v,disablePadding:y}),x=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e,o={root:["root",!n&&"padding",r&&"dense",i&&"subheader"]};return(0,a.Z)(o,p,t)})(I);return(0,f.jsx)(u.Z.Provider,{value:T,children:(0,f.jsxs)(g,(0,i.Z)({as:h,className:(0,s.Z)(x.root,d),ref:t,ownerState:I},b,{children:[w,l]}))})}))},6199:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(2791).createContext({})},5028:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(7462),i=n(3366),o=n(2791),s=(n(8457),n(8301)),a=n(493);const l=n(7137).Z;var c=n(2071),u=n(162),d=n(184);const h=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function p(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function f(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function m(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function g(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&m(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const v=o.forwardRef((function(e,t){const{actions:n,autoFocus:v=!1,autoFocusItem:y=!1,children:w,className:b,disabledItemsFocusable:T=!1,disableListWrap:I=!1,onKeyDown:x,variant:S="selectedMenu"}=e,k=(0,i.Z)(e,h),C=o.useRef(null),E=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,u.Z)((()=>{v&&C.current.focus()}),[v]),o.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!C.current.style.width;if(e.clientHeight<C.current.clientHeight&&n){const n="".concat(l((0,s.Z)(e)),"px");C.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,C.current.style.width="calc(100% + ".concat(n,")")}return C.current}})),[]);const _=(0,c.Z)(C,t);let D=-1;o.Children.forEach(w,((e,t)=>{o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===S&&e.props.selected||-1===D)&&(D=t),D===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(D+=1,D>=w.length&&(D=-1)))}));const P=o.Children.map(w,((e,t)=>{if(t===D){const t={};return y&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===S&&(t.tabIndex=0),o.cloneElement(e,t)}return e}));return(0,d.jsx)(a.Z,(0,r.Z)({role:"menu",ref:_,className:b,onKeyDown:e=>{const t=C.current,n=e.key,r=(0,s.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),g(t,r,I,T,p);else if("ArrowUp"===n)e.preventDefault(),g(t,r,I,T,f);else if("Home"===n)e.preventDefault(),g(t,null,I,T,p);else if("End"===n)e.preventDefault(),g(t,null,I,T,f);else if(1===n.length){const i=E.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&m(r,i);i.previousKeyMatched&&(a||g(t,r,!1,T,p,i))?e.preventDefault():i.previousKeyMatched=!1}x&&x(e)},tabIndex:v?0:-1},k,{children:P}))}))},3590:(e,t,n)=>{n.d(t,{Z:()=>F});var r=n(3366),i=n(7462),o=n(2791),s=n(8182),a=n(7563),l=n(9723),c=n(8956),u=n(8949),d=n(4419),h=n(6174),p=n(7979),f=n(7137);function m(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function g(e){return parseInt((0,p.Z)(e).getComputedStyle(e).paddingRight,10)||0}function v(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&m(e,i)}))}function y(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function w(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,l.Z)(e);return t.body===e?(0,p.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=(0,f.Z)((0,l.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(g(r)+e,"px");const t=(0,l.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(g(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,l.Z)(r).body;else{const t=r.parentElement,n=(0,p.Z)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var b=n(2080),T=n(5878),I=n(1217);function x(e){return(0,I.Z)("MuiModal",e)}(0,T.Z)("MuiModal",["root","hidden","backdrop"]);var S=n(8069),k=n(6826),C=n(184);const E=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"];const _=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&m(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);v(t,e.mount,e.modalRef,r,!0);const i=y(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=y(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=w(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=y(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&m(e.modalRef,t),v(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&m(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}},D=o.forwardRef((function(e,t){var n,s;const{children:p,closeAfterTransition:f=!1,container:g,disableAutoFocus:v=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:w=!1,disablePortal:T=!1,disableRestoreFocus:I=!1,disableScrollLock:D=!1,hideBackdrop:P=!1,keepMounted:A=!1,manager:R=_,onBackdropClick:M,onClose:N,onKeyDown:O,open:Z,onTransitionEnter:L,onTransitionExited:F,slotProps:V={},slots:U={}}=e,j=(0,r.Z)(e,E),B=R,[q,z]=o.useState(!Z),W=o.useRef({}),H=o.useRef(null),G=o.useRef(null),K=(0,a.Z)(G,t),Y=function(e){return!!e&&e.props.hasOwnProperty("in")}(p),Q=null==(n=e["aria-hidden"])||n,X=()=>(W.current.modalRef=G.current,W.current.mountNode=H.current,W.current),J=()=>{B.mount(X(),{disableScrollLock:D}),G.current&&(G.current.scrollTop=0)},$=(0,c.Z)((()=>{const e=function(e){return"function"===typeof e?e():e}(g)||(0,l.Z)(H.current).body;B.add(X(),e),G.current&&J()})),ee=o.useCallback((()=>B.isTopModal(X())),[B]),te=(0,c.Z)((e=>{H.current=e,e&&G.current&&(Z&&ee()?J():m(G.current,Q))})),ne=o.useCallback((()=>{B.remove(X(),Q)}),[B,Q]);o.useEffect((()=>()=>{ne()}),[ne]),o.useEffect((()=>{Z?$():Y&&f||ne()}),[Z,ne,Y,f,$]);const re=(0,i.Z)({},e,{closeAfterTransition:f,disableAutoFocus:v,disableEnforceFocus:y,disableEscapeKeyDown:w,disablePortal:T,disableRestoreFocus:I,disableScrollLock:D,exited:q,hideBackdrop:P,keepMounted:A}),ie=(e=>{const{open:t,exited:n}=e,r={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,d.Z)(r,(0,k.T)(x))})(re),oe=()=>{z(!1),L&&L()},se=()=>{z(!0),F&&F(),f&&ne()},ae={};void 0===p.props.tabIndex&&(ae.tabIndex="-1"),Y&&(ae.onEnter=(0,u.Z)(oe,p.props.onEnter),ae.onExited=(0,u.Z)(se,p.props.onExited));const le=null!=(s=U.root)?s:"div",ce=(0,S.Z)({elementType:le,externalSlotProps:V.root,externalForwardedProps:j,additionalProps:{ref:K,role:"presentation",onKeyDown:e=>{O&&O(e),"Escape"===e.key&&ee()&&(w||(e.stopPropagation(),N&&N(e,"escapeKeyDown")))}},className:ie.root,ownerState:re}),ue=U.backdrop,de=(0,S.Z)({elementType:ue,externalSlotProps:V.backdrop,additionalProps:{"aria-hidden":!0,onClick:e=>{e.target===e.currentTarget&&(M&&M(e),N&&N(e,"backdropClick"))},open:Z},className:ie.backdrop,ownerState:re});return A||Z||Y&&!q?(0,C.jsx)(h.Z,{ref:te,container:g,disablePortal:T,children:(0,C.jsxs)(le,(0,i.Z)({},ce,{children:[!P&&ue?(0,C.jsx)(ue,(0,i.Z)({},de)):null,(0,C.jsx)(b.Z,{disableEnforceFocus:y,disableAutoFocus:v,disableRestoreFocus:I,isEnabled:ee,open:Z,children:o.cloneElement(p,ae)})]}))}):null}));var P=n(1503),A=n(627),R=n(6934),M=n(1402),N=n(2739);const O=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],Z=(0,R.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),L=(0,R.ZP)(N.Z,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),F=o.forwardRef((function(e,t){var n,a,l,c,u,d;const h=(0,M.Z)({name:"MuiModal",props:e}),{BackdropComponent:p=L,BackdropProps:f,classes:m,className:g,closeAfterTransition:v=!1,children:y,container:w,component:b,components:T={},componentsProps:I={},disableAutoFocus:x=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:k=!1,disablePortal:E=!1,disableRestoreFocus:_=!1,disableScrollLock:R=!1,hideBackdrop:N=!1,keepMounted:F=!1,onBackdropClick:V,onClose:U,open:j,slotProps:B,slots:q,theme:z}=h,W=(0,r.Z)(h,O),[H,G]=o.useState(!0),K={container:w,closeAfterTransition:v,disableAutoFocus:x,disableEnforceFocus:S,disableEscapeKeyDown:k,disablePortal:E,disableRestoreFocus:_,disableScrollLock:R,hideBackdrop:N,keepMounted:F,onBackdropClick:V,onClose:U,open:j},Y=(0,i.Z)({},h,K,{exited:H}),Q=null!=(n=null!=(a=null==q?void 0:q.root)?a:T.Root)?n:Z,X=null!=(l=null!=(c=null==q?void 0:q.backdrop)?c:T.Backdrop)?l:p,J=null!=(u=null==B?void 0:B.root)?u:I.root,$=null!=(d=null==B?void 0:B.backdrop)?d:I.backdrop;return(0,C.jsx)(D,(0,i.Z)({slots:{root:Q,backdrop:X},slotProps:{root:()=>(0,i.Z)({},(0,P.Z)(J,Y),!(0,A.Z)(Q)&&{as:b,theme:z},{className:(0,s.Z)(g,null==J?void 0:J.className,null==m?void 0:m.root,!Y.open&&Y.exited&&(null==m?void 0:m.hidden))}),backdrop:()=>(0,i.Z)({},f,(0,P.Z)($,Y),{className:(0,s.Z)(null==$?void 0:$.className,null==m?void 0:m.backdrop)})},onTransitionEnter:()=>G(!1),onTransitionExited:()=>G(!0),ref:t},W,K,{children:y}))}))},5527:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(3366),i=n(7462),o=n(2791),s=n(8182),a=n(4419),l=n(2065),c=n(6934);const u=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var d=n(1402),h=n(5878),p=n(1217);function f(e){return(0,p.Z)("MuiPaper",e)}(0,h.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var m=n(184);const g=["className","component","elevation","square","variant"],v=(0,c.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,i.Z)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,i.Z)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,l.Fq)("#fff",u(n.elevation)),", ").concat((0,l.Fq)("#fff",u(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),y=o.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiPaper"}),{className:o,component:l="div",elevation:c=1,square:u=!1,variant:h="elevation"}=n,p=(0,r.Z)(n,g),y=(0,i.Z)({},n,{component:l,elevation:c,square:u,variant:h}),w=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,a.Z)(o,f,i)})(y);return(0,m.jsx)(v,(0,i.Z)({as:l,ownerState:y,className:(0,s.Z)(w.root,o),ref:t},p))}))},8496:(e,t,n)=>{n.d(t,{Z:()=>Yt});var r=n(7462),i=n(3366),o=n(2791),s=n(8182),a=n(4419),l=n(6248),c=n(6934),u=n(1402),d=n(2466),h=n(6189),p=n(4164),f=n(7563),m=n(7979),g=n(3981),v=n(5721),y=n(184);const w=["onChange","maxRows","minRows","style","value"];function b(e){return parseInt(e,10)||0}const T={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function I(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}const x=o.forwardRef((function(e,t){const{onChange:n,maxRows:s,minRows:a=1,style:l,value:c}=e,u=(0,i.Z)(e,w),{current:d}=o.useRef(null!=c),h=o.useRef(null),x=(0,f.Z)(t,h),S=o.useRef(null),k=o.useRef(0),[C,E]=o.useState({outerHeightStyle:0}),_=o.useCallback((()=>{const t=h.current,n=(0,m.Z)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};const r=S.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const i=n.boxSizing,o=b(n.paddingBottom)+b(n.paddingTop),l=b(n.borderBottomWidth)+b(n.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let d=c;a&&(d=Math.max(Number(a)*u,d)),s&&(d=Math.min(Number(s)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===i?o+l:0),overflow:Math.abs(d-c)<=1}}),[s,a,e.placeholder]),D=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return k.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(k.current+=1,{overflow:r,outerHeightStyle:n}):e},P=o.useCallback((()=>{const e=_();I(e)||E((t=>D(t,e)))}),[_]);o.useEffect((()=>{const e=(0,g.Z)((()=>{k.current=0,h.current&&(()=>{const e=_();I(e)||p.flushSync((()=>{E((t=>D(t,e)))}))})()}));let t;const n=h.current,r=(0,m.Z)(n);return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),t.observe(n)),()=>{e.clear(),r.removeEventListener("resize",e),t&&t.disconnect()}})),(0,v.Z)((()=>{P()})),o.useEffect((()=>{k.current=0}),[c]);return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)("textarea",(0,r.Z)({value:c,onChange:e=>{k.current=0,d||P(),n&&n(e)},ref:x,rows:a,style:(0,r.Z)({height:C.outerHeightStyle,overflow:C.overflow?"hidden":void 0},l)},u)),(0,y.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:(0,r.Z)({},T,l,{padding:0})})]})}));var S=n(627);function k(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}var C=n(3840),E=n(2930),_=n(4036),D=n(2071),P=n(162),A=n(2554);function R(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,y.jsx)(A.xB,{styles:r})}var M=n(418);const N=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=(0,M.Z)(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,y.jsx)(R,{styles:o})};var O=n(6482),Z=n(988);const L=function(e){return(0,y.jsx)(N,(0,r.Z)({},e,{defaultTheme:O.Z,themeId:Z.Z}))};function F(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(F(e.value)&&""!==e.value||t&&F(e.defaultValue)&&""!==e.defaultValue)}var U=n(5878),j=n(1217);function B(e){return(0,j.Z)("MuiInputBase",e)}const q=(0,U.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),z=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],W=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,_.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},H=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},G=(0,c.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:W})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(q.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,r.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),K=(0,c.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:H})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode,o=(0,r.Z)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,r.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(q.formControl," &")]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(q.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),Y=(0,y.jsx)(L,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Q=o.forwardRef((function(e,t){var n;const l=(0,u.Z)({props:e,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:d,autoFocus:p,className:f,components:m={},componentsProps:g={},defaultValue:v,disabled:w,disableInjectingGlobalStyles:b,endAdornment:T,fullWidth:I=!1,id:A,inputComponent:R="input",inputProps:M={},inputRef:N,maxRows:O,minRows:Z,multiline:L=!1,name:F,onBlur:U,onChange:j,onClick:q,onFocus:W,onKeyDown:H,onKeyUp:Q,placeholder:X,readOnly:J,renderSuffix:$,rows:ee,slotProps:te={},slots:ne={},startAdornment:re,type:ie="text",value:oe}=l,se=(0,i.Z)(l,z),ae=null!=M.value?M.value:oe,{current:le}=o.useRef(null!=ae),ce=o.useRef(),ue=o.useCallback((e=>{0}),[]),de=(0,D.Z)(ce,N,M.ref,ue),[he,pe]=o.useState(!1),fe=(0,E.Z)();const me=k({props:l,muiFormControl:fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});me.focused=fe?fe.focused:he,o.useEffect((()=>{!fe&&w&&he&&(pe(!1),U&&U())}),[fe,w,he,U]);const ge=fe&&fe.onFilled,ve=fe&&fe.onEmpty,ye=o.useCallback((e=>{V(e)?ge&&ge():ve&&ve()}),[ge,ve]);(0,P.Z)((()=>{le&&ye({value:ae})}),[ae,ye,le]);o.useEffect((()=>{ye(ce.current)}),[]);let we=R,be=M;L&&"input"===we&&(be=ee?(0,r.Z)({type:void 0,minRows:ee,maxRows:ee},be):(0,r.Z)({type:void 0,maxRows:O,minRows:Z},be),we=x);o.useEffect((()=>{fe&&fe.setAdornedStart(Boolean(re))}),[fe,re]);const Te=(0,r.Z)({},l,{color:me.color||"primary",disabled:me.disabled,endAdornment:T,error:me.error,focused:me.focused,formControl:fe,fullWidth:I,hiddenLabel:me.hiddenLabel,multiline:L,size:me.size,startAdornment:re,type:ie}),Ie=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:l,fullWidth:c,hiddenLabel:u,multiline:d,readOnly:h,size:p,startAdornment:f,type:m}=e,g={root:["root","color".concat((0,_.Z)(n)),r&&"disabled",i&&"error",c&&"fullWidth",s&&"focused",l&&"formControl","small"===p&&"sizeSmall",d&&"multiline",f&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled","search"===m&&"inputTypeSearch",d&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return(0,a.Z)(g,B,t)})(Te),xe=ne.root||m.Root||G,Se=te.root||g.root||{},ke=ne.input||m.Input||K;return be=(0,r.Z)({},be,null!=(n=te.input)?n:g.input),(0,y.jsxs)(o.Fragment,{children:[!b&&Y,(0,y.jsxs)(xe,(0,r.Z)({},Se,!(0,S.Z)(xe)&&{ownerState:(0,r.Z)({},Te,Se.ownerState)},{ref:t,onClick:e=>{ce.current&&e.currentTarget===e.target&&ce.current.focus(),q&&!me.disabled&&q(e)}},se,{className:(0,s.Z)(Ie.root,Se.className,f,J&&"MuiInputBase-readOnly"),children:[re,(0,y.jsx)(C.Z.Provider,{value:null,children:(0,y.jsx)(ke,(0,r.Z)({ownerState:Te,"aria-invalid":me.error,"aria-describedby":c,autoComplete:d,autoFocus:p,defaultValue:v,disabled:me.disabled,id:A,onAnimationStart:e=>{ye("mui-auto-fill-cancel"===e.animationName?ce.current:{value:"x"})},name:F,placeholder:X,readOnly:J,required:me.required,rows:ee,value:ae,onKeyDown:H,onKeyUp:Q,type:ie},be,!(0,S.Z)(ke)&&{as:we,ownerState:(0,r.Z)({},Te,be.ownerState)},{ref:de,className:(0,s.Z)(Ie.input,be.className,J&&"MuiInputBase-readOnly"),onBlur:e=>{U&&U(e),M.onBlur&&M.onBlur(e),fe&&fe.onBlur?fe.onBlur(e):pe(!1)},onChange:function(e){if(!le){const t=e.target||ce.current;if(null==t)throw new Error((0,h.Z)(1));ye({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];M.onChange&&M.onChange(e,...n),j&&j(e,...n)},onFocus:e=>{me.disabled?e.stopPropagation():(W&&W(e),M.onFocus&&M.onFocus(e),fe&&fe.onFocus?fe.onFocus(e):pe(!0))}}))}),T,$?$((0,r.Z)({},me,{startAdornment:re})):null]}))]})})),X=Q;function J(e){return(0,j.Z)("MuiInput",e)}const $=(0,r.Z)({},q,(0,U.Z)("MuiInput",["root","underline","input"])),ee=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],te=(0,c.ZP)(G,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...W(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let i="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(i="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,r.Z)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat($.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat($.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat($.disabled,", .").concat($.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}},["&.".concat($.disabled,":before")]:{borderBottomStyle:"dotted"}})})),ne=(0,c.ZP)(K,{name:"MuiInput",slot:"Input",overridesResolver:H})({}),re=o.forwardRef((function(e,t){var n,o,s,l;const c=(0,u.Z)({props:e,name:"MuiInput"}),{disableUnderline:h,components:p={},componentsProps:f,fullWidth:m=!1,inputComponent:g="input",multiline:v=!1,slotProps:w,slots:b={},type:T="text"}=c,I=(0,i.Z)(c,ee),x=(e=>{const{classes:t,disableUnderline:n}=e,i={root:["root",!n&&"underline"],input:["input"]},o=(0,a.Z)(i,J,t);return(0,r.Z)({},t,o)})(c),S={root:{ownerState:{disableUnderline:h}}},k=(null!=w?w:f)?(0,d.Z)(null!=w?w:f,S):S,C=null!=(n=null!=(o=b.root)?o:p.Root)?n:te,E=null!=(s=null!=(l=b.input)?l:p.Input)?s:ne;return(0,y.jsx)(X,(0,r.Z)({slots:{root:C,input:E},slotProps:k,fullWidth:m,inputComponent:g,multiline:v,ref:t,type:T},I,{classes:x}))}));re.muiName="Input";const ie=re;function oe(e){return(0,j.Z)("MuiFilledInput",e)}const se=(0,r.Z)({},q,(0,U.Z)("MuiFilledInput",["root","underline","input"])),ae=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],le=(0,c.ZP)(G,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...W(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var i;const o="light"===t.palette.mode,s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,r.Z)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(se.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(se.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:c}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat(null==(i=(t.vars||t).palette[n.color||"primary"])?void 0:i.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(se.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(se.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(se.disabled,", .").concat(se.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(se.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,r.Z)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),ce=(0,c.ZP)(K,{name:"MuiFilledInput",slot:"Input",overridesResolver:H})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),ue=o.forwardRef((function(e,t){var n,o,s,l;const c=(0,u.Z)({props:e,name:"MuiFilledInput"}),{components:h={},componentsProps:p,fullWidth:f=!1,inputComponent:m="input",multiline:g=!1,slotProps:v,slots:w={},type:b="text"}=c,T=(0,i.Z)(c,ae),I=(0,r.Z)({},c,{fullWidth:f,inputComponent:m,multiline:g,type:b}),x=(e=>{const{classes:t,disableUnderline:n}=e,i={root:["root",!n&&"underline"],input:["input"]},o=(0,a.Z)(i,oe,t);return(0,r.Z)({},t,o)})(c),S={root:{ownerState:I},input:{ownerState:I}},k=(null!=v?v:p)?(0,d.Z)(null!=v?v:p,S):S,C=null!=(n=null!=(o=w.root)?o:h.Root)?n:le,E=null!=(s=null!=(l=w.input)?l:h.Input)?s:ce;return(0,y.jsx)(X,(0,r.Z)({slots:{root:C,input:E},componentsProps:k,fullWidth:f,inputComponent:m,multiline:g,ref:t,type:b},T,{classes:x}))}));ue.muiName="Input";const de=ue;var he;const pe=["children","classes","className","label","notched"],fe=(0,c.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),me=(0,c.ZP)("legend")((e=>{let{ownerState:t,theme:n}=e;return(0,r.Z)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,r.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function ge(e){return(0,j.Z)("MuiOutlinedInput",e)}const ve=(0,r.Z)({},q,(0,U.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),ye=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],we=(0,c.ZP)(G,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:W})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,r.Z)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(ve.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(ve.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):i}},["&.".concat(ve.focused," .").concat(ve.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(ve.error," .").concat(ve.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(ve.disabled," .").concat(ve.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,r.Z)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),be=(0,c.ZP)((function(e){const{className:t,label:n,notched:o}=e,s=(0,i.Z)(e,pe),a=null!=n&&""!==n,l=(0,r.Z)({},e,{notched:o,withLabel:a});return(0,y.jsx)(fe,(0,r.Z)({"aria-hidden":!0,className:t,ownerState:l},s,{children:(0,y.jsx)(me,{ownerState:l,children:a?(0,y.jsx)("span",{children:n}):he||(he=(0,y.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Te=(0,c.ZP)(K,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:H})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Ie=o.forwardRef((function(e,t){var n,s,l,c,d;const h=(0,u.Z)({props:e,name:"MuiOutlinedInput"}),{components:p={},fullWidth:f=!1,inputComponent:m="input",label:g,multiline:v=!1,notched:w,slots:b={},type:T="text"}=h,I=(0,i.Z)(h,ye),x=(e=>{const{classes:t}=e,n=(0,a.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ge,t);return(0,r.Z)({},t,n)})(h),S=(0,E.Z)(),C=k({props:h,muiFormControl:S,states:["required"]}),_=(0,r.Z)({},h,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:S,fullWidth:f,hiddenLabel:C.hiddenLabel,multiline:v,size:C.size,type:T}),D=null!=(n=null!=(s=b.root)?s:p.Root)?n:we,P=null!=(l=null!=(c=b.input)?c:p.Input)?l:Te;return(0,y.jsx)(X,(0,r.Z)({slots:{root:D,input:P},renderSuffix:e=>(0,y.jsx)(be,{ownerState:_,className:x.notchedOutline,label:null!=g&&""!==g&&C.required?d||(d=(0,y.jsxs)(o.Fragment,{children:[g,"\u2009","*"]})):g,notched:"undefined"!==typeof w?w:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:f,inputComponent:m,multiline:v,ref:t,type:T},I,{classes:(0,r.Z)({},x,{notchedOutline:null})}))}));Ie.muiName="Input";const xe=Ie;function Se(e){return(0,j.Z)("MuiFormLabel",e)}const ke=(0,U.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ce=["children","className","color","component","disabled","error","filled","focused","required"],Ee=(0,c.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,r.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(ke.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(ke.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(ke.error)]:{color:(t.vars||t).palette.error.main}})})),_e=(0,c.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(ke.error)]:{color:(t.vars||t).palette.error.main}}})),De=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiFormLabel"}),{children:o,className:l,component:c="label"}=n,d=(0,i.Z)(n,Ce),h=k({props:n,muiFormControl:(0,E.Z)(),states:["color","required","focused","disabled","error","filled"]}),p=(0,r.Z)({},n,{color:h.color||"primary",component:c,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),f=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:l}=e,c={root:["root","color".concat((0,_.Z)(n)),i&&"disabled",o&&"error",s&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return(0,a.Z)(c,Se,t)})(p);return(0,y.jsxs)(Ee,(0,r.Z)({as:c,ownerState:p,className:(0,s.Z)(f.root,l),ref:t},d,{children:[o,h.required&&(0,y.jsxs)(_e,{ownerState:p,"aria-hidden":!0,className:f.asterisk,children:["\u2009","*"]})]}))}));function Pe(e){return(0,j.Z)("MuiInputLabel",e)}(0,U.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Ae=["disableAnimation","margin","shrink","variant","className"],Re=(0,c.ZP)(De,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ke.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,r.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,r.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,r.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Me=o.forwardRef((function(e,t){const n=(0,u.Z)({name:"MuiInputLabel",props:e}),{disableAnimation:o=!1,shrink:l,className:c}=n,d=(0,i.Z)(n,Ae),h=(0,E.Z)();let p=l;"undefined"===typeof p&&h&&(p=h.filled||h.focused||h.adornedStart);const f=k({props:n,muiFormControl:h,states:["size","variant","required"]}),m=(0,r.Z)({},n,{disableAnimation:o,formControl:h,shrink:p,size:f.size,variant:f.variant,required:f.required}),g=(e=>{const{classes:t,formControl:n,size:i,shrink:o,disableAnimation:s,variant:l,required:c}=e,u={root:["root",n&&"formControl",!s&&"animated",o&&"shrink","small"===i&&"sizeSmall",l],asterisk:[c&&"asterisk"]},d=(0,a.Z)(u,Pe,t);return(0,r.Z)({},t,d)})(m);return(0,y.jsx)(Re,(0,r.Z)({"data-shrink":p,ownerState:m,ref:t,className:(0,s.Z)(g.root,c)},d,{classes:g}))}));var Ne=n(9103);function Oe(e){return(0,j.Z)("MuiFormControl",e)}(0,U.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ze=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Le=(0,c.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,r.Z)({},t.root,t["margin".concat((0,_.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,r.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Fe=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiFormControl"}),{children:l,className:c,color:d="primary",component:h="div",disabled:p=!1,error:f=!1,focused:m,fullWidth:g=!1,hiddenLabel:v=!1,margin:w="none",required:b=!1,size:T="medium",variant:I="outlined"}=n,x=(0,i.Z)(n,Ze),S=(0,r.Z)({},n,{color:d,component:h,disabled:p,error:f,fullWidth:g,hiddenLabel:v,margin:w,required:b,size:T,variant:I}),k=(e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root","none"!==n&&"margin".concat((0,_.Z)(n)),r&&"fullWidth"]};return(0,a.Z)(i,Oe,t)})(S),[E,D]=o.useState((()=>{let e=!1;return l&&o.Children.forEach(l,(t=>{if(!(0,Ne.Z)(t,["Input","Select"]))return;const n=(0,Ne.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[P,A]=o.useState((()=>{let e=!1;return l&&o.Children.forEach(l,(t=>{(0,Ne.Z)(t,["Input","Select"])&&(V(t.props,!0)||V(t.props.inputProps,!0))&&(e=!0)})),e})),[R,M]=o.useState(!1);p&&R&&M(!1);const N=void 0===m||p?R:m;let O;const Z=o.useMemo((()=>({adornedStart:E,setAdornedStart:D,color:d,disabled:p,error:f,filled:P,focused:N,fullWidth:g,hiddenLabel:v,size:T,onBlur:()=>{M(!1)},onEmpty:()=>{A(!1)},onFilled:()=>{A(!0)},onFocus:()=>{M(!0)},registerEffect:O,required:b,variant:I})),[E,d,p,f,P,N,g,v,O,b,T,I]);return(0,y.jsx)(C.Z.Provider,{value:Z,children:(0,y.jsx)(Le,(0,r.Z)({as:h,ownerState:S,className:(0,s.Z)(k.root,c),ref:t},x,{children:l}))})}));function Ve(e){return(0,j.Z)("MuiFormHelperText",e)}const Ue=(0,U.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var je;const Be=["children","className","component","disabled","error","filled","focused","margin","required","variant"],qe=(0,c.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat((0,_.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(Ue.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Ue.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),ze=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiFormHelperText"}),{children:o,className:l,component:c="p"}=n,d=(0,i.Z)(n,Be),h=k({props:n,muiFormControl:(0,E.Z)(),states:["variant","size","disabled","error","filled","focused","required"]}),p=(0,r.Z)({},n,{component:c,contained:"filled"===h.variant||"outlined"===h.variant,variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),f=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:l,required:c}=e,u={root:["root",i&&"disabled",o&&"error",r&&"size".concat((0,_.Z)(r)),n&&"contained",l&&"focused",s&&"filled",c&&"required"]};return(0,a.Z)(u,Ve,t)})(p);return(0,y.jsx)(qe,(0,r.Z)({as:c,ownerState:p,className:(0,s.Z)(f.root,l),ref:t},d,{children:" "===o?je||(je=(0,y.jsx)("span",{className:"notranslate",children:"\u200b"})):o}))}));n(8457);var We=n(8301),He=n(5028),Ge=n(5527),Ke=n(3199),Ye=n(7602),Qe=n(3208),Xe=n(3590);function Je(e){return(0,j.Z)("MuiPopover",e)}(0,U.Z)("MuiPopover",["root","paper"]);const $e=["onEntering"],et=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function tt(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function nt(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function rt(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function it(e){return"function"===typeof e?e():e}const ot=(0,c.ZP)(Xe.Z,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),st=(0,c.ZP)(Ge.Z,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),at=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiPopover"}),{action:l,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:h,anchorReference:p="anchorEl",children:f,className:m,container:g,elevation:v=8,marginThreshold:w=16,open:b,PaperProps:T={},transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:x=Qe.Z,transitionDuration:S="auto",TransitionProps:{onEntering:k}={}}=n,C=(0,i.Z)(n.TransitionProps,$e),E=(0,i.Z)(n,et),_=o.useRef(),P=(0,D.Z)(_,T.ref),A=(0,r.Z)({},n,{anchorOrigin:d,anchorReference:p,elevation:v,marginThreshold:w,PaperProps:T,transformOrigin:I,TransitionComponent:x,transitionDuration:S,TransitionProps:C}),R=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"],paper:["paper"]},Je,t)})(A),M=o.useCallback((()=>{if("anchorPosition"===p)return h;const e=it(c),t=(e&&1===e.nodeType?e:(0,We.Z)(_.current).body).getBoundingClientRect();return{top:t.top+tt(t,d.vertical),left:t.left+nt(t,d.horizontal)}}),[c,d.horizontal,d.vertical,h,p]),N=o.useCallback((e=>({vertical:tt(e,I.vertical),horizontal:nt(e,I.horizontal)})),[I.horizontal,I.vertical]),O=o.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=N(t);if("none"===p)return{top:null,left:null,transformOrigin:rt(n)};const r=M();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,l=(0,Ye.Z)(it(c)),u=l.innerHeight-w,d=l.innerWidth-w;if(i<w){const e=i-w;i-=e,n.vertical+=e}else if(s>u){const e=s-u;i-=e,n.vertical+=e}if(o<w){const e=o-w;o-=e,n.horizontal+=e}else if(a>d){const e=a-d;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:rt(n)}}),[c,p,M,N,w]),[Z,L]=o.useState(b),F=o.useCallback((()=>{const e=_.current;if(!e)return;const t=O(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,L(!0)}),[O]);o.useEffect((()=>{b&&F()})),o.useImperativeHandle(l,(()=>b?{updatePosition:()=>{F()}}:null),[b,F]),o.useEffect((()=>{if(!b)return;const e=(0,Ke.Z)((()=>{F()})),t=(0,Ye.Z)(c);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[c,b,F]);let V=S;"auto"!==S||x.muiSupportAuto||(V=void 0);const U=g||(c?(0,We.Z)(it(c)).body:void 0);return(0,y.jsx)(ot,(0,r.Z)({BackdropProps:{invisible:!0},className:(0,s.Z)(R.root,m),container:U,open:b,ref:t,ownerState:A},E,{children:(0,y.jsx)(x,(0,r.Z)({appear:!0,in:b,onEntering:(e,t)=>{k&&k(e,t),F()},onExited:()=>{L(!1)},timeout:V},C,{children:(0,y.jsx)(st,(0,r.Z)({elevation:v},T,{ref:P,className:(0,s.Z)(R.paper,T.className)},Z?void 0:{style:(0,r.Z)({},T.style,{opacity:0})},{ownerState:A,children:f}))}))}))}));var lt=n(3967);function ct(e){return(0,j.Z)("MuiMenu",e)}(0,U.Z)("MuiMenu",["root","paper","list"]);const ut=["onEntering"],dt=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],ht={vertical:"top",horizontal:"right"},pt={vertical:"top",horizontal:"left"},ft=(0,c.ZP)(at,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),mt=(0,c.ZP)(Ge.Z,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),gt=(0,c.ZP)(He.Z,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),vt=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiMenu"}),{autoFocus:l=!0,children:c,disableAutoFocusItem:d=!1,MenuListProps:h={},onClose:p,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:w}={},variant:b="selectedMenu"}=n,T=(0,i.Z)(n.TransitionProps,ut),I=(0,i.Z)(n,dt),x=(0,lt.Z)(),S="rtl"===x.direction,k=(0,r.Z)({},n,{autoFocus:l,disableAutoFocusItem:d,MenuListProps:h,onEntering:w,PaperProps:m,transitionDuration:v,TransitionProps:T,variant:b}),C=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"],paper:["paper"],list:["list"]},ct,t)})(k),E=l&&!d&&f,_=o.useRef(null);let D=-1;return o.Children.map(c,((e,t)=>{o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===D)&&(D=t))})),(0,y.jsx)(ft,(0,r.Z)({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?ht:pt,PaperProps:(0,r.Z)({as:mt},m,{classes:(0,r.Z)({},m.classes,{root:C.paper})}),className:C.root,open:f,ref:t,transitionDuration:v,TransitionProps:(0,r.Z)({onEntering:(e,t)=>{_.current&&_.current.adjustStyleForScrollbar(e,x),w&&w(e,t)}},T),ownerState:k},I,{classes:g,children:(0,y.jsx)(gt,(0,r.Z)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:_,autoFocus:l&&(-1===D||d),autoFocusItem:E,variant:b},h,{className:(0,s.Z)(C.list,h.className),children:c}))}))}));function yt(e){return(0,j.Z)("MuiNativeSelect",e)}const wt=(0,U.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),bt=["className","disabled","error","IconComponent","inputRef","variant"],Tt=e=>{let{ownerState:t,theme:n}=e;return(0,r.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,r.Z)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(wt.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},It=(0,c.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:c.FO,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(wt.multiple)]:t.multiple}]}})(Tt),xt=e=>{let{ownerState:t,theme:n}=e;return(0,r.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(wt.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},St=(0,c.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,_.Z)(n.variant))],n.open&&t.iconOpen]}})(xt),kt=o.forwardRef((function(e,t){const{className:n,disabled:l,error:c,IconComponent:u,inputRef:d,variant:h="standard"}=e,p=(0,i.Z)(e,bt),f=(0,r.Z)({},e,{disabled:l,variant:h,error:c}),m=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat((0,_.Z)(n)),o&&"iconOpen",r&&"disabled"]};return(0,a.Z)(l,yt,t)})(f);return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(It,(0,r.Z)({ownerState:f,className:(0,s.Z)(m.select,n),disabled:l,ref:d||t},p)),e.multiple?null:(0,y.jsx)(St,{as:u,ownerState:f,className:m.icon})]})}));var Ct=n(8278);function Et(e){return(0,j.Z)("MuiSelect",e)}const _t=(0,U.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Dt;const Pt=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],At=(0,c.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(_t.select)]:t.select},{["&.".concat(_t.select)]:t[n.variant]},{["&.".concat(_t.error)]:t.error},{["&.".concat(_t.multiple)]:t.multiple}]}})(Tt,{["&.".concat(_t.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Rt=(0,c.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,_.Z)(n.variant))],n.open&&t.iconOpen]}})(xt),Mt=(0,c.ZP)("input",{shouldForwardProp:e=>(0,c.Dz)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Nt(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Ot(e){return null==e||"string"===typeof e&&!e.trim()}const Zt=o.forwardRef((function(e,t){const{"aria-describedby":n,"aria-label":l,autoFocus:c,autoWidth:u,children:d,className:p,defaultOpen:f,defaultValue:m,disabled:g,displayEmpty:v,error:w=!1,IconComponent:b,inputRef:T,labelId:I,MenuProps:x={},multiple:S,name:k,onBlur:C,onChange:E,onClose:P,onFocus:A,onOpen:R,open:M,readOnly:N,renderValue:O,SelectDisplayProps:Z={},tabIndex:L,value:F,variant:U="standard"}=e,j=(0,i.Z)(e,Pt),[B,q]=(0,Ct.Z)({controlled:F,default:m,name:"Select"}),[z,W]=(0,Ct.Z)({controlled:M,default:f,name:"Select"}),H=o.useRef(null),G=o.useRef(null),[K,Y]=o.useState(null),{current:Q}=o.useRef(null!=M),[X,J]=o.useState(),$=(0,D.Z)(t,T),ee=o.useCallback((e=>{G.current=e,e&&Y(e)}),[]),te=null==K?void 0:K.parentNode;o.useImperativeHandle($,(()=>({focus:()=>{G.current.focus()},node:H.current,value:B})),[B]),o.useEffect((()=>{f&&z&&K&&!Q&&(J(u?null:te.clientWidth),G.current.focus())}),[K,u]),o.useEffect((()=>{c&&G.current.focus()}),[c]),o.useEffect((()=>{if(!I)return;const e=(0,We.Z)(G.current).getElementById(I);if(e){const t=()=>{getSelection().isCollapsed&&G.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[I]);const ne=(e,t)=>{e?R&&R(t):P&&P(t),Q||(J(u?null:te.clientWidth),W(e))},re=o.Children.toArray(d),ie=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(S){n=Array.isArray(B)?B.slice():[];const t=B.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),B!==n&&(q(n),E)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:k}}),E(i,e)}S||ne(!1,t)}},oe=null!==K&&z;let se,ae;delete j["aria-invalid"];const le=[];let ce=!1,ue=!1;(V({value:B})||v)&&(O?se=O(B):ce=!0);const de=re.map((e=>{if(!o.isValidElement(e))return null;let t;if(S){if(!Array.isArray(B))throw new Error((0,h.Z)(2));t=B.some((t=>Nt(t,e.props.value))),t&&ce&&le.push(e.props.children)}else t=Nt(B,e.props.value),t&&ce&&(ae=e.props.children);return t&&(ue=!0),o.cloneElement(e,{"aria-selected":t?"true":"false",onClick:ie(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ce&&(se=S?0===le.length?null:le.reduce(((e,t,n)=>(e.push(t),n<le.length-1&&e.push(", "),e)),[]):ae);let he,pe=X;!u&&Q&&K&&(pe=te.clientWidth),he="undefined"!==typeof L?L:g?null:0;const fe=Z.id||(k?"mui-component-select-".concat(k):void 0),me=(0,r.Z)({},e,{variant:U,value:B,open:oe,error:w}),ge=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat((0,_.Z)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,a.Z)(l,Et,t)})(me);return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(At,(0,r.Z)({ref:ee,tabIndex:he,role:"button","aria-disabled":g?"true":void 0,"aria-expanded":oe?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[I,fe].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:e=>{if(!N){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ne(!0,e))}},onMouseDown:g||N?null:e=>{0===e.button&&(e.preventDefault(),G.current.focus(),ne(!0,e))},onBlur:e=>{!oe&&C&&(Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:k}}),C(e))},onFocus:A},Z,{ownerState:me,className:(0,s.Z)(Z.className,ge.select,p),id:fe,children:Ot(se)?Dt||(Dt=(0,y.jsx)("span",{className:"notranslate",children:"\u200b"})):se})),(0,y.jsx)(Mt,(0,r.Z)({"aria-invalid":w,value:Array.isArray(B)?B.join(","):B,name:k,ref:H,"aria-hidden":!0,onChange:e=>{const t=re.find((t=>t.props.value===e.target.value));void 0!==t&&(q(t.props.value),E&&E(e,t))},tabIndex:-1,disabled:g,className:ge.nativeInput,autoFocus:c,ownerState:me},j)),(0,y.jsx)(Rt,{as:b,className:ge.icon,ownerState:me}),(0,y.jsx)(vt,(0,r.Z)({id:"menu-".concat(k||""),anchorEl:te,open:oe,onClose:e=>{ne(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:(0,r.Z)({"aria-labelledby":I,role:"listbox",disableListWrap:!0},x.MenuListProps),PaperProps:(0,r.Z)({},x.PaperProps,{style:(0,r.Z)({minWidth:pe},null!=x.PaperProps?x.PaperProps.style:null)}),children:de}))]})}));const Lt=(0,n(9201).Z)((0,y.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ft=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Vt={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,c.FO)(e)&&"variant"!==e,slot:"Root"},Ut=(0,c.ZP)(ie,Vt)(""),jt=(0,c.ZP)(xe,Vt)(""),Bt=(0,c.ZP)(de,Vt)(""),qt=o.forwardRef((function(e,t){const n=(0,u.Z)({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:l,classes:c={},className:h,defaultOpen:p=!1,displayEmpty:f=!1,IconComponent:m=Lt,id:g,input:v,inputProps:w,label:b,labelId:T,MenuProps:I,multiple:x=!1,native:S=!1,onClose:C,onOpen:_,open:P,renderValue:A,SelectDisplayProps:R,variant:M="outlined"}=n,N=(0,i.Z)(n,Ft),O=S?kt:Zt,Z=k({props:n,muiFormControl:(0,E.Z)(),states:["variant","error"]}),L=Z.variant||M,F=(0,r.Z)({},n,{variant:L,classes:c}),V=(e=>{const{classes:t}=e;return t})(F),U=v||{standard:(0,y.jsx)(Ut,{ownerState:F}),outlined:(0,y.jsx)(jt,{label:b,ownerState:F}),filled:(0,y.jsx)(Bt,{ownerState:F})}[L],j=(0,D.Z)(t,U.ref);return(0,y.jsx)(o.Fragment,{children:o.cloneElement(U,(0,r.Z)({inputComponent:O,inputProps:(0,r.Z)({children:l,error:Z.error,IconComponent:m,variant:L,type:void 0,multiple:x},S?{id:g}:{autoWidth:a,defaultOpen:p,displayEmpty:f,labelId:T,MenuProps:I,onClose:C,onOpen:_,open:P,renderValue:A,SelectDisplayProps:(0,r.Z)({id:g},R)},w,{classes:w?(0,d.Z)(V,w.classes):V},v?v.props.inputProps:{})},x&&S&&"outlined"===L?{notched:!0}:{},{ref:j,className:(0,s.Z)(U.props.className,h)},!v&&{variant:L},N))})}));qt.muiName="Select";const zt=qt;function Wt(e){return(0,j.Z)("MuiTextField",e)}(0,U.Z)("MuiTextField",["root"]);const Ht=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Gt={standard:ie,filled:de,outlined:xe},Kt=(0,c.ZP)(Fe,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Yt=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:c=!1,children:d,className:h,color:p="primary",defaultValue:f,disabled:m=!1,error:g=!1,FormHelperTextProps:v,fullWidth:w=!1,helperText:b,id:T,InputLabelProps:I,inputProps:x,InputProps:S,inputRef:k,label:C,maxRows:E,minRows:_,multiline:D=!1,name:P,onBlur:A,onChange:R,onClick:M,onFocus:N,placeholder:O,required:Z=!1,rows:L,select:F=!1,SelectProps:V,type:U,value:j,variant:B="outlined"}=n,q=(0,i.Z)(n,Ht),z=(0,r.Z)({},n,{autoFocus:c,color:p,disabled:m,error:g,fullWidth:w,multiline:D,required:Z,select:F,variant:B}),W=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},Wt,t)})(z);const H={};"outlined"===B&&(I&&"undefined"!==typeof I.shrink&&(H.notched=I.shrink),H.label=C),F&&(V&&V.native||(H.id=void 0),H["aria-describedby"]=void 0);const G=(0,l.Z)(T),K=b&&G?"".concat(G,"-helper-text"):void 0,Y=C&&G?"".concat(G,"-label"):void 0,Q=Gt[B],X=(0,y.jsx)(Q,(0,r.Z)({"aria-describedby":K,autoComplete:o,autoFocus:c,defaultValue:f,fullWidth:w,multiline:D,name:P,rows:L,maxRows:E,minRows:_,type:U,value:j,id:G,inputRef:k,onBlur:A,onChange:R,onFocus:N,onClick:M,placeholder:O,inputProps:x},H,S));return(0,y.jsxs)(Kt,(0,r.Z)({className:(0,s.Z)(W.root,h),disabled:m,error:g,fullWidth:w,ref:t,required:Z,color:p,variant:B,ownerState:z},q,{children:[null!=C&&""!==C&&(0,y.jsx)(Me,(0,r.Z)({htmlFor:G,id:Y},I,{children:C})),F?(0,y.jsx)(zt,(0,r.Z)({"aria-describedby":K,id:G,labelId:Y,value:j,input:X},V,{children:d})):X,b&&(0,y.jsx)(ze,(0,r.Z)({id:K},v,{children:b}))]}))}))},890:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(3366),i=n(7462),o=n(2791),s=n(8182),a=n(8519),l=n(4419),c=n(6934),u=n(1402),d=n(4036),h=n(5878),p=n(1217);function f(e){return(0,p.Z)("MuiTypography",e)}(0,h.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=n(184);const g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,d.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},w={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTypography"}),o=(e=>w[e]||e)(n.color),c=(0,a.Z)((0,i.Z)({},n,{color:o})),{align:h="inherit",className:p,component:b,gutterBottom:T=!1,noWrap:I=!1,paragraph:x=!1,variant:S="body1",variantMapping:k=y}=c,C=(0,r.Z)(c,g),E=(0,i.Z)({},c,{align:h,color:o,className:p,component:b,gutterBottom:T,noWrap:I,paragraph:x,variant:S,variantMapping:k}),_=b||(x?"p":k[S]||y[S])||"span",D=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,"inherit"!==e.align&&"align".concat((0,d.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,l.Z)(a,f,s)})(E);return(0,m.jsx)(v,(0,i.Z)({as:_,ref:t,ownerState:E,className:(0,s.Z)(D.root,p)},C))}))},6532:(e,t)=>{var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},8457:(e,t,n)=>{n(6532)},3967:(e,t,n)=>{n.d(t,{Z:()=>s});n(2791);var r=n(418),i=n(6482),o=n(988);function s(){const e=(0,r.Z)(i.Z);return e[o.Z]||e}},4999:(e,t,n)=>{n.d(t,{C:()=>i,n:()=>r});const r=e=>e.scrollTop;function i(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}},5193:(e,t,n)=>{var r;n.d(t,{Z:()=>d});var i=n(2791),o=n(9120),s=n(3073),a=n(162);function l(e,t,n,r,o){const[s,l]=i.useState((()=>o&&n?n(e).matches:r?r(e).matches:t));return(0,a.Z)((()=>{let t=!0;if(!n)return;const r=n(e),i=()=>{t&&l(r.matches)};return i(),r.addListener(i),()=>{t=!1,r.removeListener(i)}}),[e,n]),s}const c=(r||(r=n.t(i,2))).useSyncExternalStore;function u(e,t,n,r,o){const s=i.useCallback((()=>t),[t]),a=i.useMemo((()=>{if(o&&n)return()=>n(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return s}),[s,e,r,o,n]),[l,u]=i.useMemo((()=>{if(null===n)return[s,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[s,n,e]);return c(u,l,a)}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,o.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:i=!1,matchMedia:a=(r?window.matchMedia:null),ssrMatchMedia:d=null,noSsr:h=!1}=(0,s.Z)({name:"MuiUseMediaQuery",props:t,theme:n});let p="function"===typeof e?e(n):e;p=p.replace(/^@media( ?)/m,"");const f=void 0!==c?u:l,m=f(p,i,a,d,h);return m}},8519:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7462),i=n(3366),o=n(2466),s=n(7416);const a=["sx"];function l(e){const{sx:t}=e,n=(0,i.Z)(e,a),{systemProps:l,otherProps:c}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.Z;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r})(n);let u;return u=Array.isArray(t)?[l,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.P)(e)?(0,r.Z)({},l,e):l}:(0,r.Z)({},l,t),(0,r.Z)({},c,{sx:u})}},7137:(e,t,n)=>{function r(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}n.d(t,{Z:()=>r})},8487:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}},8195:(e,t,n)=>{t.Z=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n),c=s?t:a;0;const u=r.useCallback((e=>{s||l(e)}),[]);return[c,u]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(2791));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},8559:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(2791));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.default=o},8394:(e,t,n)=>{var r=n(4836);t.Z=function(e){const t=i.useRef(e);return(0,o.default)((()=>{t.current=e})),i.useCallback((function(){return(0,t.current)(...arguments)}),[])};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=r(n(8559));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},8550:(e,t,n)=>{var r=n(4836);t.Z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.default)(t,e)}))}),t)};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=r(n(8487));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},4121:(e,t,n)=>{t.Z=function(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=r.useState(e),i=e||t;return r.useEffect((()=>{null==t&&(o+=1,n("mui-".concat(o)))}),[t]),i}(e)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(2791));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}let o=0;const s=r["useId".toString()]},6285:(e,t,n)=>{n.d(t,{H:()=>Kn});var r=n(7462);function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var o=n(1002);function s(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){s(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,o.Z)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function l(e,t){s(2,arguments);var n=a(e),r=i(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function c(e,t){s(2,arguments);var n=a(e).getTime(),r=i(t);return new Date(n+r)}var u=36e5;function d(e,t){s(2,arguments);var n=a(e),r=i(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),l=new Date(n.getTime());l.setMonth(n.getMonth()+r+1,0);var c=l.getDate();return o>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),o),n)}function h(e,t){s(2,arguments);var n=i(t);return d(e,12*n)}function p(e,t){s(2,arguments);var n=a(e),r=a(t);return n.getFullYear()-r.getFullYear()}function f(e,t){s(2,arguments);var n=a(e),r=a(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function m(e,t){s(2,arguments);var n=a(e),r=a(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return 12*i+o}function g(e){s(1,arguments);var t=a(e);return t.setHours(23,59,59,999),t}function v(e){s(1,arguments);var t=a(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function y(e){s(1,arguments);var t=a(e);return g(t).getTime()===v(t).getTime()}function w(e,t){s(2,arguments);var n,r=a(e),i=a(t),o=f(r,i),l=Math.abs(m(r,i));if(l<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*l);var c=f(r,i)===-o;y(a(e))&&1===l&&1===f(e,i)&&(c=!1),n=o*(l-Number(c))}return 0===n?0:n}var b={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function T(e){return e?b[e]:b.trunc}function I(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function x(e){s(1,arguments);var t=a(e);return t.setHours(0,0,0,0),t}var S=864e5;function k(e,t){s(2,arguments);var n=x(e),r=x(t),i=n.getTime()-I(n),o=r.getTime()-I(r);return Math.round((i-o)/S)}function C(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function E(e,t){s(2,arguments);var n=a(e),r=a(t),i=C(n,r),o=Math.abs(k(n,r));n.setDate(n.getDate()-i*o);var l=Number(C(n,r)===-i),c=i*(o-l);return 0===c?0:c}Math.pow(10,8);var _=6e4,D=36e5;function P(e,t){return s(2,arguments),a(e).getTime()-a(t).getTime()}var A={};function R(){return A}function M(e,t){var n,r,o,l,c,u,d,h;s(1,arguments);var p=R(),f=i(null!==(n=null!==(r=null!==(o=null!==(l=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==l?l:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:p.weekStartsOn)&&void 0!==r?r:null===(d=p.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=a(e),g=m.getDay(),v=6+(g<f?-7:0)-(g-f);return m.setDate(m.getDate()+v),m.setHours(23,59,59,999),m}function N(e){s(1,arguments);var t=a(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function O(e){return s(1,arguments),e instanceof Date||"object"===(0,o.Z)(e)&&"[object Date]"===Object.prototype.toString.call(e)}function Z(e){if(s(1,arguments),!O(e)&&"number"!==typeof e)return!1;var t=a(e);return!isNaN(Number(t))}function L(e,t){s(2,arguments);var n=i(t);return c(e,-n)}var F=864e5;function V(e){s(1,arguments);var t=1,n=a(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function U(e){s(1,arguments);var t=a(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=V(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var l=V(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function j(e){s(1,arguments);var t=U(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=V(n);return r}var B=6048e5;function q(e){s(1,arguments);var t=a(e),n=V(t).getTime()-j(t).getTime();return Math.round(n/B)+1}function z(e,t){var n,r,o,l,c,u,d,h;s(1,arguments);var p=R(),f=i(null!==(n=null!==(r=null!==(o=null!==(l=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==l?l:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:p.weekStartsOn)&&void 0!==r?r:null===(d=p.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=a(e),g=m.getUTCDay(),v=(g<f?7:0)+g-f;return m.setUTCDate(m.getUTCDate()-v),m.setUTCHours(0,0,0,0),m}function W(e,t){var n,r,o,l,c,u,d,h;s(1,arguments);var p=a(e),f=p.getUTCFullYear(),m=R(),g=i(null!==(n=null!==(r=null!==(o=null!==(l=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==l?l:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:m.firstWeekContainsDate)&&void 0!==r?r:null===(d=m.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,g),v.setUTCHours(0,0,0,0);var y=z(v,t),w=new Date(0);w.setUTCFullYear(f,0,g),w.setUTCHours(0,0,0,0);var b=z(w,t);return p.getTime()>=y.getTime()?f+1:p.getTime()>=b.getTime()?f:f-1}function H(e,t){var n,r,o,a,l,c,u,d;s(1,arguments);var h=R(),p=i(null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:h.firstWeekContainsDate)&&void 0!==r?r:null===(u=h.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1),f=W(e,t),m=new Date(0);m.setUTCFullYear(f,0,p),m.setUTCHours(0,0,0,0);var g=z(m,t);return g}var G=6048e5;function K(e,t){s(1,arguments);var n=a(e),r=z(n,t).getTime()-H(n,t).getTime();return Math.round(r/G)+1}function Y(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const Q={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Y("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Y(n+1,2)},d:function(e,t){return Y(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Y(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Y(e.getUTCHours(),t.length)},m:function(e,t){return Y(e.getUTCMinutes(),t.length)},s:function(e,t){return Y(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Y(Math.floor(r*Math.pow(10,n-3)),t.length)}};var X="midnight",J="noon",$="morning",ee="afternoon",te="evening",ne="night",re={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Q.y(e,t)},Y:function(e,t,n,r){var i=W(e,r),o=i>0?i:1-i;return"YY"===t?Y(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Y(o,t.length)},R:function(e,t){return Y(U(e),t.length)},u:function(e,t){return Y(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Y(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Y(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Q.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Y(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=K(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Y(i,t.length)},I:function(e,t,n){var r=q(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Y(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Q.d(e,t)},D:function(e,t,n){var r=function(e){s(1,arguments);var t=a(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/F)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Y(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Y(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Y(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Y(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?J:0===i?X:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?te:i>=12?ee:i>=4?$:ne,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Q.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Q.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Y(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Y(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Q.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Q.s(e,t)},S:function(e,t){return Q.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return oe(i);case"XXXX":case"XX":return se(i);default:return se(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return oe(i);case"xxxx":case"xx":return se(i);default:return se(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ie(i,":");default:return"GMT"+se(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ie(i,":");default:return"GMT"+se(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Y(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Y((r._originalDate||e).getTime(),t.length)}};function ie(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+Y(o,2)}function oe(e,t){return e%60===0?(e>0?"-":"+")+Y(Math.abs(e)/60,2):se(e,t)}function se(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Y(Math.floor(i/60),2)+n+Y(i%60,2)}const ae=re;var le=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ce=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ue={p:ce,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return le(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",le(i,t)).replace("{{time}}",ce(o,t))}};const de=ue;var he=["D","DD"],pe=["YY","YYYY"];function fe(e){return-1!==he.indexOf(e)}function me(e){return-1!==pe.indexOf(e)}function ge(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const ye=function(e,t,n){var r,i=ve[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function we(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var be={date:we({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:we({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:we({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Te={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Ie(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function xe(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ke(l,(function(e){return e.test(a)})):Se(l,(function(e){return e.test(a)}));s=e.valueCallback?e.valueCallback(c):c,s=n.valueCallback?n.valueCallback(s):s;var u=t.slice(a.length);return{value:s,rest:u}}}function Se(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function ke(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var Ce;const Ee={code:"en-US",formatDistance:ye,formatLong:be,formatRelative:function(e,t,n,r){return Te[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Ie({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ie({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ie({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ie({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ie({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Ce={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(Ce.matchPattern);if(!n)return null;var r=n[0],i=e.match(Ce.parsePattern);if(!i)return null;var o=Ce.valueCallback?Ce.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var s=e.slice(r.length);return{value:o,rest:s}}),era:xe({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:xe({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:xe({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:xe({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:xe({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},_e=Ee;var De=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ae=/^'([^]*?)'?$/,Re=/''/g,Me=/[a-zA-Z]/;function Ne(e){var t=e.match(Ae);return t?t[1].replace(Re,"'"):e}function Oe(e){s(1,arguments);var t=a(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Ze(e,t){var n,r,o,l,c,u,d,h;s(1,arguments);var p=R(),f=i(null!==(n=null!==(r=null!==(o=null!==(l=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==l?l:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:p.weekStartsOn)&&void 0!==r?r:null===(d=p.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=a(e),g=m.getDay(),v=(g<f?7:0)+g-f;return m.setDate(m.getDate()-v),m.setHours(0,0,0,0),m}function Le(e,t){var n,r,o,l,c,u,d,h;s(1,arguments);var p=a(e),f=p.getFullYear(),m=R(),g=i(null!==(n=null!==(r=null!==(o=null!==(l=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==l?l:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:m.firstWeekContainsDate)&&void 0!==r?r:null===(d=m.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,g),v.setHours(0,0,0,0);var y=Ze(v,t),w=new Date(0);w.setFullYear(f,0,g),w.setHours(0,0,0,0);var b=Ze(w,t);return p.getTime()>=y.getTime()?f+1:p.getTime()>=b.getTime()?f:f-1}function Fe(e,t){var n,r,o,a,l,c,u,d;s(1,arguments);var h=R(),p=i(null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:h.firstWeekContainsDate)&&void 0!==r?r:null===(u=h.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1),f=Le(e,t),m=new Date(0);m.setFullYear(f,0,p),m.setHours(0,0,0,0);var g=Ze(m,t);return g}var Ve=6048e5;function Ue(e,t){s(2,arguments);var n=a(e),r=a(t);return n.getTime()>r.getTime()}function je(e,t){s(2,arguments);var n=a(e),r=a(t);return n.getTime()<r.getTime()}function Be(e){s(1,arguments);var t=a(e);return t.setMinutes(0,0,0),t}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function We(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var He=n(7326),Ge=n(9611);function Ke(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,Ge.Z)(e,t)}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}function Qe(e,t){if(t&&("object"===(0,o.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,He.Z)(e)}function Xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var i=Ye(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qe(this,n)}}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var $e=n(9142);function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,$e.Z)(r.key),r)}}function tt(e,t,n){return t&&et(e.prototype,t),n&&et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var nt=n(4942),rt=function(){function e(){Je(this,e),(0,nt.Z)(this,"priority",void 0),(0,nt.Z)(this,"subPriority",0)}return tt(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),it=function(e){Ke(n,e);var t=Xe(n);function n(e,r,i,o,s){var a;return Je(this,n),(a=t.call(this)).value=e,a.validateValue=r,a.setValue=i,a.priority=o,s&&(a.subPriority=s),a}return tt(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(rt),ot=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",10),(0,nt.Z)((0,He.Z)(e),"subPriority",-1),e}return tt(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(rt),st=function(){function e(){Je(this,e),(0,nt.Z)(this,"incompatibleTokens",void 0),(0,nt.Z)(this,"priority",void 0),(0,nt.Z)(this,"subPriority",void 0)}return tt(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new it(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),at=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",140),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["R","u","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(st),lt=/^(1[0-2]|0?\d)/,ct=/^(3[0-1]|[0-2]?\d)/,ut=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,dt=/^(5[0-3]|[0-4]?\d)/,ht=/^(2[0-3]|[0-1]?\d)/,pt=/^(2[0-4]|[0-1]?\d)/,ft=/^(1[0-1]|0?\d)/,mt=/^(1[0-2]|0?\d)/,gt=/^[0-5]?\d/,vt=/^[0-5]?\d/,yt=/^\d/,wt=/^\d{1,2}/,bt=/^\d{1,3}/,Tt=/^\d{1,4}/,It=/^-?\d+/,xt=/^-?\d/,St=/^-?\d{1,2}/,kt=/^-?\d{1,3}/,Ct=/^-?\d{1,4}/,Et=/^([+-])(\d{2})(\d{2})?|Z/,_t=/^([+-])(\d{2})(\d{2})|Z/,Dt=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Pt=/^([+-])(\d{2}):(\d{2})|Z/,At=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Rt(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Mt(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Nt(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*D+o*_+1e3*s),rest:t.slice(n[0].length)}}function Ot(e){return Mt(It,e)}function Zt(e,t){switch(e){case 1:return Mt(yt,t);case 2:return Mt(wt,t);case 3:return Mt(bt,t);case 4:return Mt(Tt,t);default:return Mt(new RegExp("^\\d{1,"+e+"}"),t)}}function Lt(e,t){switch(e){case 1:return Mt(xt,t);case 2:return Mt(St,t);case 3:return Mt(kt,t);case 4:return Mt(Ct,t);default:return Mt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Ft(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Vt(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}function Ut(e){return e%400===0||e%4===0&&e%100!==0}var jt=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",130),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return Rt(Zt(4,e),r);case"yo":return Rt(n.ordinalNumber(e,{unit:"year"}),r);default:return Rt(Zt(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=Vt(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(st),Bt=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",130),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return Rt(Zt(4,e),r);case"Yo":return Rt(n.ordinalNumber(e,{unit:"year"}),r);default:return Rt(Zt(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=W(e,r);if(n.isTwoDigitYear){var o=Vt(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),z(e,r)}var s="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(s,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),z(e,r)}}]),n}(st),qt=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",130),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t){return Lt("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),V(r)}}]),n}(st),zt=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",130),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t){return Lt("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(st),Wt=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",120),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return Zt(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(st),Ht=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",120),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return Zt(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(st),Gt=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,nt.Z)((0,He.Z)(e),"priority",110),e}return tt(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return Rt(Mt(lt,e),r);case"MM":return Rt(Zt(2,e),r);case"Mo":return Rt(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(st),Kt=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",110),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return Rt(Mt(lt,e),r);case"LL":return Rt(Zt(2,e),r);case"Lo":return Rt(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(st);var Yt=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",100),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return Mt(dt,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return z(function(e,t,n){s(2,arguments);var r=a(e),o=i(t),l=K(r,n)-o;return r.setUTCDate(r.getUTCDate()-7*l),r}(e,n,r),r)}}]),n}(st);var Qt=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",100),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return Mt(dt,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return V(function(e,t){s(2,arguments);var n=a(e),r=i(t),o=q(n)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}(e,n))}}]),n}(st),Xt=[31,28,31,30,31,30,31,31,30,31,30,31],Jt=[31,29,31,30,31,30,31,31,30,31,30,31],$t=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",90),(0,nt.Z)((0,He.Z)(e),"subPriority",1),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return Mt(ct,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){var n=Ut(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=Jt[r]:t>=1&&t<=Xt[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(st),en=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",90),(0,nt.Z)((0,He.Z)(e),"subpriority",1),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return Mt(ut,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){return Ut(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(st);function tn(e,t,n){var r,o,l,c,u,d,h,p;s(2,arguments);var f=R(),m=i(null!==(r=null!==(o=null!==(l=null!==(c=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==c?c:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==o?o:null===(h=f.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=a(e),v=i(t),y=g.getUTCDay(),w=v%7,b=(w+7)%7,T=(b<m?7:0)+v-y;return g.setUTCDate(g.getUTCDate()+T),g}var nn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",90),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=tn(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(st),rn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",90),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Rt(Zt(t.length,e),i);case"eo":return Rt(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=tn(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(st),on=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",90),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Rt(Zt(t.length,e),i);case"co":return Rt(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=tn(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(st);var sn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",90),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return Zt(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Rt(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Rt(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Rt(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Rt(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){s(2,arguments);var n=i(t);n%7===0&&(n-=7);var r=1,o=a(e),l=o.getUTCDay(),c=((n%7+7)%7<r?7:0)+n-l;return o.setUTCDate(o.getUTCDate()+c),o}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(st),an=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",80),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Ft(n),0,0,0),e}}]),n}(st),ln=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",80),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Ft(n),0,0,0),e}}]),n}(st),cn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",80),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["a","b","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Ft(n),0,0,0),e}}]),n}(st),un=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",70),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["H","K","k","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return Mt(mt,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(st),dn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",70),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return Mt(ht,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(st),hn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",70),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["h","H","k","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return Mt(ft,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(st),pn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",70),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return Mt(pt,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(st),fn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",60),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return Mt(gt,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(st),mn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",50),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["t","T"]),e}return tt(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return Mt(vt,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Zt(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(st),gn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",30),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["t","T"]),e}return tt(n,[{key:"parse",value:function(e,t){return Rt(Zt(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(st),vn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",10),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["t","T","x"]),e}return tt(n,[{key:"parse",value:function(e,t){switch(t){case"X":return Nt(Et,e);case"XX":return Nt(_t,e);case"XXXX":return Nt(Dt,e);case"XXXXX":return Nt(At,e);default:return Nt(Pt,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(st),yn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",10),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens",["t","T","X"]),e}return tt(n,[{key:"parse",value:function(e,t){switch(t){case"x":return Nt(Et,e);case"xx":return Nt(_t,e);case"xxxx":return Nt(Dt,e);case"xxxxx":return Nt(At,e);default:return Nt(Pt,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(st),wn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",40),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens","*"),e}return tt(n,[{key:"parse",value:function(e){return Ot(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(st),bn=function(e){Ke(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nt.Z)((0,He.Z)(e),"priority",20),(0,nt.Z)((0,He.Z)(e),"incompatibleTokens","*"),e}return tt(n,[{key:"parse",value:function(e){return Ot(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(st),Tn={G:new at,y:new jt,Y:new Bt,R:new qt,u:new zt,Q:new Wt,q:new Ht,M:new Gt,L:new Kt,w:new Yt,I:new Qt,d:new $t,D:new en,E:new nn,e:new rn,c:new on,i:new sn,a:new an,b:new ln,B:new cn,h:new un,H:new dn,K:new hn,k:new pn,m:new fn,s:new mn,S:new gn,X:new vn,x:new yn,t:new wn,T:new bn},In=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sn=/^'([^]*?)'?$/,kn=/''/g,Cn=/\S/,En=/[a-zA-Z]/;function _n(e){return e.match(Sn)[1].replace(kn,"'")}function Dn(e){s(1,arguments);var t=a(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Pn(e){s(1,arguments);var t=a(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var An={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Rn=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Mn=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Nn=/^([+-])(\d{2})(?::?(\d{2}))?$/;function On(e){var t,n={},r=e.split(An.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],An.timeZoneDelimiter.test(n.date)&&(n.date=e.split(An.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=An.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}function Zn(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}function Ln(e,t){if(null===t)return new Date(NaN);var n=e.match(Rn);if(!n)return new Date(NaN);var r=!!n[4],i=Fn(n[1]),o=Fn(n[2])-1,s=Fn(n[3]),a=Fn(n[4]),l=Fn(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,o=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}(t,a,l):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Bn[t]||(qn(e)?29:28))}(t,o,s)&&function(e,t){return t>=1&&t<=(qn(e)?366:365)}(t,i)?(c.setUTCFullYear(t,o,Math.max(i,s)),c):new Date(NaN)}function Fn(e){return e?parseInt(e):1}function Vn(e){var t=e.match(Mn);if(!t)return NaN;var n=Un(t[1]),r=Un(t[2]),i=Un(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i)?n*D+r*_+1e3*i:NaN}function Un(e){return e&&parseFloat(e.replace(",","."))||0}function jn(e){if("Z"===e)return 0;var t=e.match(Nn);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(r*D+i*_):NaN}var Bn=[31,null,31,30,31,30,31,31,30,31,30,31];function qn(e){return e%400===0||e%4===0&&e%100!==0}var zn=n(1535),Wn=n.n(zn);const Hn={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Gn={dayOfMonth:"d",fullDate:"PP",fullDateWithWeekday:"PPPP",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",hours12h:"hh",hours24h:"HH",keyboardDate:"P",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm",minutes:"mm",month:"LLLL",monthAndDate:"MMMM d",monthAndYear:"LLLL yyyy",monthShort:"MMM",weekday:"EEEE",weekdayShort:"EEE",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",seconds:"ss",shortDate:"MMM d",year:"yyyy"};class Kn{constructor(){let{locale:e,formats:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isMUIAdapter=!0,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=Hn,this.escapedCharacters={start:"'",end:"'"},this.date=e=>"undefined"===typeof e?new Date:null===e?null:new Date(e),this.toJsDate=e=>e,this.parseISO=e=>function(e,t){var n;s(1,arguments);var r=i(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,a=On(e);if(a.date){var l=Zn(a.date,r);o=Ln(l.restDateString,l.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var c,u=o.getTime(),d=0;if(a.time&&(d=Vn(a.time),isNaN(d)))return new Date(NaN);if(!a.timezone){var h=new Date(u+d),p=new Date(0);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return c=jn(a.timezone),isNaN(c)?new Date(NaN):new Date(u+d+c)}(e),this.toISO=e=>function(e,t){var n,r;s(1,arguments);var i=a(e);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var o=String(null!==(n=null===t||void 0===t?void 0:t.format)&&void 0!==n?n:"extended"),l=String(null!==(r=null===t||void 0===t?void 0:t.representation)&&void 0!==r?r:"complete");if("extended"!==o&&"basic"!==o)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==l&&"time"!==l&&"complete"!==l)throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",u="",d="extended"===o?"-":"",h="extended"===o?":":"";if("time"!==l){var p=Y(i.getDate(),2),f=Y(i.getMonth()+1,2),m=Y(i.getFullYear(),4);c="".concat(m).concat(d).concat(f).concat(d).concat(p)}if("date"!==l){var g=i.getTimezoneOffset();if(0!==g){var v=Math.abs(g),y=Y(Math.floor(v/60),2),w=Y(v%60,2);u="".concat(g<0?"+":"-").concat(y,":").concat(w)}else u="Z";var b=""===c?"":"T",T=[Y(i.getHours(),2),Y(i.getMinutes(),2),Y(i.getSeconds(),2)].join(h);c="".concat(c).concat(b).concat(T).concat(u)}return c}(e,{format:"extended"}),this.parse=(e,t)=>""===e?null:function(e,t,n,r){var l,c,u,d,h,p,f,m,g,v,y,w,b,T,x,S,k,C;s(3,arguments);var E=String(e),_=String(t),D=R(),P=null!==(l=null!==(c=null===r||void 0===r?void 0:r.locale)&&void 0!==c?c:D.locale)&&void 0!==l?l:_e;if(!P.match)throw new RangeError("locale must contain match property");var A=i(null!==(u=null!==(d=null!==(h=null!==(p=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==p?p:null===r||void 0===r||null===(f=r.locale)||void 0===f||null===(m=f.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==h?h:D.firstWeekContainsDate)&&void 0!==d?d:null===(g=D.locale)||void 0===g||null===(v=g.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==u?u:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=i(null!==(y=null!==(w=null!==(b=null!==(T=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==T?T:null===r||void 0===r||null===(x=r.locale)||void 0===x||null===(S=x.options)||void 0===S?void 0:S.weekStartsOn)&&void 0!==b?b:D.weekStartsOn)&&void 0!==w?w:null===(k=D.locale)||void 0===k||null===(C=k.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==y?y:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===_)return""===E?a(n):new Date(NaN);var N,O={firstWeekContainsDate:A,weekStartsOn:M,locale:P},Z=[new ot],F=_.match(xn).map((function(e){var t=e[0];return t in de?(0,de[t])(e,P.formatLong):e})).join("").match(In),V=[],U=ze(F);try{var j=function(){var t=N.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!me(t)||ge(t,_,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!fe(t)||ge(t,_,e);var n=t[0],i=Tn[n];if(i){var o=i.incompatibleTokens;if(Array.isArray(o)){var s=V.find((function(e){return o.includes(e.token)||e.token===n}));if(s)throw new RangeError("The format string mustn't contain `".concat(s.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===i.incompatibleTokens&&V.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));V.push({token:n,fullToken:t});var a=i.run(E,t,P.match,O);if(!a)return{v:new Date(NaN)};Z.push(a.setter),E=a.rest}else{if(n.match(En))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=_n(t)),0!==E.indexOf(t))return{v:new Date(NaN)};E=E.slice(t.length)}};for(U.s();!(N=U.n()).done;){var B=j();if("object"===(0,o.Z)(B))return B.v}}catch(X){U.e(X)}finally{U.f()}if(E.length>0&&Cn.test(E))return new Date(NaN);var q=Z.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return Z.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),z=a(n);if(isNaN(z.getTime()))return new Date(NaN);var W,H=L(z,I(z)),G={},K=ze(q);try{for(K.s();!(W=K.n()).done;){var Y=W.value;if(!Y.validate(H,O))return new Date(NaN);var Q=Y.set(H,G,O);Array.isArray(Q)?(H=Q[0],We(G,Q[1])):H=Q}}catch(X){K.e(X)}finally{K.f()}return H}(e,t,new Date,{locale:this.locale}),this.getCurrentLocaleCode=()=>{var e;return(null==(e=this.locale)?void 0:e.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>!this.locale||/a/.test(this.locale.formatLong.time()),this.expandFormat=e=>e.match(/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Wn()[t])(e,(this.locale||Ee).formatLong,{})}return e})).join(""),this.getFormatHelperText=e=>this.expandFormat(e).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=e=>null===e,this.isValid=e=>Z(this.date(e)),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>function(e,t,n){var r,o,l,c,u,d,h,p,f,m,g,v,y,w,b,T,x,S;s(2,arguments);var k=String(t),C=R(),E=null!==(r=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:C.locale)&&void 0!==r?r:_e,_=i(null!==(l=null!==(c=null!==(u=null!==(d=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==d?d:null===n||void 0===n||null===(h=n.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==u?u:C.firstWeekContainsDate)&&void 0!==c?c:null===(f=C.locale)||void 0===f||null===(m=f.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==l?l:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=i(null!==(g=null!==(v=null!==(y=null!==(w=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==w?w:null===n||void 0===n||null===(b=n.locale)||void 0===b||null===(T=b.options)||void 0===T?void 0:T.weekStartsOn)&&void 0!==y?y:C.weekStartsOn)&&void 0!==v?v:null===(x=C.locale)||void 0===x||null===(S=x.options)||void 0===S?void 0:S.weekStartsOn)&&void 0!==g?g:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var P=a(e);if(!Z(P))throw new RangeError("Invalid time value");var A=I(P),M=L(P,A),N={firstWeekContainsDate:_,weekStartsOn:D,locale:E,_originalDate:P};return k.match(Pe).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,de[t])(e,E.formatLong):e})).join("").match(De).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return Ne(r);var o=ae[i];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!me(r)||ge(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!fe(r)||ge(r,t,String(e)),o(M,r,E.localize,N);if(i.match(Me))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}(e,t,{locale:this.locale}),this.formatNumber=e=>e,this.getDiff=(e,t,n)=>{switch(n){case"years":return function(e,t){s(2,arguments);var n=a(e),r=a(t),i=f(n,r),o=Math.abs(p(n,r));n.setFullYear(1584),r.setFullYear(1584);var l=f(n,r)===-i,c=i*(o-Number(l));return 0===c?0:c}(e,this.date(t));case"quarters":return function(e,t,n){s(2,arguments);var r=w(e,t)/3;return T(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"months":return w(e,this.date(t));case"weeks":return function(e,t,n){s(2,arguments);var r=E(e,t)/7;return T(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"days":return E(e,this.date(t));case"hours":return function(e,t,n){s(2,arguments);var r=P(e,t)/D;return T(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"minutes":return function(e,t,n){s(2,arguments);var r=P(e,t)/_;return T(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"seconds":return function(e,t,n){s(2,arguments);var r=P(e,t)/1e3;return T(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));default:return P(e,this.date(t))}},this.isEqual=(e,t)=>null===e&&null===t||function(e,t){s(2,arguments);var n=a(e),r=a(t);return n.getTime()===r.getTime()}(e,t),this.isSameYear=(e,t)=>function(e,t){s(2,arguments);var n=a(e),r=a(t);return n.getFullYear()===r.getFullYear()}(e,t),this.isSameMonth=(e,t)=>function(e,t){s(2,arguments);var n=a(e),r=a(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t),this.isSameDay=(e,t)=>function(e,t){s(2,arguments);var n=x(e),r=x(t);return n.getTime()===r.getTime()}(e,t),this.isSameHour=(e,t)=>function(e,t){s(2,arguments);var n=Be(e),r=Be(t);return n.getTime()===r.getTime()}(e,t),this.isAfter=(e,t)=>Ue(e,t),this.isAfterYear=(e,t)=>Ue(e,N(t)),this.isAfterDay=(e,t)=>Ue(e,g(t)),this.isBefore=(e,t)=>je(e,t),this.isBeforeYear=(e,t)=>je(e,Pn(t)),this.isBeforeDay=(e,t)=>je(e,x(t)),this.isWithinRange=(e,t)=>{let[n,r]=t;return function(e,t){s(2,arguments);var n=a(e).getTime(),r=a(t.start).getTime(),i=a(t.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return n>=r&&n<=i}(e,{start:n,end:r})},this.startOfYear=e=>Pn(e),this.startOfMonth=e=>Dn(e),this.startOfWeek=e=>Ze(e,{locale:this.locale}),this.startOfDay=e=>x(e),this.endOfYear=e=>N(e),this.endOfMonth=e=>v(e),this.endOfWeek=e=>M(e,{locale:this.locale}),this.endOfDay=e=>g(e),this.addYears=(e,t)=>h(e,t),this.addMonths=(e,t)=>d(e,t),this.addWeeks=(e,t)=>function(e,t){s(2,arguments);var n=i(t);return l(e,7*n)}(e,t),this.addDays=(e,t)=>l(e,t),this.addHours=(e,t)=>function(e,t){s(2,arguments);var n=i(t);return c(e,n*u)}(e,t),this.addMinutes=(e,t)=>function(e,t){s(2,arguments);var n=i(t);return c(e,6e4*n)}(e,t),this.addSeconds=(e,t)=>function(e,t){s(2,arguments);var n=i(t);return c(e,1e3*n)}(e,t),this.getYear=e=>function(e){return s(1,arguments),a(e).getFullYear()}(e),this.getMonth=e=>function(e){return s(1,arguments),a(e).getMonth()}(e),this.getDate=e=>function(e){return s(1,arguments),a(e).getDate()}(e),this.getHours=e=>function(e){return s(1,arguments),a(e).getHours()}(e),this.getMinutes=e=>function(e){return s(1,arguments),a(e).getMinutes()}(e),this.getSeconds=e=>function(e){return s(1,arguments),a(e).getSeconds()}(e),this.setYear=(e,t)=>function(e,t){s(2,arguments);var n=a(e),r=i(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}(e,t),this.setMonth=(e,t)=>function(e,t){s(2,arguments);var n=a(e),r=i(t),o=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(o,r,15),c.setHours(0,0,0,0);var u=Oe(c);return n.setMonth(r,Math.min(l,u)),n}(e,t),this.setDate=(e,t)=>function(e,t){s(2,arguments);var n=a(e),r=i(t);return n.setDate(r),n}(e,t),this.setHours=(e,t)=>function(e,t){s(2,arguments);var n=a(e),r=i(t);return n.setHours(r),n}(e,t),this.setMinutes=(e,t)=>function(e,t){s(2,arguments);var n=a(e),r=i(t);return n.setMinutes(r),n}(e,t),this.setSeconds=(e,t)=>function(e,t){s(2,arguments);var n=a(e),r=i(t);return n.setSeconds(r),n}(e,t),this.getDaysInMonth=e=>Oe(e),this.getNextMonth=e=>d(e,1),this.getPreviousMonth=e=>d(e,-1),this.getMonthArray=e=>{const t=[Pn(e)];for(;t.length<12;){const e=t[t.length-1];t.push(this.getNextMonth(e))}return t},this.mergeDateAndTime=(e,t)=>this.setSeconds(this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t)),this.getSeconds(t)),this.getWeekdays=()=>{const e=new Date;return function(e,t){var n;s(1,arguments);var r=e||{},i=a(r.start),o=a(r.end).getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var l=[],c=i;c.setHours(0,0,0,0);var u=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)l.push(a(c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return l}({start:Ze(e,{locale:this.locale}),end:M(e,{locale:this.locale})}).map((e=>this.formatByString(e,"EEEEEE")))},this.getWeekArray=e=>{const t=Ze(Dn(e),{locale:this.locale}),n=M(v(e),{locale:this.locale});let r=0,i=t;const o=[];for(;je(i,n);){const e=Math.floor(r/7);o[e]=o[e]||[],o[e].push(i),i=l(i,1),r+=1}return o},this.getWeekNumber=e=>function(e,t){s(1,arguments);var n=a(e),r=Ze(n,t).getTime()-Fe(n,t).getTime();return Math.round(r/Ve)+1}(e,{locale:this.locale}),this.getYearRange=(e,t)=>{const n=Pn(e),r=N(t),i=[];let o=n;for(;je(o,r);)i.push(o),o=h(o,1);return i},this.getMeridiemText=e=>"am"===e?"AM":"PM",this.locale=e,this.formats=(0,r.Z)({},Gn,t)}}},9025:(e,t,n)=>{n.d(t,{M:()=>Lt});var r=n(7462),i=n(3366),o=n(2791),s=n(5193),a=n(1402),l=n(2007),c=n.n(l),u=n(1503),d=n(3564),h=n(9818),p=n(4458),f=n(1267),m=n(890),g=n(6934),v=n(4419),y=n(7367),w=n(1217),b=n(5878);function T(e){return(0,w.Z)("MuiDatePickerToolbar",e)}(0,b.Z)("MuiDatePickerToolbar",["root","title"]);var I=n(184);const x=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views"],S=(0,g.ZP)(y.e,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),k=(0,g.ZP)(m.Z,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})((e=>{let{ownerState:t}=e;return(0,r.Z)({},t.isLandscape&&{margin:"auto 16px auto auto"})})),C=o.forwardRef((function(e,t){const n=(0,a.Z)({props:e,name:"MuiDatePickerToolbar"}),{value:s,isLandscape:l,toolbarFormat:c,toolbarPlaceholder:u="\u2013\u2013",views:d}=n,f=(0,i.Z)(n,x),m=(0,h.nB)(),g=(0,h.og)(),y=(e=>{const{classes:t}=e;return(0,v.Z)({root:["root"],title:["title"]},T,t)})(n),w=o.useMemo((()=>s?c?m.formatByString(s,c):(0,p.$M)(d)?m.format(s,"year"):(0,p.bn)(d)?m.format(s,"month"):/en/.test(m.getCurrentLocaleCode())?m.format(s,"normalDateWithWeekday"):m.format(s,"normalDate"):u),[s,c,u,m,d]),b=n;return(0,I.jsx)(S,(0,r.Z)({ref:t,toolbarTitle:g.datePickerToolbarTitle,isLandscape:l,className:y.root},f,{children:(0,I.jsx)(k,{variant:"h4",align:l?"left":"center",ownerState:b,className:y.title,children:w})}))}));var E=n(7278);const _=(e,t)=>{let{format:n,views:r}=t;return null!=n?n:(0,p.$M)(r)?e.formats.year:(0,p.bn)(r)?e.formats.monthAndYear:void 0};function D(e,t){var n,i,s,l;const c=(0,h.nB)(),u=(0,h.PP)(),d=(0,a.Z)({props:e,name:t}),m=o.useMemo((()=>{var e;return null==(null==(e=d.localeText)?void 0:e.toolbarTitle)?d.localeText:(0,r.Z)({},d.localeText,{datePickerToolbarTitle:d.localeText.toolbarTitle})}),[d.localeText]),g=null!=(n=d.slots)?n:(0,E.S)(d.components);return(0,r.Z)({},d,{localeText:m},(0,p.dK)({views:d.views,openTo:d.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:null!=(i=d.disableFuture)&&i,disablePast:null!=(s=d.disablePast)&&s,minDate:(0,f.US)(c,d.minDate,u.minDate),maxDate:(0,f.US)(c,d.maxDate,u.maxDate),slots:(0,r.Z)({toolbar:C},g),slotProps:null!=(l=d.slotProps)?l:d.componentsProps})}const P=e=>{let{props:t,value:n,adapter:r}=e;if(null===n)return null;const i=r.utils.date(),o=(0,f.US)(r.utils,t.minDate,r.defaultDates.minDate),s=(0,f.US)(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(n):return"invalidDate";case Boolean(t.shouldDisableDate&&t.shouldDisableDate(n)):return"shouldDisableDate";case Boolean(t.shouldDisableMonth&&t.shouldDisableMonth(n)):return"shouldDisableMonth";case Boolean(t.shouldDisableYear&&t.shouldDisableYear(n)):return"shouldDisableYear";case Boolean(t.disableFuture&&r.utils.isAfterDay(n,i)):return"disableFuture";case Boolean(t.disablePast&&r.utils.isBeforeDay(n,i)):return"disablePast";case Boolean(o&&r.utils.isBeforeDay(n,o)):return"minDate";case Boolean(s&&r.utils.isAfterDay(n,s)):return"maxDate";default:return null}};var A=n(6774),R=n(2372),M=n(8496),N=n(8069),O=n(1204),Z=n(8243);const L=e=>{let{props:t,inputRef:n}=e;const i=(e=>{var t,n,i;const o=(0,h.nB)(),s=(0,h.PP)();return(0,r.Z)({},e,{disablePast:null!=(t=e.disablePast)&&t,disableFuture:null!=(n=e.disableFuture)&&n,format:null!=(i=e.format)?i:o.formats.keyboardDate,minDate:(0,f.US)(o,e.minDate,s.minDate),maxDate:(0,f.US)(o,e.maxDate,s.maxDate)})})(t),{forwardedProps:o,internalProps:s}=(0,Z._)(i,"date");return(0,O.U)({inputRef:n,forwardedProps:o,internalProps:s,valueManager:d.h,fieldValueManager:d.a,validator:P,valueType:"date"})},F=["components","componentsProps","slots","slotProps","InputProps","inputProps"],V=["inputRef"],U=["ref","onPaste","inputMode","readOnly"],j=o.forwardRef((function(e,t){var n,o,s;const l=(0,a.Z)({props:e,name:"MuiDateField"}),{components:c,componentsProps:u,slots:d,slotProps:h,InputProps:p,inputProps:f}=l,m=(0,i.Z)(l,F),g=l,v=null!=(n=null!=(o=null==d?void 0:d.textField)?o:null==c?void 0:c.TextField)?n:M.Z,y=(0,N.Z)({elementType:v,externalSlotProps:null!=(s=null==h?void 0:h.textField)?s:null==u?void 0:u.textField,externalForwardedProps:m,ownerState:g}),{inputRef:w}=y,b=(0,i.Z)(y,V);b.inputProps=(0,r.Z)({},b.inputProps,f),b.InputProps=(0,r.Z)({},b.InputProps,p);const T=L({props:b,inputRef:w}),{ref:x,onPaste:S,inputMode:k,readOnly:C}=T,E=(0,i.Z)(T,U);return(0,I.jsx)(v,(0,r.Z)({ref:t},E,{InputProps:(0,r.Z)({},E.InputProps,{readOnly:C}),inputProps:(0,r.Z)({},E.inputProps,{inputMode:k,onPaste:S,ref:x})}))}));var B=n(7812),q=n(8182),z=n(6248),W=n(8959),H=n(8956),G=n(8394);const K=e=>{let{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:i,maxDate:s,disableFuture:a,disablePast:l}=e;const c=(0,h.Do)();return o.useCallback((e=>null!==P({adapter:c,value:e,props:{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:i,maxDate:s,disableFuture:a,disablePast:l}})),[c,t,n,r,i,s,a,l])},Y=e=>{let{value:t,defaultCalendarMonth:n,disableFuture:i,disablePast:s,disableSwitchToMonthOnDayFocus:a=!1,maxDate:l,minDate:c,onMonthChange:u,reduceAnimations:d,shouldDisableDate:p}=e;var m;const g=(0,h.mX)(),v=(0,h.nB)(),y=o.useRef(((e,t,n)=>(i,o)=>{switch(o.type){case"changeMonth":return(0,r.Z)({},i,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return(0,r.Z)({},i,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(null!=i.focusedDay&&null!=o.focusedDay&&n.isSameDay(o.focusedDay,i.focusedDay))return i;const s=null!=o.focusedDay&&!t&&!n.isSameMonth(i.currentMonth,o.focusedDay);return(0,r.Z)({},i,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:s&&!e&&!o.withoutMonthSwitchingAnimation,currentMonth:s?n.startOfMonth(o.focusedDay):i.currentMonth,slideDirection:null!=o.focusedDay&&n.isAfterDay(o.focusedDay,i.currentMonth)?"left":"right"})}default:throw new Error("missing support")}})(Boolean(d),a,v)).current,[w,b]=o.useReducer(y,{isMonthSwitchingAnimating:!1,focusedDay:t||g,currentMonth:v.startOfMonth(null!=(m=null!=t?t:n)?m:(0,f.uZ)(v,g,c,l)),slideDirection:"left"}),T=o.useCallback((e=>{b((0,r.Z)({type:"changeMonth"},e)),u&&u(e.newMonth)}),[u]),I=o.useCallback((e=>{const t=e;v.isSameMonth(t,w.currentMonth)||T({newMonth:v.startOfMonth(t),direction:v.isAfterDay(t,w.currentMonth)?"left":"right"})}),[w.currentMonth,T,v]),x=K({shouldDisableDate:p,minDate:c,maxDate:l,disableFuture:i,disablePast:s}),S=o.useCallback((()=>{b({type:"finishMonthSwitchingAnimation"})}),[]),k=(0,G.Z)(((e,t)=>{x(e)||b({type:"changeFocusedDay",focusedDay:e,withoutMonthSwitchingAnimation:t})}));return{calendarState:w,changeMonth:I,changeFocusedDay:k,isDateDisabled:x,onMonthSwitchingAnimationEnd:S,handleChangeMonth:T}};var Q=n(2003),X=n(5660);const J=e=>(0,w.Z)("MuiPickersFadeTransitionGroup",e),$=((0,b.Z)("MuiPickersFadeTransitionGroup",["root"]),(0,g.ZP)(X.Z,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"}));function ee(e){const t=(0,a.Z)({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:o}=t,s=(e=>{const{classes:t}=e;return(0,v.Z)({root:["root"]},J,t)})(t);return i?n:(0,I.jsx)($,{className:(0,q.Z)(s.root,r),children:(0,I.jsx)(Q.Z,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:500,enter:250,exit:0},children:n},o)})}var te=n(3967),ne=n(3900),re=n(7563),ie=n(5721),oe=n(2065),se=n(219);function ae(e){return(0,w.Z)("MuiPickersDay",e)}const le=(0,b.Z)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),ce=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],ue=e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({},t.typography.caption,{width:se.p2,height:se.p2,borderRadius:"50%",padding:0,backgroundColor:"transparent",color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,oe.Fq)(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,oe.Fq)(t.palette.primary.main,t.palette.action.focusOpacity),["&.".concat(le.selected)]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},["&.".concat(le.selected)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},["&.".concat(le.disabled,":not(.").concat(le.selected,")")]:{color:(t.vars||t).palette.text.disabled},["&.".concat(le.disabled,"&.").concat(le.selected)]:{opacity:.6}},!n.disableMargin&&{margin:"0 ".concat(se.yh,"px")},n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&{color:(t.vars||t).palette.text.secondary},!n.disableHighlightToday&&n.today&&{["&:not(.".concat(le.selected,")")]:{border:"1px solid ".concat((t.vars||t).palette.text.secondary)}})},de=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},he=(0,g.ZP)(ne.Z,{name:"MuiPickersDay",slot:"Root",overridesResolver:de})(ue),pe=(0,g.ZP)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:de})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({},ue({theme:t,ownerState:n}),{opacity:0,pointerEvents:"none"})})),fe=()=>{},me=o.forwardRef((function(e,t){const n=(0,a.Z)({props:e,name:"MuiPickersDay"}),{autoFocus:s=!1,className:l,day:c,disabled:u=!1,disableHighlightToday:d=!1,disableMargin:p=!1,isAnimating:f,onClick:m,onDaySelect:g,onFocus:y=fe,onBlur:w=fe,onKeyDown:b=fe,onMouseDown:T=fe,onMouseEnter:x=fe,outsideCurrentMonth:S,selected:k=!1,showDaysOutsideCurrentMonth:C=!1,children:E,today:_=!1}=n,D=(0,i.Z)(n,ce),P=(0,r.Z)({},n,{autoFocus:s,disabled:u,disableHighlightToday:d,disableMargin:p,selected:k,showDaysOutsideCurrentMonth:C,today:_}),A=(e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:i,disabled:o,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:a,classes:l}=e,c={root:["root",t&&"selected",o&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",s&&a&&"dayOutsideMonth",s&&!a&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,v.Z)(c,ae,l)})(P),R=(0,h.nB)(),M=o.useRef(null),N=(0,re.Z)(M,t);(0,ie.Z)((()=>{!s||u||f||S||M.current.focus()}),[s,u,f,S]);return S&&!C?(0,I.jsx)(pe,{className:(0,q.Z)(A.root,A.hiddenDaySpacingFiller,l),ownerState:P,role:D.role}):(0,I.jsx)(he,(0,r.Z)({className:(0,q.Z)(A.root,l),ref:N,centerRipple:!0,disabled:u,tabIndex:k?0:-1,onKeyDown:e=>b(e,c),onFocus:e=>y(e,c),onBlur:e=>w(e,c),onMouseEnter:e=>x(e,c),onClick:e=>{u||g(c),S&&e.currentTarget.focus(),m&&m(e)},onMouseDown:e=>{T(e),S&&e.preventDefault()}},D,{ownerState:P,children:E||R.format(c,"dayOfMonth")}))})),ge=o.memo(me);var ve=n(4578);function ye(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var we=n(8875),be=n(8852),Te=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=ye(n.className,r):n.setAttribute("class",ye(n.className&&n.className.baseVal||"",r)));var n,r}))},Ie=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,ve.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&(0,be.Q)(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&Te(e,r),i&&Te(e,i),o&&Te(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return o.createElement(we.ZP,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);Ie.defaultProps={classNames:""},Ie.propTypes={};const xe=Ie,Se=e=>(0,w.Z)("MuiPickersSlideTransition",e),ke=(0,b.Z)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Ce=["children","className","reduceAnimations","slideDirection","transKey","classes"],Ee=(0,g.ZP)(X.Z,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[".".concat(ke["slideEnter-left"])]:t["slideEnter-left"]},{[".".concat(ke["slideEnter-right"])]:t["slideEnter-right"]},{[".".concat(ke.slideEnterActive)]:t.slideEnterActive},{[".".concat(ke.slideExit)]:t.slideExit},{[".".concat(ke["slideExitActiveLeft-left"])]:t["slideExitActiveLeft-left"]},{[".".concat(ke["slideExitActiveLeft-right"])]:t["slideExitActiveLeft-right"]}]})((e=>{let{theme:t}=e;const n=t.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},["& .".concat(ke["slideEnter-left"])]:{willChange:"transform",transform:"translate(100%)",zIndex:1},["& .".concat(ke["slideEnter-right"])]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},["& .".concat(ke.slideEnterActive)]:{transform:"translate(0%)",transition:n},["& .".concat(ke.slideExit)]:{transform:"translate(0%)"},["& .".concat(ke["slideExitActiveLeft-left"])]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},["& .".concat(ke["slideExitActiveLeft-right"])]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}}));const _e=e=>(0,w.Z)("MuiDayCalendar",e),De=((0,b.Z)("MuiDayCalendar",["header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"]),Pe=["ownerState"],Ae=e=>e.charAt(0).toUpperCase(),Re=6*(se.p2+2*se.yh),Me=(0,g.ZP)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Ne=(0,g.ZP)(m.Z,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}})),Oe=(0,g.ZP)(m.Z,{name:"MuiDayPicker",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled}})),Ze=(0,g.ZP)(m.Z,{name:"MuiDayPicker",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})((e=>{let{theme:t}=e;return(0,r.Z)({},t.typography.caption,{width:se.p2,height:se.p2,padding:0,margin:"0 ".concat(se.yh,"px"),color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})})),Le=(0,g.ZP)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Re}),Fe=(0,g.ZP)((function(e){const t=(0,a.Z)({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:s,reduceAnimations:l,transKey:c}=t,u=(0,i.Z)(t,Ce),d=(e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:["slideEnter-".concat(n)],exitActive:["slideExitActiveLeft-".concat(n)]};return(0,v.Z)(r,Se,t)})(t);if(l)return(0,I.jsx)("div",{className:(0,q.Z)(d.root,s),children:n});const h={exit:d.exit,enterActive:d.enterActive,enter:d.enter,exitActive:d.exitActive};return(0,I.jsx)(Ee,{className:(0,q.Z)(d.root,s),childFactory:e=>o.cloneElement(e,{classNames:h}),role:"presentation",children:(0,I.jsx)(xe,(0,r.Z)({mountOnEnter:!0,unmountOnExit:!0,timeout:350,classNames:h},u,{children:n}),c)})}),{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:Re}),Ve=(0,g.ZP)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),Ue=(0,g.ZP)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:"".concat(se.yh,"px 0"),display:"flex",justifyContent:"center"});function je(e){var t,n,s;let{parentProps:a,day:l,focusableDay:c,selectedDays:u,isDateDisabled:d,currentMonthNumber:p,isViewFocused:f}=e,m=(0,i.Z)(e,De);const g=(0,h.nB)(),v=(0,h.mX)(),{disabled:y,disableHighlightToday:w,isMonthSwitchingAnimating:b,showDaysOutsideCurrentMonth:T,components:x,componentsProps:S,slots:k,slotProps:C}=a,E=null!==c&&g.isSameDay(l,c),_=u.some((e=>g.isSameDay(e,l))),D=g.isSameDay(l,v),P=null!=(t=null!=(n=null==k?void 0:k.day)?n:null==x?void 0:x.Day)?t:ge,A=(0,N.Z)({elementType:P,externalSlotProps:null!=(s=null==C?void 0:C.day)?s:null==S?void 0:S.day,additionalProps:(0,r.Z)({disableHighlightToday:w,showDaysOutsideCurrentMonth:T,role:"gridcell",isAnimating:b,"data-timestamp":g.toJsDate(l).valueOf()},m),ownerState:(0,r.Z)({},a,{day:l,selected:_})}),R=(0,i.Z)(A,Pe),M=o.useMemo((()=>y||d(l)),[y,d,l]),O=o.useMemo((()=>g.getMonth(l)!==p),[g,l,p]),Z=o.useMemo((()=>{const e=g.startOfMonth(g.setMonth(l,p));return T?g.isSameDay(l,g.startOfWeek(e)):g.isSameDay(l,e)}),[p,l,T,g]),L=o.useMemo((()=>{const e=g.endOfMonth(g.setMonth(l,p));return T?g.isSameDay(l,g.endOfWeek(e)):g.isSameDay(l,e)}),[p,l,T,g]);return(0,I.jsx)(P,(0,r.Z)({},R,{day:l,disabled:M,autoFocus:f&&E,today:D,outsideCurrentMonth:O,isFirstVisibleCell:Z,isLastVisibleCell:L,selected:_,tabIndex:E?0:-1,"aria-selected":_,"aria-current":D?"date":void 0}))}function Be(e){const t=(0,h.mX)(),n=(0,h.nB)(),i=(0,a.Z)({props:e,name:"MuiDayCalendar"}),s=(e=>{const{classes:t}=e;return(0,v.Z)({header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},_e,t)})(i),l="rtl"===(0,te.Z)().direction,{onFocusedDayChange:c,className:u,currentMonth:d,selectedDays:p,focusedDay:m,loading:g,onSelectedDaysChange:y,onMonthSwitchingAnimationEnd:w,readOnly:b,reduceAnimations:T,renderLoading:x=(()=>(0,I.jsx)("span",{children:"..."})),slideDirection:S,TransitionProps:k,disablePast:C,disableFuture:E,minDate:_,maxDate:D,shouldDisableDate:P,shouldDisableMonth:A,shouldDisableYear:R,dayOfWeekFormatter:M=Ae,hasFocus:N,onFocusedViewChange:O,gridLabelId:Z,displayWeekNumber:L,fixedWeekNumber:F,autoFocus:V}=i,U=K({shouldDisableDate:P,shouldDisableMonth:A,shouldDisableYear:R,minDate:_,maxDate:D,disablePast:C,disableFuture:E}),j=(0,h.og)(),[B,z]=(0,W.Z)({name:"DayCalendar",state:"hasFocus",controlled:N,default:null!=V&&V}),[H,Y]=o.useState((()=>m||t)),Q=(0,G.Z)((e=>{b||y(e)})),X=e=>{U(e)||(c(e),Y(e),null==O||O(!0),z(!0))},J=(0,G.Z)(((e,t)=>{switch(e.key){case"ArrowUp":X(n.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":X(n.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":{const r=n.addDays(t,l?1:-1),i=n.addMonths(t,l?1:-1),o=(0,f.xP)({utils:n,date:r,minDate:l?r:n.startOfMonth(i),maxDate:l?n.endOfMonth(i):r,isDateDisabled:U});X(o||r),e.preventDefault();break}case"ArrowRight":{const r=n.addDays(t,l?-1:1),i=n.addMonths(t,l?-1:1),o=(0,f.xP)({utils:n,date:r,minDate:l?n.startOfMonth(i):r,maxDate:l?r:n.endOfMonth(i),isDateDisabled:U});X(o||r),e.preventDefault();break}case"Home":X(n.startOfWeek(t)),e.preventDefault();break;case"End":X(n.endOfWeek(t)),e.preventDefault();break;case"PageUp":X(n.addMonths(t,1)),e.preventDefault();break;case"PageDown":X(n.addMonths(t,-1)),e.preventDefault()}})),$=(0,G.Z)(((e,t)=>X(t))),ee=(0,G.Z)(((e,t)=>{B&&n.isSameDay(H,t)&&(null==O||O(!1))})),ne=n.getMonth(d),re=o.useMemo((()=>p.filter((e=>!!e)).map((e=>n.startOfDay(e)))),[n,p]),ie=ne,oe=o.useMemo((()=>o.createRef()),[ie]),se=n.startOfWeek(t),ae=o.useMemo((()=>{const e=n.startOfMonth(d),t=n.endOfMonth(d);return U(H)||n.isAfterDay(H,t)||n.isBeforeDay(H,e)?(0,f.xP)({utils:n,date:H,minDate:e,maxDate:t,disablePast:C,disableFuture:E,isDateDisabled:U}):H}),[d,E,C,H,U,n]),le=o.useMemo((()=>{const e=n.getWeekArray(d);let t=n.addMonths(d,1);for(;F&&e.length<F;){const r=n.getWeekArray(t),i=n.isSameDay(e[e.length-1][0],r[0][0]);r.slice(i?1:0).forEach((t=>{e.length<F&&e.push(t)})),t=n.addMonths(t,1)}return e}),[d,F,n]);return(0,I.jsxs)("div",{role:"grid","aria-labelledby":Z,children:[(0,I.jsxs)(Me,{role:"row",className:s.header,children:[L&&(0,I.jsx)(Oe,{variant:"caption",role:"columnheader","aria-label":j.calendarWeekNumberHeaderLabel,className:s.weekNumberLabel,children:j.calendarWeekNumberHeaderText}),n.getWeekdays().map(((e,t)=>{var r;return(0,I.jsx)(Ne,{variant:"caption",role:"columnheader","aria-label":n.format(n.addDays(se,t),"weekday"),className:s.weekDayLabel,children:null!=(r=null==M?void 0:M(e))?r:e},e+t.toString())}))]}),g?(0,I.jsx)(Le,{className:s.loadingContainer,children:x()}):(0,I.jsx)(Fe,(0,r.Z)({transKey:ie,onExited:w,reduceAnimations:T,slideDirection:S,className:(0,q.Z)(u,s.slideTransition)},k,{nodeRef:oe,children:(0,I.jsx)(Ve,{ref:oe,role:"rowgroup",className:s.monthContainer,children:le.map(((e,t)=>(0,I.jsxs)(Ue,{role:"row",className:s.weekContainer,"aria-rowindex":t+1,children:[L&&(0,I.jsx)(Ze,{className:s.weekNumber,role:"rowheader","aria-label":j.calendarWeekNumberAriaLabelText(n.getWeekNumber(e[0])),children:j.calendarWeekNumberText(n.getWeekNumber(e[0]))}),e.map(((e,t)=>(0,I.jsx)(je,{parentProps:i,day:e,selectedDays:re,focusableDay:ae,onKeyDown:J,onFocus:$,onBlur:ee,onDaySelect:Q,isDateDisabled:U,currentMonthNumber:ne,isViewFocused:B,"aria-colindex":t+1},e.toString())))]},"week-".concat(e[0]))))})}))]})}var qe=n(418);function ze(e){return(0,w.Z)("MuiPickersMonth",e)}const We=(0,b.Z)("MuiPickersMonth",["root","monthButton","disabled","selected"]),He=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","monthsPerRow"],Ge=(0,g.ZP)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t}=e;return{flexBasis:3===t.monthsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}})),Ke=(0,g.ZP)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{["&.".concat(We.disabled)]:t.disabled},{["&.".concat(We.selected)]:t.selected}]})((e=>{let{theme:t}=e;return(0,r.Z)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,oe.Fq)(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,oe.Fq)(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(We.disabled)]:{color:(t.vars||t).palette.text.secondary},["&.".concat(We.selected)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),Ye=o.memo((function(e){const t=(0,a.Z)({props:e,name:"MuiPickersMonth"}),{autoFocus:n,children:s,disabled:l,value:c,tabIndex:u,onClick:d,onKeyDown:h,onFocus:p,onBlur:f,"aria-current":m}=t,g=(0,i.Z)(t,He),y=o.useRef(null),w=(e=>{const{disabled:t,selected:n,classes:r}=e,i={root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]};return(0,v.Z)(i,ze,r)})(t);return(0,ie.Z)((()=>{var e;n&&(null==(e=y.current)||e.focus())}),[n]),(0,I.jsx)(Ge,(0,r.Z)({className:w.root,ownerState:t},g,{children:(0,I.jsx)(Ke,{ref:y,disabled:l,type:"button",tabIndex:l?-1:u,"aria-current":m,onClick:e=>d(e,c),onKeyDown:e=>h(e,c),onFocus:e=>p(e,c),onBlur:e=>f(e,c),className:w.monthButton,ownerState:t,children:s})}))}));function Qe(e){return(0,w.Z)("MuiMonthCalendar",e)}(0,b.Z)("MuiMonthCalendar",["root"]);const Xe=["className","value","defaultValue","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow"];const Je=(0,g.ZP)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:320}),$e=o.forwardRef((function(e,t){const n=(0,h.mX)(),s=(0,qe.Z)(),l=(0,h.nB)(),c=function(e,t){const n=(0,h.nB)(),i=(0,h.PP)(),o=(0,a.Z)({props:e,name:t});return(0,r.Z)({disableFuture:!1,disablePast:!1},o,{minDate:(0,f.US)(n,o.minDate,i.minDate),maxDate:(0,f.US)(n,o.maxDate,i.maxDate)})}(e,"MuiMonthCalendar"),{className:u,value:d,defaultValue:p,disabled:m,disableFuture:g,disablePast:y,maxDate:w,minDate:b,onChange:T,shouldDisableMonth:x,readOnly:S,disableHighlightToday:k,autoFocus:C=!1,onMonthFocus:E,hasFocus:_,onFocusedViewChange:D,monthsPerRow:P=3}=c,A=(0,i.Z)(c,Xe),R=c,M=(e=>{const{classes:t}=e;return(0,v.Z)({root:["root"]},Qe,t)})(R),[N,O]=(0,W.Z)({name:"MonthCalendar",state:"value",controlled:d,default:null!=p?p:null}),Z=o.useMemo((()=>l.getMonth(n)),[l,n]),L=o.useMemo((()=>null!=N?N:l.startOfMonth(n)),[n,l,N]),F=o.useMemo((()=>null!=N?l.getMonth(N):k?null:l.getMonth(n)),[n,N,l,k]),[V,U]=o.useState((()=>F||Z)),[j,B]=(0,W.Z)({name:"MonthCalendar",state:"hasFocus",controlled:_,default:null!=C&&C}),z=(0,H.Z)((e=>{B(e),D&&D(e)})),G=(0,H.Z)((e=>{const t=l.startOfMonth(y&&l.isAfter(n,b)?n:b),r=l.startOfMonth(g&&l.isBefore(n,w)?n:w);return!!l.isBefore(e,t)||(!!l.isAfter(e,r)||!!x&&x(e))})),K=(0,H.Z)(((e,t)=>{if(S)return;const n=l.setMonth(L,t);O(n),null==T||T(n)})),Y=(0,H.Z)((e=>{G(l.setMonth(L,e))||(U(e),z(!0),E&&E(e))}));o.useEffect((()=>{U((e=>null!==F&&e!==F?F:e))}),[F]);const Q=(0,H.Z)(((e,t)=>{const n=12;switch(e.key){case"ArrowUp":Y((n+t-3)%n),e.preventDefault();break;case"ArrowDown":Y((n+t+3)%n),e.preventDefault();break;case"ArrowLeft":Y((n+t+("ltr"===s.direction?-1:1))%n),e.preventDefault();break;case"ArrowRight":Y((n+t+("ltr"===s.direction?1:-1))%n),e.preventDefault()}})),X=(0,H.Z)(((e,t)=>{Y(t)})),J=(0,H.Z)(((e,t)=>{V===t&&z(!1)}));return(0,I.jsx)(Je,(0,r.Z)({ref:t,className:(0,q.Z)(M.root,u),ownerState:R},A,{children:(0,f.SV)(l,L).map((e=>{const t=l.getMonth(e),n=l.format(e,"monthShort"),r=t===F,i=m||G(e);return(0,I.jsx)(Ye,{selected:r,value:t,onClick:K,onKeyDown:Q,autoFocus:j&&t===V,disabled:i,tabIndex:t===V?0:-1,onFocus:X,onBlur:J,"aria-current":Z===t?"date":void 0,monthsPerRow:P,children:n},n)}))}))}));function et(e){return(0,w.Z)("MuiPickersYear",e)}const tt=(0,b.Z)("MuiPickersYear",["root","yearButton","selected","disabled"]),nt=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],rt=(0,g.ZP)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t}=e;return{flexBasis:3===t.yearsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}})),it=(0,g.ZP)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{["&.".concat(tt.disabled)]:t.disabled},{["&.".concat(tt.selected)]:t.selected}]})((e=>{let{theme:t}=e;return(0,r.Z)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,oe.Fq)(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,oe.Fq)(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(tt.disabled)]:{color:(t.vars||t).palette.text.secondary},["&.".concat(tt.selected)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),ot=o.memo((function(e){const t=(0,a.Z)({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:s,children:l,disabled:c,value:u,tabIndex:d,onClick:h,onKeyDown:p,onFocus:f,onBlur:m,"aria-current":g}=t,y=(0,i.Z)(t,nt),w=o.useRef(null),b=(e=>{const{disabled:t,selected:n,classes:r}=e,i={root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]};return(0,v.Z)(i,et,r)})(t);return o.useEffect((()=>{n&&w.current.focus()}),[n]),(0,I.jsx)(rt,(0,r.Z)({className:(0,q.Z)(b.root,s),ownerState:t},y,{children:(0,I.jsx)(it,{ref:w,disabled:c,type:"button",tabIndex:c?-1:d,"aria-current":g,onClick:e=>h(e,u),onKeyDown:e=>p(e,u),onFocus:e=>f(e,u),onBlur:e=>m(e,u),className:b.yearButton,ownerState:t,children:l})}))}));function st(e){return(0,w.Z)("MuiYearCalendar",e)}(0,b.Z)("MuiYearCalendar",["root"]);const at=["autoFocus","className","value","defaultValue","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow"];const lt=(0,g.ZP)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:320,maxHeight:304}),ct=o.forwardRef((function(e,t){const n=(0,h.mX)(),s=(0,qe.Z)(),l=(0,h.nB)(),c=function(e,t){const n=(0,h.nB)(),i=(0,h.PP)(),o=(0,a.Z)({props:e,name:t});return(0,r.Z)({disablePast:!1,disableFuture:!1},o,{minDate:(0,f.US)(n,o.minDate,i.minDate),maxDate:(0,f.US)(n,o.maxDate,i.maxDate)})}(e,"MuiYearCalendar"),{autoFocus:u,className:d,value:p,defaultValue:m,disabled:g,disableFuture:y,disablePast:w,maxDate:b,minDate:T,onChange:x,readOnly:S,shouldDisableYear:k,disableHighlightToday:C,onYearFocus:E,hasFocus:_,onFocusedViewChange:D,yearsPerRow:P=3}=c,A=(0,i.Z)(c,at),R=c,M=(e=>{const{classes:t}=e;return(0,v.Z)({root:["root"]},st,t)})(R),[N,O]=(0,W.Z)({name:"YearCalendar",state:"value",controlled:p,default:null!=m?m:null}),Z=o.useMemo((()=>null!=N?N:l.startOfYear(n)),[n,l,N]),L=o.useMemo((()=>l.getYear(n)),[l,n]),F=o.useMemo((()=>null!=N?l.getYear(N):C?null:l.getYear(n)),[n,N,l,C]),[V,U]=o.useState((()=>F||L)),[j,B]=(0,W.Z)({name:"YearCalendar",state:"hasFocus",controlled:_,default:null!=u&&u}),z=(0,H.Z)((e=>{B(e),D&&D(e)})),G=(0,H.Z)((e=>!(!w||!l.isBeforeYear(e,n))||(!(!y||!l.isAfterYear(e,n))||(!(!T||!l.isBeforeYear(e,T))||(!(!b||!l.isAfterYear(e,b))||!(!k||!k(e))))))),K=(0,H.Z)(((e,t)=>{if(S)return;const n=l.setYear(Z,t);O(n),null==x||x(n)})),Y=(0,H.Z)((e=>{G(l.setYear(Z,e))||(U(e),z(!0),null==E||E(e))}));o.useEffect((()=>{U((e=>null!==F&&e!==F?F:e))}),[F]);const Q=(0,H.Z)(((e,t)=>{switch(e.key){case"ArrowUp":Y(t-P),e.preventDefault();break;case"ArrowDown":Y(t+P),e.preventDefault();break;case"ArrowLeft":Y(t+("ltr"===s.direction?-1:1)),e.preventDefault();break;case"ArrowRight":Y(t+("ltr"===s.direction?1:-1)),e.preventDefault()}})),X=(0,H.Z)(((e,t)=>{Y(t)})),J=(0,H.Z)(((e,t)=>{V===t&&z(!1)})),$=o.useRef(null),ee=(0,re.Z)(t,$);return o.useEffect((()=>{if(u||null===$.current)return;const e=$.current.querySelector('[tabindex="0"]');if(!e)return;const t=e.offsetHeight,n=e.offsetTop,r=$.current.clientHeight,i=$.current.scrollTop,o=n+t;t>r||n<i||($.current.scrollTop=o-r/2-t/2)}),[u]),(0,I.jsx)(lt,(0,r.Z)({ref:ee,className:(0,q.Z)(M.root,d),ownerState:R},A,{children:l.getYearRange(T,b).map((e=>{const t=l.getYear(e),n=t===F,r=g||G(e);return(0,I.jsx)(ot,{selected:n,value:t,onClick:K,onKeyDown:Q,autoFocus:j&&t===V,disabled:r,tabIndex:t===V?0:-1,onFocus:X,onBlur:J,"aria-current":L===t?"date":void 0,yearsPerRow:P,children:l.format(e,"year")},l.format(e,"year"))}))}))}));var ut=n(8540),dt=n(3400),ht=n(7782),pt=n(406);const ft=e=>(0,w.Z)("MuiPickersCalendarHeader",e),mt=(0,b.Z)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),gt=["ownerState"],vt=(0,g.ZP)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),yt=(0,g.ZP)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})((e=>{let{theme:t}=e;return(0,r.Z)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})})),wt=(0,g.ZP)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),bt=(0,g.ZP)(dt.Z,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})((e=>{let{ownerState:t}=e;return(0,r.Z)({marginRight:"auto"},"year"===t.view&&{[".".concat(mt.switchViewIcon)]:{transform:"rotate(180deg)"}})})),Tt=(0,g.ZP)(R.Dk,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})((e=>{let{theme:t}=e;return{willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"}}));function It(e){var t,n;const o=(0,h.og)(),s=(0,h.nB)(),l=(0,a.Z)({props:e,name:"MuiPickersCalendarHeader"}),{slots:c,slotProps:u,currentMonth:d,disabled:p,disableFuture:f,disablePast:m,maxDate:g,minDate:y,onMonthChange:w,onViewChange:b,view:T,reduceAnimations:x,views:S,labelId:k}=l,C=l,E=(e=>{const{classes:t}=e;return(0,v.Z)({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},ft,t)})(l),_=null!=(t=null==c?void 0:c.switchViewButton)?t:bt,D=(0,N.Z)({elementType:_,externalSlotProps:null==u?void 0:u.switchViewButton,additionalProps:{size:"small","aria-label":o.calendarViewSwitchingButtonAriaLabel(T)},ownerState:C,className:E.switchViewButton}),P=null!=(n=null==c?void 0:c.switchViewIcon)?n:Tt,A=(0,N.Z)({elementType:P,externalSlotProps:null==u?void 0:u.switchViewIcon,ownerState:void 0,className:E.switchViewIcon}),R=(0,i.Z)(A,gt),M=(0,pt.MS)(d,{disableFuture:f,maxDate:g}),O=(0,pt.tw)(d,{disablePast:m,minDate:y});return 1===S.length&&"year"===S[0]?null:(0,I.jsxs)(vt,{ownerState:C,className:E.root,children:[(0,I.jsxs)(yt,{role:"presentation",onClick:()=>{if(1!==S.length&&b&&!p)if(2===S.length)b(S.find((e=>e!==T))||S[0]);else{const e=0!==S.indexOf(T)?0:1;b(S[e])}},ownerState:C,"aria-live":"polite",className:E.labelContainer,children:[(0,I.jsx)(ee,{reduceAnimations:x,transKey:s.format(d,"monthAndYear"),children:(0,I.jsx)(wt,{id:k,ownerState:C,className:E.label,children:s.format(d,"monthAndYear")})}),S.length>1&&!p&&(0,I.jsx)(_,(0,r.Z)({},D,{children:(0,I.jsx)(P,(0,r.Z)({},R))}))]}),(0,I.jsx)(Q.Z,{in:"day"===T,children:(0,I.jsx)(ht.u,{slots:c,slotProps:u,onGoToPrevious:()=>w(s.addMonths(d,-1),"right"),isPreviousDisabled:O,previousLabel:o.previousMonth,onGoToNext:()=>w(s.addMonths(d,1),"left"),isNextDisabled:M,nextLabel:o.nextMonth})})]})}var xt=n(4574);const St="undefined"!==typeof navigator&&/(android)/i.test(navigator.userAgent),kt=e=>(0,w.Z)("MuiDateCalendar",e),Ct=((0,b.Z)("MuiDateCalendar",["root","viewTransitionContainer"]),["autoFocus","onViewChange","value","defaultValue","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow"]);const Et=(0,g.ZP)(xt.Z,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column"}),_t=(0,g.ZP)(ee,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),Dt=o.forwardRef((function(e,t){const n=(0,h.nB)(),s=(0,z.Z)(),l=function(e,t){const n=(0,h.nB)(),i=(0,h.PP)(),o=(0,a.Z)({props:e,name:t});return(0,r.Z)({loading:!1,disablePast:!1,disableFuture:!1,openTo:"day",views:["year","day"],reduceAnimations:St,renderLoading:()=>(0,I.jsx)("span",{children:"..."})},o,{minDate:(0,f.US)(n,o.minDate,i.minDate),maxDate:(0,f.US)(n,o.maxDate,i.maxDate)})}(e,"MuiDateCalendar"),{autoFocus:c,onViewChange:u,value:d,defaultValue:p,disableFuture:m,disablePast:g,defaultCalendarMonth:y,onChange:w,onYearChange:b,onMonthChange:T,reduceAnimations:x,shouldDisableDate:S,shouldDisableMonth:k,shouldDisableYear:C,view:E,views:_,openTo:D,className:P,disabled:A,readOnly:R,minDate:M,maxDate:N,disableHighlightToday:O,focusedView:Z,onFocusedViewChange:L,showDaysOutsideCurrentMonth:F,fixedWeekNumber:V,dayOfWeekFormatter:U,components:j,componentsProps:B,slots:G,slotProps:K,loading:Q,renderLoading:X,displayWeekNumber:J,yearsPerRow:$,monthsPerRow:ee}=l,te=(0,i.Z)(l,Ct),[ne,re]=(0,W.Z)({name:"DateCalendar",state:"value",controlled:d,default:null!=p?p:null}),ie=(0,H.Z)(((e,t)=>{re(e),null==w||w(e,t)})),{view:oe,setView:se,focusedView:ae,setFocusedView:le,goToNextView:ce,setValueAndGoToNextView:ue}=(0,ut.B)({view:E,views:_,openTo:D,onChange:ie,onViewChange:u,autoFocus:c,focusedView:Z,onFocusedViewChange:L}),{calendarState:de,changeFocusedDay:he,changeMonth:pe,handleChangeMonth:fe,isDateDisabled:me,onMonthSwitchingAnimationEnd:ge}=Y({value:ne,defaultCalendarMonth:y,reduceAnimations:x,onMonthChange:T,minDate:M,maxDate:N,shouldDisableDate:S,disablePast:g,disableFuture:m}),ve=(0,H.Z)((e=>{const t=n.startOfMonth(e),r=n.endOfMonth(e),i=me(e)?(0,f.xP)({utils:n,date:e,minDate:n.isBefore(M,t)?t:M,maxDate:n.isAfter(N,r)?r:N,disablePast:g,disableFuture:m,isDateDisabled:me}):e;i?(ue(i,"finish"),null==T||T(t)):(ce(),pe(t)),he(i,!0)})),ye=(0,H.Z)((e=>{const t=n.startOfYear(e),r=n.endOfYear(e),i=me(e)?(0,f.xP)({utils:n,date:e,minDate:n.isBefore(M,t)?t:M,maxDate:n.isAfter(N,r)?r:N,disablePast:g,disableFuture:m,isDateDisabled:me}):e;i?(ue(i,"finish"),null==b||b(i)):(ce(),pe(t)),he(i,!0)})),we=(0,H.Z)((e=>ue(ne&&e?(0,f.zu)(n,e,ne):e,"finish")));o.useEffect((()=>{null!=ne&&n.isValid(ne)&&pe(ne)}),[ne]);const be=l,Te=(e=>{const{classes:t}=e;return(0,v.Z)({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},kt,t)})(be),Ie={disablePast:g,disableFuture:m,maxDate:N,minDate:M},xe=A&&ne||M,Se=A&&ne||N,ke={disableHighlightToday:O,readOnly:R,disabled:A},Ce="".concat(s,"-grid-label"),Ee=null!==ae,_e=o.useRef(oe);o.useEffect((()=>{_e.current!==oe&&(ae===_e.current&&le(oe,!0),_e.current=oe)}),[ae,le,oe]);const De=o.useMemo((()=>[ne]),[ne]);return(0,I.jsxs)(Et,(0,r.Z)({ref:t,className:(0,q.Z)(Te.root,P),ownerState:be},te,{children:[(0,I.jsx)(It,{views:_,view:oe,currentMonth:de.currentMonth,onViewChange:se,onMonthChange:(e,t)=>fe({newMonth:e,direction:t}),minDate:xe,maxDate:Se,disabled:A,disablePast:g,disableFuture:m,reduceAnimations:x,labelId:Ce,slots:G,slotProps:K}),(0,I.jsx)(_t,{reduceAnimations:x,className:Te.viewTransitionContainer,transKey:oe,ownerState:be,children:(0,I.jsxs)("div",{children:["year"===oe&&(0,I.jsx)(ct,(0,r.Z)({},Ie,ke,{value:ne,onChange:ye,shouldDisableYear:C,hasFocus:Ee,onFocusedViewChange:e=>le("year",e),yearsPerRow:$})),"month"===oe&&(0,I.jsx)($e,(0,r.Z)({},Ie,ke,{hasFocus:Ee,className:P,value:ne,onChange:ve,shouldDisableMonth:k,onFocusedViewChange:e=>le("month",e),monthsPerRow:ee})),"day"===oe&&(0,I.jsx)(Be,(0,r.Z)({},de,Ie,ke,{onMonthSwitchingAnimationEnd:ge,onFocusedDayChange:he,reduceAnimations:x,selectedDays:De,onSelectedDaysChange:we,shouldDisableDate:S,shouldDisableMonth:k,shouldDisableYear:C,hasFocus:Ee,onFocusedViewChange:e=>le("day",e),gridLabelId:Ce,showDaysOutsideCurrentMonth:F,fixedWeekNumber:V,dayOfWeekFormatter:U,displayWeekNumber:J,components:j,componentsProps:B,slots:G,slotProps:K,loading:Q,renderLoading:X}))]})})]}))})),Pt=e=>"year"===e||"month"===e||"day"===e,At=e=>{let{view:t,onViewChange:n,views:r,focusedView:i,onFocusedViewChange:o,value:s,defaultValue:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:v,reduceAnimations:y,onMonthChange:w,monthsPerRow:b,onYearChange:T,yearsPerRow:x,defaultCalendarMonth:S,components:k,componentsProps:C,slots:E,slotProps:_,loading:D,renderLoading:P,disableHighlightToday:A,readOnly:R,disabled:M,showDaysOutsideCurrentMonth:N,dayOfWeekFormatter:O,sx:Z,autoFocus:L,fixedWeekNumber:F,displayWeekNumber:V}=e;return(0,I.jsx)(Dt,{view:t,onViewChange:n,views:r.filter(Pt),focusedView:i,onFocusedViewChange:o,value:s,defaultValue:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:v,reduceAnimations:y,onMonthChange:w,monthsPerRow:b,onYearChange:T,yearsPerRow:x,defaultCalendarMonth:S,components:k,componentsProps:C,slots:E,slotProps:_,loading:D,renderLoading:P,disableHighlightToday:A,readOnly:R,disabled:M,showDaysOutsideCurrentMonth:N,dayOfWeekFormatter:O,sx:Z,autoFocus:L,fixedWeekNumber:F,displayWeekNumber:V})},Rt=o.forwardRef((function(e,t){var n,i;const o=(0,h.og)(),s=(0,h.nB)(),a=D(e,"MuiDesktopDatePicker"),l=(0,r.Z)({day:At,month:At,year:At},a.viewRenderers),c=(0,r.Z)({},a,{viewRenderers:l,format:_(s,a),yearsPerRow:null!=(n=a.yearsPerRow)?n:4,slots:(0,r.Z)({openPickerIcon:R.f,field:j},a.slots),slotProps:(0,r.Z)({},a.slotProps,{field:e=>{var n;return(0,r.Z)({},(0,u.Z)(null==(n=a.slotProps)?void 0:n.field,e),(0,B.f_)(a),{ref:t})},toolbar:(0,r.Z)({hidden:!0},null==(i=a.slotProps)?void 0:i.toolbar)})}),{renderPicker:p}=(0,A.B)({props:c,valueManager:d.h,valueType:"date",getOpenDialogAriaText:o.openDatePickerDialogue,validator:P});return p()}));Rt.propTypes={autoFocus:c().bool,className:c().string,closeOnSelect:c().bool,components:c().object,componentsProps:c().object,dayOfWeekFormatter:c().func,defaultCalendarMonth:c().any,defaultValue:c().any,disabled:c().bool,disableFuture:c().bool,disableHighlightToday:c().bool,disableOpenPicker:c().bool,disablePast:c().bool,displayWeekNumber:c().bool,fixedWeekNumber:c().number,format:c().string,formatDensity:c().oneOf(["dense","spacious"]),inputRef:c().oneOfType([c().func,c().shape({current:c().object})]),label:c().node,loading:c().bool,localeText:c().object,maxDate:c().any,minDate:c().any,monthsPerRow:c().oneOf([3,4]),onAccept:c().func,onChange:c().func,onClose:c().func,onError:c().func,onMonthChange:c().func,onOpen:c().func,onSelectedSectionsChange:c().func,onViewChange:c().func,onYearChange:c().func,open:c().bool,openTo:c().oneOf(["day","month","year"]),orientation:c().oneOf(["landscape","portrait"]),readOnly:c().bool,reduceAnimations:c().bool,renderLoading:c().func,selectedSections:c().oneOfType([c().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),c().number,c().shape({endIndex:c().number.isRequired,startIndex:c().number.isRequired})]),shouldDisableDate:c().func,shouldDisableMonth:c().func,shouldDisableYear:c().func,showDaysOutsideCurrentMonth:c().bool,slotProps:c().object,slots:c().object,sx:c().oneOfType([c().arrayOf(c().oneOfType([c().func,c().object,c().bool])),c().func,c().object]),value:c().any,view:c().oneOf(["day","month","year"]),viewRenderers:c().shape({day:c().func,month:c().func,year:c().func}),views:c().arrayOf(c().oneOf(["day","month","year"]).isRequired),yearsPerRow:c().oneOf([3,4])};var Mt=n(7041);const Nt=o.forwardRef((function(e,t){var n;const i=(0,h.og)(),o=(0,h.nB)(),s=D(e,"MuiMobileDatePicker"),a=(0,r.Z)({day:At,month:At,year:At},s.viewRenderers),l=(0,r.Z)({},s,{viewRenderers:a,format:_(o,s),slots:(0,r.Z)({field:j},s.slots),slotProps:(0,r.Z)({},s.slotProps,{field:e=>{var n;return(0,r.Z)({},(0,u.Z)(null==(n=s.slotProps)?void 0:n.field,e),(0,B.f_)(s),{ref:t})},toolbar:(0,r.Z)({hidden:!1},null==(n=s.slotProps)?void 0:n.toolbar)})}),{renderPicker:c}=(0,Mt.s)({props:l,valueManager:d.h,valueType:"date",getOpenDialogAriaText:i.openDatePickerDialogue,validator:P});return c()}));Nt.propTypes={autoFocus:c().bool,className:c().string,closeOnSelect:c().bool,components:c().object,componentsProps:c().object,dayOfWeekFormatter:c().func,defaultCalendarMonth:c().any,defaultValue:c().any,disabled:c().bool,disableFuture:c().bool,disableHighlightToday:c().bool,disableOpenPicker:c().bool,disablePast:c().bool,displayWeekNumber:c().bool,fixedWeekNumber:c().number,format:c().string,formatDensity:c().oneOf(["dense","spacious"]),inputRef:c().oneOfType([c().func,c().shape({current:c().object})]),label:c().node,loading:c().bool,localeText:c().object,maxDate:c().any,minDate:c().any,monthsPerRow:c().oneOf([3,4]),onAccept:c().func,onChange:c().func,onClose:c().func,onError:c().func,onMonthChange:c().func,onOpen:c().func,onSelectedSectionsChange:c().func,onViewChange:c().func,onYearChange:c().func,open:c().bool,openTo:c().oneOf(["day","month","year"]),orientation:c().oneOf(["landscape","portrait"]),readOnly:c().bool,reduceAnimations:c().bool,renderLoading:c().func,selectedSections:c().oneOfType([c().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),c().number,c().shape({endIndex:c().number.isRequired,startIndex:c().number.isRequired})]),shouldDisableDate:c().func,shouldDisableMonth:c().func,shouldDisableYear:c().func,showDaysOutsideCurrentMonth:c().bool,slotProps:c().object,slots:c().object,sx:c().oneOfType([c().arrayOf(c().oneOfType([c().func,c().object,c().bool])),c().func,c().object]),value:c().any,view:c().oneOf(["day","month","year"]),viewRenderers:c().shape({day:c().func,month:c().func,year:c().func}),views:c().arrayOf(c().oneOf(["day","month","year"]).isRequired),yearsPerRow:c().oneOf([3,4])};var Ot=n(4273);const Zt=["desktopModeMediaQuery"],Lt=o.forwardRef((function(e,t){const n=(0,a.Z)({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:o=Ot.Hr}=n,l=(0,i.Z)(n,Zt);return(0,s.Z)(o,{defaultMatches:!0})?(0,I.jsx)(Rt,(0,r.Z)({ref:t},l)):(0,I.jsx)(Nt,(0,r.Z)({ref:t},l))}))},1652:(e,t,n)=>{n.d(t,{_:()=>u,y:()=>c});var r=n(7462),i=n(3366),o=n(2791),s=n(1402),a=n(184);const l=["localeText"],c=o.createContext(null);const u=function(e){var t;const{localeText:n}=e,u=(0,i.Z)(e,l),{utils:d,localeText:h}=null!=(t=o.useContext(c))?t:{utils:void 0,localeText:void 0},p=(0,s.Z)({props:u,name:"MuiLocalizationProvider"}),{children:f,dateAdapter:m,dateFormats:g,dateLibInstance:v,adapterLocale:y,localeText:w}=p,b=o.useMemo((()=>(0,r.Z)({},w,h,n)),[w,h,n]),T=o.useMemo((()=>{if(!m)return d||null;const e=new m({locale:y,formats:g,instance:v});if(!e.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e}),[m,y,g,v,d]),I=o.useMemo((()=>T?{minDate:T.date("1900-01-01T00:00:00.000"),maxDate:T.date("2099-12-31T00:00:00.000")}:null),[T]),x=o.useMemo((()=>({utils:T,defaultDates:I,localeText:b})),[I,T,b]);return(0,a.jsx)(c.Provider,{value:x,children:f})}},6784:(e,t,n)=>{n.d(t,{ce:()=>ce});var r=n(2791),i=n(2007),o=n.n(i),s=n(8182),a=n(6934),l=n(1402),c=n(4419),u=n(1217),d=n(5878);function h(e){return(0,u.Z)("MuiPickersLayout",e)}const p=(0,d.Z)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","shortcuts"]);var f=n(7462),m=n(8069),g=n(3366),v=n(6151);function y(e){return(0,u.Z)("MuiDialogActions",e)}(0,d.Z)("MuiDialogActions",["root","spacing"]);var w=n(184);const b=["className","disableSpacing"],T=(0,a.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,f.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),I=r.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=n,o=(0,g.Z)(n,b),a=(0,f.Z)({},n,{disableSpacing:i}),u=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,c.Z)(r,y,t)})(a);return(0,w.jsx)(T,(0,f.Z)({className:(0,s.Z)(u.root,r),ownerState:a,ref:t},o))}));var x=n(9818);const S=["onAccept","onClear","onCancel","onSetToday","actions"];function k(e){const{onAccept:t,onClear:n,onCancel:r,onSetToday:i,actions:o}=e,s=(0,g.Z)(e,S),a=(0,x.og)();if(null==o||0===o.length)return null;const l=null==o?void 0:o.map((e=>{switch(e){case"clear":return(0,w.jsx)(v.Z,{onClick:n,children:a.clearButtonLabel},e);case"cancel":return(0,w.jsx)(v.Z,{onClick:r,children:a.cancelButtonLabel},e);case"accept":return(0,w.jsx)(v.Z,{onClick:t,children:a.okButtonLabel},e);case"today":return(0,w.jsx)(v.Z,{onClick:i,children:a.todayButtonLabel},e);default:return null}}));return(0,w.jsx)(I,(0,f.Z)({},s,{children:l}))}var C=n(493),E=n(627),_=n(2065),D=n(3900),P=n(9103),A=n(162),R=n(2071),M=n(6199);function N(e){return(0,u.Z)("MuiListItem",e)}const O=(0,d.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const Z=(0,d.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function L(e){return(0,u.Z)("MuiListItemSecondaryAction",e)}(0,d.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);const F=["className"],V=(0,a.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,f.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),U=r.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=n,o=(0,g.Z)(n,F),a=r.useContext(M.Z),u=(0,f.Z)({},n,{disableGutters:a.disableGutters}),d=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,c.Z)(r,L,n)})(u);return(0,w.jsx)(V,(0,f.Z)({className:(0,s.Z)(d.root,i),ownerState:u,ref:t},o))}));U.muiName="ListItemSecondaryAction";const j=U,B=["className"],q=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],z=(0,a.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,f.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,f.Z)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(Z.root)]:{paddingRight:48}},{["&.".concat(O.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(O.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,_.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(O.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,_.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(O.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(O.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,_.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,_.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),W=(0,a.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),H=r.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:a=!1,children:u,className:d,component:h,components:p={},componentsProps:m={},ContainerComponent:v="li",ContainerProps:{className:y}={},dense:b=!1,disabled:T=!1,disableGutters:I=!1,disablePadding:x=!1,divider:S=!1,focusVisibleClassName:k,secondaryAction:C,selected:_=!1,slotProps:Z={},slots:L={}}=n,F=(0,g.Z)(n.ContainerProps,B),V=(0,g.Z)(n,q),U=r.useContext(M.Z),H=r.useMemo((()=>({dense:b||U.dense||!1,alignItems:i,disableGutters:I})),[i,U.dense,b,I]),G=r.useRef(null);(0,A.Z)((()=>{o&&G.current&&G.current.focus()}),[o]);const K=r.Children.toArray(u),Y=K.length&&(0,P.Z)(K[K.length-1],["ListItemSecondaryAction"]),Q=(0,f.Z)({},n,{alignItems:i,autoFocus:o,button:a,dense:H.dense,disabled:T,disableGutters:I,disablePadding:x,divider:S,hasSecondaryAction:Y,selected:_}),X=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:u,selected:d}=e,h={root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",u&&"secondaryAction",d&&"selected"],container:["container"]};return(0,c.Z)(h,N,r)})(Q),J=(0,R.Z)(G,t),$=L.root||p.Root||z,ee=Z.root||m.root||{},te=(0,f.Z)({className:(0,s.Z)(X.root,ee.className,d),disabled:T},V);let ne=h||"li";return a&&(te.component=h||"div",te.focusVisibleClassName=(0,s.Z)(O.focusVisible,k),ne=D.Z),Y?(ne=te.component||h?ne:"div","li"===v&&("li"===ne?ne="div":"li"===te.component&&(te.component="div")),(0,w.jsx)(M.Z.Provider,{value:H,children:(0,w.jsxs)(W,(0,f.Z)({as:v,className:(0,s.Z)(X.container,y),ref:J,ownerState:Q},F,{children:[(0,w.jsx)($,(0,f.Z)({},ee,!(0,E.Z)($)&&{as:ne,ownerState:(0,f.Z)({},Q,ee.ownerState)},te,{children:K})),K.pop()]}))})):(0,w.jsx)(M.Z.Provider,{value:H,children:(0,w.jsxs)($,(0,f.Z)({},ee,{as:ne,ref:J},!(0,E.Z)($)&&{ownerState:(0,f.Z)({},Q,ee.ownerState)},te,{children:[K,C&&(0,w.jsx)(j,{children:C})]}))})}));const G=(0,n(9201).Z)((0,w.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");var K=n(4036);function Y(e){return(0,u.Z)("MuiChip",e)}const Q=(0,d.Z)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),X=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],J=(0,a.ZP)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{["& .".concat(Q.avatar)]:t.avatar},{["& .".concat(Q.avatar)]:t["avatar".concat((0,K.Z)(a))]},{["& .".concat(Q.avatar)]:t["avatarColor".concat((0,K.Z)(r))]},{["& .".concat(Q.icon)]:t.icon},{["& .".concat(Q.icon)]:t["icon".concat((0,K.Z)(a))]},{["& .".concat(Q.icon)]:t["iconColor".concat((0,K.Z)(i))]},{["& .".concat(Q.deleteIcon)]:t.deleteIcon},{["& .".concat(Q.deleteIcon)]:t["deleteIcon".concat((0,K.Z)(a))]},{["& .".concat(Q.deleteIcon)]:t["deleteIconColor".concat((0,K.Z)(r))]},{["& .".concat(Q.deleteIcon)]:t["deleteIcon".concat((0,K.Z)(l),"Color").concat((0,K.Z)(r))]},t.root,t["size".concat((0,K.Z)(a))],t["color".concat((0,K.Z)(r))],o&&t.clickable,o&&"default"!==r&&t["clickableColor".concat((0,K.Z)(r),")")],s&&t.deletable,s&&"default"!==r&&t["deletableColor".concat((0,K.Z)(r))],t[l],t["".concat(l).concat((0,K.Z)(r))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,f.Z)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(Q.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(Q.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(Q.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(Q.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(Q.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(Q.icon)]:(0,f.Z)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,f.Z)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),["& .".concat(Q.deleteIcon)]:(0,f.Z)({WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):(0,_.Fq)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,_.Fq)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?"rgba(".concat(t.vars.palette[n.color].contrastTextChannel," / 0.7)"):(0,_.Fq)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{["&.".concat(Q.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,_.Fq)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{["&.".concat(Q.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,f.Z)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,_.Fq)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(Q.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,_.Fq)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{["&:hover, &.".concat(Q.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,f.Z)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(Q.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(Q.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(Q.avatar)]:{marginLeft:4},["& .".concat(Q.avatarSmall)]:{marginLeft:2},["& .".concat(Q.icon)]:{marginLeft:4},["& .".concat(Q.iconSmall)]:{marginLeft:2},["& .".concat(Q.deleteIcon)]:{marginRight:5},["& .".concat(Q.deleteIconSmall)]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,_.Fq)(t.palette[n.color].main,.7)),["&.".concat(Q.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,_.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity)},["&.".concat(Q.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,_.Fq)(t.palette[n.color].main,t.palette.action.focusOpacity)},["& .".concat(Q.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,_.Fq)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),$=(0,a.ZP)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat((0,K.Z)(r))]]}})((e=>{let{ownerState:t}=e;return(0,f.Z)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===t.size&&{paddingLeft:8,paddingRight:8})}));function ee(e){return"Backspace"===e.key||"Delete"===e.key}const te=r.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:a,color:u="default",component:d,deleteIcon:h,disabled:p=!1,icon:m,label:v,onClick:y,onDelete:b,onKeyDown:T,onKeyUp:I,size:x="medium",variant:S="filled",tabIndex:k,skipFocusWhenDisabled:C=!1}=n,E=(0,g.Z)(n,X),_=r.useRef(null),P=(0,R.Z)(_,t),A=e=>{e.stopPropagation(),b&&b(e)},M=!(!1===a||!y)||a,N=M||b?D.Z:d||"div",O=(0,f.Z)({},n,{component:N,disabled:p,size:x,color:u,iconColor:r.isValidElement(m)&&m.props.color||u,onDelete:!!b,clickable:M,variant:S}),Z=(e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=e,u={root:["root",l,n&&"disabled","size".concat((0,K.Z)(r)),"color".concat((0,K.Z)(i)),a&&"clickable",a&&"clickableColor".concat((0,K.Z)(i)),s&&"deletable",s&&"deletableColor".concat((0,K.Z)(i)),"".concat(l).concat((0,K.Z)(i))],label:["label","label".concat((0,K.Z)(r))],avatar:["avatar","avatar".concat((0,K.Z)(r)),"avatarColor".concat((0,K.Z)(i))],icon:["icon","icon".concat((0,K.Z)(r)),"iconColor".concat((0,K.Z)(o))],deleteIcon:["deleteIcon","deleteIcon".concat((0,K.Z)(r)),"deleteIconColor".concat((0,K.Z)(i)),"deleteIcon".concat((0,K.Z)(l),"Color").concat((0,K.Z)(i))]};return(0,c.Z)(u,Y,t)})(O),L=N===D.Z?(0,f.Z)({component:d||"div",focusVisibleClassName:Z.focusVisible},b&&{disableRipple:!0}):{};let F=null;b&&(F=h&&r.isValidElement(h)?r.cloneElement(h,{className:(0,s.Z)(h.props.className,Z.deleteIcon),onClick:A}):(0,w.jsx)(G,{className:(0,s.Z)(Z.deleteIcon),onClick:A}));let V=null;i&&r.isValidElement(i)&&(V=r.cloneElement(i,{className:(0,s.Z)(Z.avatar,i.props.className)}));let U=null;return m&&r.isValidElement(m)&&(U=r.cloneElement(m,{className:(0,s.Z)(Z.icon,m.props.className)})),(0,w.jsxs)(J,(0,f.Z)({as:N,className:(0,s.Z)(Z.root,o),disabled:!(!M||!p)||void 0,onClick:y,onKeyDown:e=>{e.currentTarget===e.target&&ee(e)&&e.preventDefault(),T&&T(e)},onKeyUp:e=>{e.currentTarget===e.target&&(b&&ee(e)?b(e):"Escape"===e.key&&_.current&&_.current.blur()),I&&I(e)},ref:P,tabIndex:C&&p?-1:k,ownerState:O},L,E,{children:[V||U,(0,w.jsx)($,{className:(0,s.Z)(Z.label),ownerState:O,children:v}),F]}))}));var ne=n(219);const re=["items","isLandscape","onChange","isValid"];function ie(e){const{items:t,onChange:n,isValid:r}=e,i=(0,g.Z)(e,re);if(null==t||0===t.length)return null;const o=t.map((e=>{const t=e.getValue({isValid:r});return{label:e.label,onClick:()=>{n(t)},disabled:!r(t)}}));return(0,w.jsx)(C.Z,(0,f.Z)({dense:!0,sx:[{maxHeight:ne.BR,maxWidth:200,overflow:"auto"},...Array.isArray(i.sx)?i.sx:[i.sx]]},i,{children:o.map((e=>(0,w.jsx)(H,{children:(0,w.jsx)(te,(0,f.Z)({},e))},e.label)))}))}var oe=n(7278);const se=e=>{var t,n;const{wrapperVariant:r,onAccept:i,onClear:o,onCancel:s,onSetToday:a,view:l,views:u,onViewChange:d,value:p,onChange:g,isValid:v,isLandscape:y,disabled:b,readOnly:T,children:I,components:x,componentsProps:S,slots:C,slotProps:E}=e,_=null!=C?C:(0,oe.S)(x),D=null!=E?E:S,P=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,c.Z)(r,h,t)})(e),A=null!=(t=null==_?void 0:_.actionBar)?t:k,R=(0,m.Z)({elementType:A,externalSlotProps:null==D?void 0:D.actionBar,additionalProps:{onAccept:i,onClear:o,onCancel:s,onSetToday:a,actions:"desktop"===r?[]:["cancel","accept"],className:P.actionBar},ownerState:(0,f.Z)({},e,{wrapperVariant:r})}),M=(0,w.jsx)(A,(0,f.Z)({},R)),N=null==_?void 0:_.toolbar,O=(0,m.Z)({elementType:N,externalSlotProps:null==D?void 0:D.toolbar,additionalProps:{isLandscape:y,onChange:g,value:p,view:l,onViewChange:d,views:u,disabled:b,readOnly:T,className:P.toolbar},ownerState:(0,f.Z)({},e,{wrapperVariant:r})}),Z=function(e){return null!==e.view}(O)&&N?(0,w.jsx)(N,(0,f.Z)({},O)):null,L=I,F=null==_?void 0:_.tabs,V=l&&F?(0,w.jsx)(F,(0,f.Z)({view:l,onViewChange:d},null==D?void 0:D.tabs)):null,U=null!=(n=null==_?void 0:_.shortcuts)?n:ie,j=(0,m.Z)({elementType:U,externalSlotProps:null==D?void 0:D.shortcuts,additionalProps:{isValid:v,isLandscape:y,onChange:g,className:P.shortcuts},ownerState:{isValid:v,isLandscape:y,onChange:g,className:P.shortcuts,wrapperVariant:r}});return{toolbar:Z,content:L,tabs:V,actionBar:M,shortcuts:l&&U?(0,w.jsx)(U,(0,f.Z)({},j)):null}},ae=(0,a.ZP)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;return{display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",["& .".concat(p.toolbar)]:n.isLandscape?{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[".".concat(p.shortcuts)]:n.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"},["& .".concat(p.actionBar)]:{gridColumn:"1 / 4",gridRow:3}}}));ae.propTypes={as:o().elementType,ownerState:o().shape({isLandscape:o().bool.isRequired}).isRequired,sx:o().oneOfType([o().arrayOf(o().oneOfType([o().func,o().object,o().bool])),o().func,o().object])};const le=(0,a.ZP)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),ce=function(e){const t=(0,l.Z)({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:i,tabs:o,actionBar:a,shortcuts:u}=se(t),{sx:d,className:p,isLandscape:f,ref:m,wrapperVariant:g}=t,v=t,y=(e=>{const{isLandscape:t,classes:n}=e,r={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]};return(0,c.Z)(r,h,n)})(v);return(0,w.jsxs)(ae,{ref:m,sx:d,className:(0,s.Z)(p,y.root),ownerState:v,children:[f?u:n,f?n:u,(0,w.jsx)(le,{className:y.contentWrapper,children:"desktop"===g?(0,w.jsxs)(r.Fragment,{children:[i,o]}):(0,w.jsxs)(r.Fragment,{children:[o,i]})}),a]})}},3268:(e,t,n)=>{n.d(t,{j:()=>Rt});var r=n(7462),i=n(3366),o=n(2791),s=n(5193),a=n(1402),l=n(2007),c=n.n(l),u=n(1503),d=n(3564),h=n(8496),p=n(8069),f=n(1204),m=n(6176);const g=e=>{let{adapter:t,value:n,props:r}=e;const{minTime:i,maxTime:o,minutesStep:s,shouldDisableClock:a,shouldDisableTime:l,disableIgnoringDatePartForTimeValidation:c=!1,disablePast:u,disableFuture:d}=r,h=t.utils.date(),p=t.utils.date(n),f=(0,m.X4)(c,t.utils);if(null===n)return null;switch(!0){case!t.utils.isValid(n):return"invalidDate";case Boolean(i&&f(i,n)):return"minTime";case Boolean(o&&f(n,o)):return"maxTime";case Boolean(d&&t.utils.isAfter(p,h)):return"disableFuture";case Boolean(u&&t.utils.isBefore(p,h)):return"disablePast";case Boolean(l&&l(n,"hours")):return"shouldDisableTime-hours";case Boolean(l&&l(n,"minutes")):return"shouldDisableTime-minutes";case Boolean(l&&l(n,"seconds")):return"shouldDisableTime-seconds";case Boolean(a&&a(t.utils.getHours(n),"hours")):return"shouldDisableClock-hours";case Boolean(a&&a(t.utils.getMinutes(n),"minutes")):return"shouldDisableClock-minutes";case Boolean(a&&a(t.utils.getSeconds(n),"seconds")):return"shouldDisableClock-seconds";case Boolean(s&&t.utils.getMinutes(n)%s!==0):return"minutesStep";default:return null}};var v=n(9818),y=n(8243);const w=e=>{let{props:t,inputRef:n}=e;const i=(e=>{var t,n,i,o;const s=(0,v.nB)(),a=(null!=(t=e.ampm)?t:s.is12HourCycleInCurrentLocale())?s.formats.fullTime12h:s.formats.fullTime24h;return(0,r.Z)({},e,{disablePast:null!=(n=e.disablePast)&&n,disableFuture:null!=(i=e.disableFuture)&&i,format:null!=(o=e.format)?o:a})})(t),{forwardedProps:o,internalProps:s}=(0,y._)(i,"time");return(0,f.U)({inputRef:n,forwardedProps:o,internalProps:s,valueManager:d.h,fieldValueManager:d.a,validator:g,valueType:"time"})};var b=n(184);const T=["slots","slotProps","components","componentsProps","InputProps","inputProps"],I=["inputRef"],x=["ref","onPaste","inputMode","readOnly"],S=o.forwardRef((function(e,t){var n,o,s;const l=(0,a.Z)({props:e,name:"MuiTimeField"}),{slots:c,slotProps:u,components:d,componentsProps:f,InputProps:m,inputProps:g}=l,v=(0,i.Z)(l,T),y=l,S=null!=(n=null!=(o=null==c?void 0:c.textField)?o:null==d?void 0:d.TextField)?n:h.Z,k=(0,p.Z)({elementType:S,externalSlotProps:null!=(s=null==u?void 0:u.textField)?s:null==f?void 0:f.textField,externalForwardedProps:v,ownerState:y}),{inputRef:C}=k,E=(0,i.Z)(k,I);E.inputProps=(0,r.Z)({},E.inputProps,g),E.InputProps=(0,r.Z)({},E.InputProps,m);const _=w({props:E,inputRef:C}),{ref:D,onPaste:P,inputMode:A,readOnly:R}=_,M=(0,i.Z)(_,x);return(0,b.jsx)(S,(0,r.Z)({ref:t},M,{InputProps:(0,r.Z)({},M.InputProps,{readOnly:R}),inputProps:(0,r.Z)({},M.inputProps,{inputMode:A,onPaste:P,ref:D})}))}));var k=n(6934),C=n(3967),E=n(4419),_=n(8182),D=n(890),P=n(1217),A=n(5878);function R(e){return(0,P.Z)("MuiPickersToolbarText",e)}const M=(0,A.Z)("MuiPickersToolbarText",["root","selected"]),N=["className","selected","value"],O=(0,k.ZP)(D.Z,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{["&.".concat(M.selected)]:t.selected}]})((e=>{let{theme:t}=e;return{transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,["&.".concat(M.selected)]:{color:(t.vars||t).palette.text.primary}}})),Z=o.forwardRef((function(e,t){const n=(0,a.Z)({props:e,name:"MuiPickersToolbarText"}),{className:o,value:s}=n,l=(0,i.Z)(n,N),c=(e=>{const{classes:t,selected:n}=e,r={root:["root",n&&"selected"]};return(0,E.Z)(r,R,t)})(n);return(0,b.jsx)(O,(0,r.Z)({ref:t,className:(0,_.Z)(o,c.root),component:"span"},l,{children:s}))}));var L=n(6151),F=n(4710);const V=["align","className","selected","typographyClassName","value","variant"],U=(0,k.ZP)(L.Z,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),j=o.forwardRef((function(e,t){const n=(0,a.Z)({props:e,name:"MuiPickersToolbarButton"}),{align:o,className:s,selected:l,typographyClassName:c,value:u,variant:d}=n,h=(0,i.Z)(n,V),p=(e=>{const{classes:t}=e;return(0,E.Z)({root:["root"]},F.T,t)})(n);return(0,b.jsx)(U,(0,r.Z)({variant:"text",ref:t,className:(0,_.Z)(s,p.root)},h,{children:(0,b.jsx)(Z,{align:o,className:c,variant:d,value:u,selected:l})}))}));var B=n(7367),q=n(4273),z=n(406);function W(e){return(0,P.Z)("MuiTimePickerToolbar",e)}const H=(0,A.Z)("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),G=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly"],K=(0,k.ZP)(B.e,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({["& .".concat(F.U.penIconButtonLandscape)]:{marginTop:"auto"}}),Y=(0,k.ZP)(Z,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(e,t)=>t.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Q=(0,k.ZP)("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,t)=>[{["&.".concat(H.hourMinuteLabelLandscape)]:t.hourMinuteLabelLandscape,["&.".concat(H.hourMinuteLabelReverse)]:t.hourMinuteLabelReverse},t.hourMinuteLabel]})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},n.isLandscape&&{marginTop:"auto"},"rtl"===t.direction&&{flexDirection:"row-reverse"})}));Q.propTypes={as:c().elementType,ownerState:c().object.isRequired,sx:c().oneOfType([c().arrayOf(c().oneOfType([c().func,c().object,c().bool])),c().func,c().object])};const X=(0,k.ZP)("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[".".concat(H.ampmLabel)]:t.ampmLabel},{["&.".concat(H.ampmLandscape)]:t.ampmLandscape},t.ampmSelection]})((e=>{let{ownerState:t}=e;return(0,r.Z)({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12},t.isLandscape&&{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},{["& .".concat(H.ampmLabel)]:{fontSize:17}})}));function J(e){const t=(0,a.Z)({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:o,value:s,isLandscape:l,onChange:c,view:u,onViewChange:d,views:h,disabled:p,readOnly:f}=t,m=(0,i.Z)(t,G),g=(0,v.nB)(),y=(0,v.og)(),w=(0,C.Z)(),T=Boolean(n&&!o&&h.includes("hours")),{meridiemMode:I,handleMeridiemChange:x}=(0,z.iC)(s,n,c),S=t,k=(e=>{const{theme:t,isLandscape:n,classes:r}=e,i={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n&&"hourMinuteLabelLandscape","rtl"===t.direction&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return(0,E.Z)(i,W,r)})((0,r.Z)({},S,{theme:w})),_=(0,b.jsx)(Y,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:k.separator});return(0,b.jsxs)(K,(0,r.Z)({landscapeDirection:"row",toolbarTitle:y.timePickerToolbarTitle,isLandscape:l,ownerState:S,className:k.root},m,{children:[(0,b.jsxs)(Q,{className:k.hourMinuteLabel,ownerState:S,children:[(0,q.kI)(h,"hours")&&(0,b.jsx)(j,{tabIndex:-1,variant:"h3",onClick:()=>d("hours"),selected:"hours"===u,value:s?(D=s,n?g.format(D,"hours12h"):g.format(D,"hours24h")):"--"}),(0,q.kI)(h,["hours","minutes"])&&_,(0,q.kI)(h,"minutes")&&(0,b.jsx)(j,{tabIndex:-1,variant:"h3",onClick:()=>d("minutes"),selected:"minutes"===u,value:s?g.format(s,"minutes"):"--"}),(0,q.kI)(h,["minutes","seconds"])&&_,(0,q.kI)(h,"seconds")&&(0,b.jsx)(j,{variant:"h3",onClick:()=>d("seconds"),selected:"seconds"===u,value:s?g.format(s,"seconds"):"--"})]}),T&&(0,b.jsxs)(X,{className:k.ampmSelection,ownerState:S,children:[(0,b.jsx)(j,{disableRipple:!0,variant:"subtitle2",selected:"am"===I,typographyClassName:k.ampmLabel,value:g.getMeridiemText("am"),onClick:f?void 0:()=>x("am"),disabled:p}),(0,b.jsx)(j,{disableRipple:!0,variant:"subtitle2",selected:"pm"===I,typographyClassName:k.ampmLabel,value:g.getMeridiemText("pm"),onClick:f?void 0:()=>x("pm"),disabled:p})]})]}));var D}X.propTypes={as:c().elementType,ownerState:c().object.isRequired,sx:c().oneOfType([c().arrayOf(c().oneOfType([c().func,c().object,c().bool])),c().func,c().object])};var $=n(4458),ee=n(7278);function te(e,t){var n,i,s,l,c;const u=(0,v.nB)(),d=(0,a.Z)({props:e,name:t}),h=null!=(n=d.ampm)?n:u.is12HourCycleInCurrentLocale(),p=o.useMemo((()=>{var e;return null==(null==(e=d.localeText)?void 0:e.toolbarTitle)?d.localeText:(0,r.Z)({},d.localeText,{timePickerToolbarTitle:d.localeText.toolbarTitle})}),[d.localeText]),f=null!=(i=d.slots)?i:(0,ee.S)(d.components),m=null!=(s=d.slotProps)?s:d.componentsProps;return(0,r.Z)({},d,{ampm:h,localeText:p},(0,$.dK)({views:d.views,openTo:d.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:null!=(l=d.disableFuture)&&l,disablePast:null!=(c=d.disablePast)&&c,slots:(0,r.Z)({toolbar:J},f),slotProps:(0,r.Z)({},m,{toolbar:(0,r.Z)({ampm:h,ampmInClock:d.ampmInClock},null==m?void 0:m.toolbar)})})}var ne=n(2372),re=n(6774),ie=n(7812),oe=n(8959),se=n(6248),ae=n(8394),le=n(7782),ce=n(8540),ue=n(4574);function de(e){return(0,P.Z)("MuiTimeClock",e)}(0,A.Z)("MuiTimeClock",["root","arrowSwitcher"]);var he=n(3400),pe=n(5721);const fe=220,me=36,ge={x:110,y:110},ve=ge.x-ge.x,ye=0-ge.y,we=(e,t,n)=>{const r=t-ge.x,i=n-ge.y,o=Math.atan2(ve,ye)-Math.atan2(r,i);let s=o*(180/Math.PI);s=Math.round(s/e)*e,s%=360;const a=r**2+i**2;return{value:Math.floor(s/e)||0,distance:Math.sqrt(a)}};function be(e){return(0,P.Z)("MuiClockPointer",e)}(0,A.Z)("MuiClockPointer",["root","thumb"]);const Te=["className","hasSelected","isInner","type","viewValue"],Ie=(0,k.ZP)("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},n.shouldAnimate&&{transition:t.transitions.create(["transform","height"])})})),xe=(0,k.ZP)("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - ".concat(18,"px)"),border:"".concat(16,"px solid ").concat((t.vars||t).palette.primary.main),boxSizing:"content-box"},n.hasSelected&&{backgroundColor:(t.vars||t).palette.primary.main})}));function Se(e){const t=(0,a.Z)({props:e,name:"MuiClockPointer"}),{className:n,isInner:s,type:l,viewValue:c}=t,u=(0,i.Z)(t,Te),d=o.useRef(l);o.useEffect((()=>{d.current=l}),[l]);const h=(0,r.Z)({},t,{shouldAnimate:d.current!==l}),p=(e=>{const{classes:t}=e;return(0,E.Z)({root:["root"],thumb:["thumb"]},be,t)})(h);return(0,b.jsx)(Ie,(0,r.Z)({style:(()=>{let e=360/("hours"===l?12:60)*c;return"hours"===l&&c>12&&(e-=360),{height:Math.round((s?.26:.4)*fe),transform:"rotateZ(".concat(e,"deg)")}})(),className:(0,_.Z)(n,p.root),ownerState:h},u,{children:(0,b.jsx)(xe,{ownerState:h,className:p.thumb})}))}function ke(e){return(0,P.Z)("MuiClock",e)}(0,A.Z)("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton"]);const Ce=(0,k.ZP)("div",{name:"MuiClock",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)}})),Ee=(0,k.ZP)("div",{name:"MuiClock",slot:"Clock",overridesResolver:(e,t)=>t.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),_e=(0,k.ZP)("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({"&:focus":{outline:"none"}}),De=(0,k.ZP)("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(e,t)=>t.squareMask})((e=>{let{ownerState:t}=e;return(0,r.Z)({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none"},t.disabled?{}:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}})})),Pe=(0,k.ZP)("div",{name:"MuiClock",slot:"Pin",overridesResolver:(e,t)=>t.pin})((e=>{let{theme:t}=e;return{width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),Ae=(0,k.ZP)(he.Z,{name:"MuiClock",slot:"AmButton",overridesResolver:(e,t)=>t.amButton})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({zIndex:1,position:"absolute",bottom:8,left:8},"am"===n.meridiemMode&&{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}})})),Re=(0,k.ZP)(he.Z,{name:"MuiClock",slot:"PmButton",overridesResolver:(e,t)=>t.pmButton})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({zIndex:1,position:"absolute",bottom:8,right:8},"pm"===n.meridiemMode&&{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}})}));function Me(e){const t=(0,a.Z)({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:r,autoFocus:i,children:s,value:l,handleMeridiemChange:c,isTimeDisabled:u,meridiemMode:d,minutesStep:h=1,onChange:p,selectedId:f,type:m,viewValue:g,disabled:y,readOnly:w,className:T}=t,I=t,x=(0,v.nB)(),S=(0,v.og)(),k=o.useRef(!1),C=(e=>{const{classes:t}=e;return(0,E.Z)({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"]},ke,t)})(I),P=u(g,m),A=!n&&"hours"===m&&(g<1||g>12),R=(e,t)=>{y||w||u(e,m)||p(e,t)},M=(e,t)=>{let{offsetX:r,offsetY:i}=e;if(void 0===r){const t=e.target.getBoundingClientRect();r=e.changedTouches[0].clientX-t.left,i=e.changedTouches[0].clientY-t.top}const o="seconds"===m||"minutes"===m?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=6*n;let{value:i}=we(r,e,t);return i=i*n%60,i}(r,i,h):((e,t,n)=>{const{value:r,distance:i}=we(30,e,t);let o=r||12;return n?o%=12:i<74&&(o+=12,o%=24),o})(r,i,Boolean(n));R(o,t)},N=o.useMemo((()=>"hours"===m||g%5===0),[m,g]),O="minutes"===m?h:1,Z=o.useRef(null);(0,pe.Z)((()=>{i&&Z.current.focus()}),[i]);return(0,b.jsxs)(Ce,{className:(0,_.Z)(T,C.root),children:[(0,b.jsxs)(Ee,{className:C.clock,children:[(0,b.jsx)(De,{onTouchMove:e=>{k.current=!0,M(e,"shallow")},onTouchEnd:e=>{k.current&&(M(e,"finish"),k.current=!1)},onMouseUp:e=>{k.current&&(k.current=!1),M(e.nativeEvent,"finish")},onMouseMove:e=>{e.buttons>0&&M(e.nativeEvent,"shallow")},ownerState:{disabled:y},className:C.squareMask}),!P&&(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(Pe,{className:C.pin}),null!=l&&(0,b.jsx)(Se,{type:m,viewValue:g,isInner:A,hasSelected:N})]}),(0,b.jsx)(_e,{"aria-activedescendant":f,"aria-label":S.clockLabelText(m,l,x),ref:Z,role:"listbox",onKeyDown:e=>{if(!k.current)switch(e.key){case"Home":R(0,"partial"),e.preventDefault();break;case"End":R("minutes"===m?59:23,"partial"),e.preventDefault();break;case"ArrowUp":R(g+O,"partial"),e.preventDefault();break;case"ArrowDown":R(g-O,"partial"),e.preventDefault()}},tabIndex:0,className:C.wrapper,children:s})]}),n&&r&&(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(Ae,{onClick:w?void 0:()=>c("am"),disabled:y||null===d,ownerState:I,className:C.amButton,children:(0,b.jsx)(D.Z,{variant:"caption",children:"AM"})}),(0,b.jsx)(Re,{disabled:y||null===d,onClick:w?void 0:()=>c("pm"),ownerState:I,className:C.pmButton,children:(0,b.jsx)(D.Z,{variant:"caption",children:"PM"})})]})]})}function Ne(e){return(0,P.Z)("MuiClockNumber",e)}const Oe=(0,A.Z)("MuiClockNumber",["root","selected","disabled"]),Ze=["className","disabled","index","inner","label","selected"],Le=(0,k.ZP)("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,t)=>[t.root,{["&.".concat(Oe.disabled)]:t.disabled},{["&.".concat(Oe.selected)]:t.selected}]})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({height:me,width:me,position:"absolute",left:"calc((100% - ".concat(me,"px) / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},["&.".concat(Oe.selected)]:{color:(t.vars||t).palette.primary.contrastText},["&.".concat(Oe.disabled)]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled}},n.inner&&(0,r.Z)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary}))}));function Fe(e){const t=(0,a.Z)({props:e,name:"MuiClockNumber"}),{className:n,disabled:o,index:s,inner:l,label:c,selected:u}=t,d=(0,i.Z)(t,Ze),h=t,p=(e=>{const{classes:t,selected:n,disabled:r}=e,i={root:["root",n&&"selected",r&&"disabled"]};return(0,E.Z)(i,Ne,t)})(h),f=s%12/12*Math.PI*2-Math.PI/2,m=91*(l?.65:1),g=Math.round(Math.cos(f)*m),v=Math.round(Math.sin(f)*m);return(0,b.jsx)(Le,(0,r.Z)({className:(0,_.Z)(n,p.root),"aria-disabled":!!o||void 0,"aria-selected":!!u||void 0,role:"option",style:{transform:"translate(".concat(g,"px, ").concat(v+92,"px")},ownerState:h},d,{children:c}))}const Ve=e=>{let{ampm:t,value:n,getClockNumberText:r,isDisabled:i,selectedId:o,utils:s}=e;const a=n?s.getHours(n):null,l=[],c=t?12:23,u=e=>null!==a&&(t?12===e?12===a||0===a:a===e||a-12===e:a===e);for(let d=t?1:0;d<=c;d+=1){let e=d.toString();0===d&&(e="00");const n=!t&&(0===d||d>12);e=s.formatNumber(e);const a=u(d);l.push((0,b.jsx)(Fe,{id:a?o:void 0,index:d,inner:n,selected:a,disabled:i(d),label:e,"aria-label":r(e)},d))}return l},Ue=e=>{let{utils:t,value:n,isDisabled:r,getClockNumberText:i,selectedId:o}=e;const s=t.formatNumber;return[[5,s("05")],[10,s("10")],[15,s("15")],[20,s("20")],[25,s("25")],[30,s("30")],[35,s("35")],[40,s("40")],[45,s("45")],[50,s("50")],[55,s("55")],[0,s("00")]].map(((e,t)=>{let[s,a]=e;const l=s===n;return(0,b.jsx)(Fe,{label:a,id:l?o:void 0,index:t+1,inner:!1,disabled:r(s),selected:l,"aria-label":i(a)},s)}))},je=["ampm","ampmInClock","autoFocus","components","componentsProps","slots","slotProps","value","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","showViewSwitcher","onChange","defaultValue","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly"],Be=(0,k.ZP)(ue.Z,{name:"MuiTimeClock",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",position:"relative"}),qe=(0,k.ZP)(le.u,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(e,t)=>t.arrowSwitcher})({position:"absolute",right:12,top:15}),ze=o.forwardRef((function(e,t){const n=(0,v.og)(),s=(0,v.mX)(),l=(0,v.nB)(),c=(0,a.Z)({props:e,name:"MuiTimeClock"}),{ampm:u=l.is12HourCycleInCurrentLocale(),ampmInClock:d=!1,autoFocus:h,components:p,componentsProps:f,slots:g,slotProps:y,value:w,disableIgnoringDatePartForTimeValidation:T=!1,maxTime:I,minTime:x,disableFuture:S,disablePast:k,minutesStep:C=1,shouldDisableClock:D,shouldDisableTime:P,showViewSwitcher:A,onChange:R,defaultValue:M,view:N,views:O=["hours","minutes"],openTo:Z,onViewChange:L,focusedView:F,onFocusedViewChange:V,className:U,disabled:j,readOnly:B}=c,q=(0,i.Z)(c,je),W=null!=g?g:(0,ee.S)(p),H=null!=y?y:f,[G,K]=(0,oe.Z)({name:"DateCalendar",state:"value",controlled:w,default:null!=M?M:null}),Y=(0,ae.Z)(((e,t)=>{K(e),null==R||R(e,t)})),{view:Q,setView:X,previousView:J,nextView:$,setValueAndGoToNextView:te}=(0,ce.B)({view:N,views:O,openTo:Z,onViewChange:L,onChange:Y,focusedView:F,onFocusedViewChange:V}),ne=o.useMemo((()=>G||l.setSeconds(l.setMinutes(l.setHours(s,0),0),0)),[G,s,l]),{meridiemMode:re,handleMeridiemChange:ie}=(0,z.iC)(ne,u,te),le=o.useCallback(((e,t)=>{const n=(0,m.X4)(T,l),r="hours"===t||"minutes"===t&&O.includes("seconds"),i=e=>{let{start:t,end:i}=e;return(!x||!n(x,i))&&((!I||!n(t,I))&&((!S||!n(t,s))&&(!k||!n(s,r?i:t))))},o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e%n!==0)return!1;if(null!=D&&D(e,t))return!1;if(P)switch(t){case"hours":return!P(l.setHours(ne,e),"hours");case"minutes":return!P(l.setMinutes(ne,e),"minutes");case"seconds":return!P(l.setSeconds(ne,e),"seconds");default:return!1}return!0};switch(t){case"hours":{const t=(0,m.b_)(e,re,u),n=l.setHours(ne,t);return!i({start:l.setSeconds(l.setMinutes(n,0),0),end:l.setSeconds(l.setMinutes(n,59),59)})||!o(t)}case"minutes":{const t=l.setMinutes(ne,e);return!i({start:l.setSeconds(t,0),end:l.setSeconds(t,59)})||!o(e,C)}case"seconds":{const t=l.setSeconds(ne,e);return!i({start:t,end:t})||!o(e)}default:throw new Error("not supported")}}),[u,ne,T,I,re,x,C,D,P,l,S,k,s,O]),ue=(0,se.Z)(),he=o.useMemo((()=>{switch(Q){case"hours":{const e=(e,t)=>{const n=(0,m.b_)(e,re,u);te(l.setHours(ne,n),t)};return{onChange:e,viewValue:l.getHours(ne),children:Ve({value:G,utils:l,ampm:u,onChange:e,getClockNumberText:n.hoursClockNumberText,isDisabled:e=>j||le(e,"hours"),selectedId:ue})}}case"minutes":{const e=l.getMinutes(ne),t=(e,t)=>{te(l.setMinutes(ne,e),t)};return{viewValue:e,onChange:t,children:Ue({utils:l,value:e,onChange:t,getClockNumberText:n.minutesClockNumberText,isDisabled:e=>j||le(e,"minutes"),selectedId:ue})}}case"seconds":{const e=l.getSeconds(ne),t=(e,t)=>{te(l.setSeconds(ne,e),t)};return{viewValue:e,onChange:t,children:Ue({utils:l,value:e,onChange:t,getClockNumberText:n.secondsClockNumberText,isDisabled:e=>j||le(e,"seconds"),selectedId:ue})}}default:throw new Error("You must provide the type for ClockView")}}),[Q,l,G,u,n.hoursClockNumberText,n.minutesClockNumberText,n.secondsClockNumberText,re,te,ne,le,ue,j]),pe=c,fe=(e=>{const{classes:t}=e;return(0,E.Z)({root:["root"],arrowSwitcher:["arrowSwitcher"]},de,t)})(pe);return(0,b.jsxs)(Be,(0,r.Z)({ref:t,className:(0,_.Z)(fe.root,U),ownerState:pe},q,{children:[(0,b.jsx)(Me,(0,r.Z)({autoFocus:null!=h?h:!!F,ampmInClock:d&&O.includes("hours"),value:G,type:Q,ampm:u,minutesStep:C,isTimeDisabled:le,meridiemMode:re,handleMeridiemChange:ie,selectedId:ue,disabled:j,readOnly:B},he)),A&&(0,b.jsx)(qe,{className:fe.arrowSwitcher,slots:W,slotProps:H,onGoToPrevious:()=>X(J),isPreviousDisabled:!J,previousLabel:n.openPreviousView,onGoToNext:()=>X($),isNextDisabled:!$,nextLabel:n.openNextView,ownerState:pe})]}))}));var We=n(2065),He=n(8195),Ge=n(6199),Ke=n(3900),Ye=n(162),Qe=n(2071);const Xe=(0,A.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const Je=(0,A.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);const $e=(0,A.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function et(e){return(0,P.Z)("MuiMenuItem",e)}const tt=(0,A.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),nt=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],rt=(0,k.ZP)(Ke.Z,{shouldForwardProp:e=>(0,k.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(tt.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,We.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(tt.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,We.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(tt.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,We.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,We.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(tt.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(tt.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(Xe.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(Xe.inset)]:{marginLeft:52},["& .".concat($e.root)]:{marginTop:0,marginBottom:0},["& .".concat($e.inset)]:{paddingLeft:36},["& .".concat(Je.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,r.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(Je.root," svg")]:{fontSize:"1.25rem"}}))})),it=o.forwardRef((function(e,t){const n=(0,a.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:l="li",dense:c=!1,divider:u=!1,disableGutters:d=!1,focusVisibleClassName:h,role:p="menuitem",tabIndex:f,className:m}=n,g=(0,i.Z)(n,nt),v=o.useContext(Ge.Z),y=o.useMemo((()=>({dense:c||v.dense||!1,disableGutters:d})),[v.dense,c,d]),w=o.useRef(null);(0,Ye.Z)((()=>{s&&w.current&&w.current.focus()}),[s]);const T=(0,r.Z)({},n,{dense:y.dense,divider:u,disableGutters:d}),I=(e=>{const{disabled:t,dense:n,divider:i,disableGutters:o,selected:s,classes:a}=e,l={root:["root",n&&"dense",t&&"disabled",!o&&"gutters",i&&"divider",s&&"selected"]},c=(0,E.Z)(l,et,a);return(0,r.Z)({},a,c)})(n),x=(0,Qe.Z)(w,t);let S;return n.disabled||(S=void 0!==f?f:-1),(0,b.jsx)(Ge.Z.Provider,{value:y,children:(0,b.jsx)(rt,(0,r.Z)({ref:x,role:p,tabIndex:S,component:l,focusVisibleClassName:(0,_.Z)(I.focusVisible,h),className:(0,_.Z)(I.root,m)},g,{ownerState:T,classes:I}))})}));var ot=n(5028),st=n(8550);function at(e){return(0,P.Z)("MuiDigitalClock",e)}(0,A.Z)("MuiDigitalClock",["root","list","item"]);var lt=n(219);const ct=["ampm","timeStep","autoFocus","components","componentsProps","slots","slotProps","value","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","onChange","defaultValue","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled"],ut=(0,k.ZP)(ue.Z,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{ownerState:t}=e;return{overflowY:"auto",width:"100%",scrollBehavior:t.alreadyRendered?"smooth":"auto",maxHeight:lt.Fn}})),dt=(0,k.ZP)(ot.Z,{name:"MuiDigitalClock",slot:"List",overridesResolver:(e,t)=>t.list})({padding:0}),ht=(0,k.ZP)(it,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(e,t)=>t.item})((e=>{let{theme:t}=e;return{padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,We.Fq)(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,We.Fq)(t.palette.primary.main,t.palette.action.focusOpacity)}}})),pt=o.forwardRef((function(e,t){var n,s,l;const c=(0,v.mX)(),u=(0,v.nB)(),d=o.useRef(null),h=(0,st.Z)(t,d),p=(0,v.og)(),f=(0,a.Z)({props:e,name:"MuiDigitalClock"}),{ampm:g=u.is12HourCycleInCurrentLocale(),timeStep:y=30,autoFocus:w,components:T,componentsProps:I,slots:x,slotProps:S,value:k,disableIgnoringDatePartForTimeValidation:C=!1,maxTime:D,minTime:P,disableFuture:A,disablePast:R,minutesStep:M=1,shouldDisableClock:N,shouldDisableTime:O,onChange:Z,defaultValue:L,view:F,openTo:V,onViewChange:U,focusedView:j,onFocusedViewChange:B,className:q,disabled:z,readOnly:W,views:H=["hours"],skipDisabled:G=!1}=f,K=(0,i.Z)(f,ct),Y=o.useMemo((()=>(0,r.Z)({},f,{alreadyRendered:!!d.current})),[f]),Q=(e=>{const{classes:t}=e;return(0,E.Z)({root:["root"],list:["list"],item:["item"]},at,t)})(Y),X=null!=(n=null!=(s=null==x?void 0:x.digitalClockItem)?s:null==T?void 0:T.DigitalClockItem)?n:ht,J=null!=(l=null==S?void 0:S.digitalClockItem)?l:null==I?void 0:I.digitalClockItem,[$,ee]=(0,He.Z)({name:"DigitalClock",state:"value",controlled:k,default:null!=L?L:null}),te=(0,ae.Z)((e=>{ee(e),null==Z||Z(e,"finish")})),{setValueAndGoToNextView:ne}=(0,ce.B)({view:F,views:H,openTo:V,onViewChange:U,onChange:te,focusedView:j,onFocusedViewChange:B}),re=(0,ae.Z)((e=>{ne(e,"finish")}));o.useEffect((()=>{if(null===d.current)return;const e=d.current.querySelector('[role="listbox"] [role="option"][aria-selected="true"]');if(!e)return;const t=e.offsetTop;d.current.scrollTop=t-4}));const ie=o.useMemo((()=>$||u.setSeconds(u.setMinutes(u.setHours(c,0),0),0)),[$,c,u]),oe=o.useCallback((e=>{const t=(0,m.X4)(C,u);return!((!P||!t(P,e))&&(!D||!t(e,D))&&(!A||!t(e,c))&&(!R||!t(c,e)))||!(u.getMinutes(e)%M===0&&(null==N||!N(u.toJsDate(e).getTime(),"hours"))&&(!O||!O(e,"hours")))}),[C,u,P,D,A,c,R,M,N,O]),se=o.useMemo((()=>{const e=u.startOfDay(ie);return[e,...Array.from({length:Math.ceil(1440/y)-1},((t,n)=>u.addMinutes(e,y*(n+1)))),u.endOfDay(ie)]}),[ie,y,u]);return(0,b.jsx)(ut,(0,r.Z)({ref:h,className:(0,_.Z)(Q.root,q),ownerState:Y},K,{children:(0,b.jsx)(dt,{autoFocusItem:w||!!j,role:"listbox","aria-label":p.timePickerToolbarTitle,children:se.map((e=>{if(G&&oe(e))return null;const t=u.isEqual(e,$);return(0,b.jsx)(X,(0,r.Z)({onClick:()=>!W&&re(e),selected:t,disabled:z||oe(e),disableRipple:W,role:"option","aria-disabled":W,"aria-selected":t},J,{children:u.format(e,g?"fullTime12h":"fullTime24h")}),u.toISO(e))}))})}))}));function ft(e){return(0,P.Z)("MuiMultiSectionDigitalClock",e)}(0,A.Z)("MuiMultiSectionDigitalClock",["root"]);function mt(e){return(0,P.Z)("MuiMultiSectionDigitalClock",e)}(0,A.Z)("MuiMultiSectionDigitalClock",["root","item"]);const gt=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],vt=(0,k.ZP)(ot.Z,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;return{maxHeight:lt.Fn,width:56,padding:0,overflow:"hidden",scrollBehavior:n.alreadyRendered?"smooth":"auto","&:hover":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"&:after":{display:"block",content:'""',height:188}}})),yt=(0,k.ZP)(it,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(e,t)=>t.item})((e=>{let{theme:t}=e;return{padding:8,margin:"2px 4px",width:48,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,We.Fq)(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,We.Fq)(t.palette.primary.main,t.palette.action.focusOpacity)}}})),wt=o.forwardRef((function(e,t){var n;const s=o.useRef(null),l=(0,st.Z)(t,s),c=(0,a.Z)({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:u,onChange:d,className:h,disabled:p,readOnly:f,items:m,active:g,slots:v,slotProps:y,skipDisabled:w}=c,T=(0,i.Z)(c,gt),I=o.useMemo((()=>(0,r.Z)({},c,{alreadyRendered:!!s.current})),[c]),x=(e=>{const{classes:t}=e;return(0,E.Z)({root:["root"],item:["item"]},mt,t)})(I),S=null!=(n=null==v?void 0:v.digitalClockSectionItem)?n:yt;return o.useEffect((()=>{if(null===s.current)return;const e=s.current.querySelector('[role="option"][aria-selected="true"]');if(!e)return;g&&u&&e.focus();const t=e.offsetTop;s.current.scrollTop=t-4})),(0,b.jsx)(vt,(0,r.Z)({ref:l,className:(0,_.Z)(x.root,h),ownerState:I,autoFocusItem:u&&g,role:"listbox"},T,{children:m.map((e=>{var t,n;if(w&&null!=(t=e.isDisabled)&&t.call(e,e.value))return null;const i=e.isSelected(e.value);return(0,b.jsx)(S,(0,r.Z)({onClick:()=>!f&&d(e.value),selected:i,disabled:null!=p?p:null==(n=e.isDisabled)?void 0:n.call(e,e.value),disableRipple:f,role:"option","aria-disabled":f,"aria-label":e.ariaLabel,"aria-selected":i},null==y?void 0:y.digitalClockSectionItem,{children:e.label}),e.label)}))}))})),bt=e=>{let{now:t,value:n,utils:r,ampm:i,isDisabled:o,resolveAriaLabel:s,timeStep:a}=e;const l=n?r.getHours(n):null,c=[],u=e=>null!==l&&(i?12===e?12===l||0===l:l===e||l-12===e:l===e),d=i?11:23;for(let h=0;h<=d;h+=a){let e=r.format(r.setHours(t,h),i?"hours12h":"hours24h");const n=s(parseInt(e,10).toString());e=r.formatNumber(e),c.push({value:h,label:e,isSelected:u,isDisabled:o,ariaLabel:n})}return c},Tt=e=>{let{value:t,isDisabled:n,timeStep:r,resolveLabel:i,resolveAriaLabel:o,hasValue:s=!0}=e;const a=e=>null!==t&&(s&&t===e);return[...Array.from({length:Math.ceil(60/r)},((e,t)=>{const s=r*t;return{value:s,label:i(s),isDisabled:n,isSelected:a,ariaLabel:o(s.toString())}}))]},It=["ampm","timeSteps","autoFocus","components","componentsProps","slots","slotProps","value","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","onChange","defaultValue","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled"],xt=(0,k.ZP)(ue.Z,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",width:"100%",borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}})),St=o.forwardRef((function(e,t){const n=(0,v.mX)(),s=(0,v.nB)(),l=(0,v.og)(),c=(0,a.Z)({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:u=s.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:h,components:p,componentsProps:f,slots:g,slotProps:y,value:w,disableIgnoringDatePartForTimeValidation:T=!1,maxTime:I,minTime:x,disableFuture:S,disablePast:k,minutesStep:C=1,shouldDisableClock:D,shouldDisableTime:P,onChange:A,defaultValue:R,view:M,views:N=["hours","minutes"],openTo:O,onViewChange:Z,focusedView:L,onFocusedViewChange:F,className:V,disabled:U,readOnly:j,skipDisabled:B=!1}=c,q=(0,i.Z)(c,It),W=o.useMemo((()=>(0,r.Z)({hours:1,minutes:5,seconds:5},d)),[d]),[H,G]=(0,He.Z)({name:"MultiSectionDigitalClock",state:"value",controlled:w,default:null!=R?R:null}),K=(0,ae.Z)(((e,t,n)=>{G(e),null==A||A(e,t,n)})),Y=o.useMemo((()=>u&&N.includes("hours")?N.includes("meridiem")?N:[...N,"meridiem"]:N),[u,N]),{view:Q,setValueAndGoToView:X,focusedView:J}=(0,ce.B)({view:M,views:Y,openTo:O,onViewChange:Z,onChange:K,focusedView:L,onFocusedViewChange:F}),$=o.useMemo((()=>H||s.setSeconds(s.setMinutes(s.setHours(n,0),0),0)),[H,n,s]),ee=(0,ae.Z)((e=>{X(e,null,"meridiem")})),{meridiemMode:te,handleMeridiemChange:ne}=(0,z.iC)($,u,ee,"finish"),re=o.useCallback(((e,t)=>{const r=(0,m.X4)(T,s),i="hours"===t||"minutes"===t&&Y.includes("seconds"),o=e=>{let{start:t,end:o}=e;return(!x||!r(x,o))&&((!I||!r(t,I))&&((!S||!r(t,n))&&(!k||!r(n,i?o:t))))},a=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e%n!==0)return!1;if(null!=D&&D(e,t))return!1;if(P)switch(t){case"hours":return!P(s.setHours($,e),"hours");case"minutes":return!P(s.setMinutes($,e),"minutes");case"seconds":return!P(s.setSeconds($,e),"seconds");default:return!1}return!0};switch(t){case"hours":{const t=(0,m.b_)(e,te,u),n=s.setHours($,t);return!o({start:s.setSeconds(s.setMinutes(n,0),0),end:s.setSeconds(s.setMinutes(n,59),59)})||!a(t)}case"minutes":{const t=s.setMinutes($,e);return!o({start:s.setSeconds(t,0),end:s.setSeconds(t,59)})||!a(e,C)}case"seconds":{const t=s.setSeconds($,e);return!o({start:t,end:t})||!a(e)}default:throw new Error("not supported")}}),[u,$,T,I,te,x,C,D,P,s,S,k,n,Y]),ie=(0,ae.Z)(((e,t)=>{const n=Y.indexOf(e),r=Y[n+1];X(t,r,e)})),oe=o.useCallback((e=>{switch(e){case"hours":return{onChange:e=>{const t=(0,m.b_)(e,te,u);ie("hours",s.setHours($,t))},items:bt({now:n,value:H,ampm:u,utils:s,isDisabled:e=>U||re(e,"hours"),timeStep:W.hours,resolveAriaLabel:l.hoursClockNumberText})};case"minutes":return{onChange:e=>{ie("minutes",s.setMinutes($,e))},items:Tt({value:s.getMinutes($),isDisabled:e=>U||re(e,"minutes"),resolveLabel:e=>s.format(s.setMinutes(n,e),"minutes"),timeStep:W.minutes,hasValue:!!H,resolveAriaLabel:l.minutesClockNumberText})};case"seconds":return{onChange:e=>{ie("seconds",s.setSeconds($,e))},items:Tt({value:s.getSeconds($),isDisabled:e=>U||re(e,"seconds"),resolveLabel:e=>s.format(s.setSeconds(n,e),"seconds"),timeStep:W.seconds,hasValue:!!H,resolveAriaLabel:l.secondsClockNumberText})};case"meridiem":{const e=s.getMeridiemText("am"),t=s.getMeridiemText("pm");return{onChange:ne,items:[{value:"am",label:e,isSelected:()=>!!H&&"am"===te,ariaLabel:e},{value:"pm",label:t,isSelected:()=>!!H&&"pm"===te,ariaLabel:t}]}}default:throw new Error("Unknown view: ".concat(e," found."))}}),[n,H,u,s,W.hours,W.minutes,W.seconds,l.hoursClockNumberText,l.minutesClockNumberText,l.secondsClockNumberText,te,ie,$,U,re,ne]),se=o.useMemo((()=>Y.reduce(((e,t)=>(0,r.Z)({},e,{[t]:oe(t)})),{})),[Y,oe]),le=c,ue=(e=>{const{classes:t}=e;return(0,E.Z)({root:["root"]},ft,t)})(le);return(0,b.jsx)(xt,(0,r.Z)({ref:t,className:(0,_.Z)(ue.root,V),ownerState:le,role:"group"},q,{children:Object.entries(se).map((e=>{let[t,n]=e;return(0,b.jsx)(wt,{items:n.items,onChange:n.onChange,active:Q===t,autoFocus:null!=h?h:J===t,disabled:U,readOnly:j,slots:null!=g?g:p,slotProps:null!=y?y:f,skipDisabled:B,"aria-label":l.selectViewText(t)},t)}))}))})),kt=e=>{let{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o,value:s,defaultValue:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:g,shouldDisableClock:v,minutesStep:y,ampm:w,ampmInClock:T,components:I,componentsProps:x,slots:S,slotProps:k,readOnly:C,disabled:E,sx:_,autoFocus:D,showViewSwitcher:P,disableIgnoringDatePartForTimeValidation:A}=e;return(0,b.jsx)(ze,{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o.filter(m.Is),value:s,defaultValue:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:g,shouldDisableClock:v,minutesStep:y,ampm:w,ampmInClock:T,components:I,componentsProps:x,slots:S,slotProps:k,readOnly:C,disabled:E,sx:_,autoFocus:D,showViewSwitcher:P,disableIgnoringDatePartForTimeValidation:A})},Ct=e=>{let{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o,value:s,defaultValue:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:g,shouldDisableClock:v,minutesStep:y,ampm:w,components:T,componentsProps:I,slots:x,slotProps:S,readOnly:k,disabled:C,sx:E,autoFocus:_,disableIgnoringDatePartForTimeValidation:D,timeSteps:P,skipDisabled:A}=e;return(0,b.jsx)(pt,{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o.filter(m.Is),value:s,defaultValue:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:g,shouldDisableClock:v,minutesStep:y,ampm:w,components:T,componentsProps:I,slots:x,slotProps:S,readOnly:k,disabled:C,sx:E,autoFocus:_,disableIgnoringDatePartForTimeValidation:D,timeStep:null==P?void 0:P.minutes,skipDisabled:A})},Et=e=>{let{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o,value:s,defaultValue:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:g,shouldDisableClock:v,minutesStep:y,ampm:w,components:T,componentsProps:I,slots:x,slotProps:S,readOnly:k,disabled:C,sx:E,autoFocus:_,disableIgnoringDatePartForTimeValidation:D,timeSteps:P,skipDisabled:A}=e;return(0,b.jsx)(St,{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o.filter(m.Is),value:s,defaultValue:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minTime:p,maxTime:f,shouldDisableTime:g,shouldDisableClock:v,minutesStep:y,ampm:w,components:T,componentsProps:I,slots:x,slotProps:S,readOnly:k,disabled:C,sx:E,autoFocus:_,disableIgnoringDatePartForTimeValidation:D,timeSteps:P,skipDisabled:A})},_t=o.forwardRef((function(e,t){var n,i,o,s,a;const l=(0,v.og)(),c=te(e,"MuiDesktopTimePicker"),h=null!=(n=c.thresholdToRenderTimeInASingleColumn)?n:24,p=(0,r.Z)({hours:1,minutes:5,seconds:5},c.timeSteps),f=1440/(p.hours*p.minutes)<=h,m=f?Ct:Et,y=(0,r.Z)({hours:m,minutes:m,seconds:m,meridiem:m},c.viewRenderers),w=null==(i=c.ampmInClock)||i,b=f?[]:["accept"],T=(null==(o=y.hours)?void 0:o.name)===Et.name,I=c.ampm&&T?[...c.views,"meridiem"]:c.views,x=(0,r.Z)({},c,{ampmInClock:w,timeSteps:p,viewRenderers:y,views:f?["hours"]:I,slots:(0,r.Z)({field:S,openPickerIcon:ne.SU},c.slots),slotProps:(0,r.Z)({},c.slotProps,{field:e=>{var n;return(0,r.Z)({},(0,u.Z)(null==(n=c.slotProps)?void 0:n.field,e),(0,ie.f_)(c),{ref:t})},toolbar:(0,r.Z)({hidden:!0,ampmInClock:w},null==(s=c.slotProps)?void 0:s.toolbar),actionBar:(0,r.Z)({actions:b},null==(a=c.slotProps)?void 0:a.actionBar)})}),{renderPicker:k}=(0,re.B)({props:x,valueManager:d.h,valueType:"time",getOpenDialogAriaText:l.openTimePickerDialogue,validator:g});return k()}));_t.propTypes={ampm:c().bool,ampmInClock:c().bool,autoFocus:c().bool,className:c().string,closeOnSelect:c().bool,components:c().object,componentsProps:c().object,defaultValue:c().any,disabled:c().bool,disableFuture:c().bool,disableIgnoringDatePartForTimeValidation:c().bool,disableOpenPicker:c().bool,disablePast:c().bool,format:c().string,formatDensity:c().oneOf(["dense","spacious"]),inputRef:c().oneOfType([c().func,c().shape({current:c().object})]),label:c().node,localeText:c().object,maxTime:c().any,minTime:c().any,minutesStep:c().number,onAccept:c().func,onChange:c().func,onClose:c().func,onError:c().func,onOpen:c().func,onSelectedSectionsChange:c().func,onViewChange:c().func,open:c().bool,openTo:c().oneOf(["hours","meridiem","minutes","seconds"]),orientation:c().oneOf(["landscape","portrait"]),readOnly:c().bool,selectedSections:c().oneOfType([c().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),c().number,c().shape({endIndex:c().number.isRequired,startIndex:c().number.isRequired})]),shouldDisableClock:c().func,shouldDisableTime:c().func,skipDisabled:c().bool,slotProps:c().object,slots:c().object,sx:c().oneOfType([c().arrayOf(c().oneOfType([c().func,c().object,c().bool])),c().func,c().object]),thresholdToRenderTimeInASingleColumn:c().number,timeSteps:c().shape({hours:c().number,minutes:c().number,seconds:c().number}),value:c().any,view:c().oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:c().shape({hours:c().func,meridiem:c().func,minutes:c().func,seconds:c().func}),views:c().arrayOf(c().oneOf(["hours","minutes","seconds"]).isRequired)};var Dt=n(7041);const Pt=o.forwardRef((function(e,t){var n,i;const o=(0,v.og)(),s=te(e,"MuiMobileTimePicker"),a=(0,r.Z)({hours:kt,minutes:kt,seconds:kt},s.viewRenderers),l=null!=(n=s.ampmInClock)&&n,c=(0,r.Z)({},s,{ampmInClock:l,viewRenderers:a,slots:(0,r.Z)({field:S},s.slots),slotProps:(0,r.Z)({},s.slotProps,{field:e=>{var n;return(0,r.Z)({},(0,u.Z)(null==(n=s.slotProps)?void 0:n.field,e),(0,ie.f_)(s),{ref:t})},toolbar:(0,r.Z)({hidden:!1,ampmInClock:l},null==(i=s.slotProps)?void 0:i.toolbar)})}),{renderPicker:h}=(0,Dt.s)({props:c,valueManager:d.h,valueType:"time",getOpenDialogAriaText:o.openTimePickerDialogue,validator:g});return h()}));Pt.propTypes={ampm:c().bool,ampmInClock:c().bool,autoFocus:c().bool,className:c().string,closeOnSelect:c().bool,components:c().object,componentsProps:c().object,defaultValue:c().any,disabled:c().bool,disableFuture:c().bool,disableIgnoringDatePartForTimeValidation:c().bool,disableOpenPicker:c().bool,disablePast:c().bool,format:c().string,formatDensity:c().oneOf(["dense","spacious"]),inputRef:c().oneOfType([c().func,c().shape({current:c().object})]),label:c().node,localeText:c().object,maxTime:c().any,minTime:c().any,minutesStep:c().number,onAccept:c().func,onChange:c().func,onClose:c().func,onError:c().func,onOpen:c().func,onSelectedSectionsChange:c().func,onViewChange:c().func,open:c().bool,openTo:c().oneOf(["hours","minutes","seconds"]),orientation:c().oneOf(["landscape","portrait"]),readOnly:c().bool,selectedSections:c().oneOfType([c().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),c().number,c().shape({endIndex:c().number.isRequired,startIndex:c().number.isRequired})]),shouldDisableClock:c().func,shouldDisableTime:c().func,slotProps:c().object,slots:c().object,sx:c().oneOfType([c().arrayOf(c().oneOfType([c().func,c().object,c().bool])),c().func,c().object]),value:c().any,view:c().oneOf(["hours","minutes","seconds"]),viewRenderers:c().shape({hours:c().func,minutes:c().func,seconds:c().func}),views:c().arrayOf(c().oneOf(["hours","minutes","seconds"]).isRequired)};const At=["desktopModeMediaQuery"],Rt=o.forwardRef((function(e,t){const n=(0,a.Z)({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:o=q.Hr}=n,l=(0,i.Z)(n,At);return(0,s.Z)(o,{defaultMatches:!0})?(0,b.jsx)(_t,(0,r.Z)({ref:t},l)):(0,b.jsx)(Pt,(0,r.Z)({ref:t},l))}))},4574:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(6934),i=n(219);const o=(0,r.ZP)("div")({overflow:"hidden",width:i.Pl,maxHeight:i.BR,display:"flex",flexDirection:"column",margin:"0 auto"})},7782:(e,t,n)=>{n.d(t,{u:()=>S});var r=n(3366),i=n(7462),o=n(2791),s=n(8182),a=n(890),l=n(6934),c=n(3967),u=n(1402),d=n(4419),h=n(8069),p=n(3400),f=n(2372),m=n(1217);function g(e){return(0,m.Z)("MuiPickersArrowSwitcher",e)}(0,n(5878).Z)("MuiPickersArrowSwitcher",["root","spacer","button"]);var v=n(184);const y=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],w=["ownerState"],b=["ownerState"],T=(0,l.ZP)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),I=(0,l.ZP)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})((e=>{let{theme:t}=e;return{width:t.spacing(3)}})),x=(0,l.ZP)(p.Z,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})((e=>{let{ownerState:t}=e;return(0,i.Z)({},t.hidden&&{visibility:"hidden"})})),S=o.forwardRef((function(e,t){var n,o,l,p;const m="rtl"===(0,c.Z)().direction,S=(0,u.Z)({props:e,name:"MuiPickersArrowSwitcher"}),{children:k,className:C,slots:E,slotProps:_,isNextDisabled:D,isNextHidden:P,onGoToNext:A,nextLabel:R,isPreviousDisabled:M,isPreviousHidden:N,onGoToPrevious:O,previousLabel:Z}=S,L=(0,r.Z)(S,y),F=S,V=(e=>{const{classes:t}=e;return(0,d.Z)({root:["root"],spacer:["spacer"],button:["button"]},g,t)})(F),U={isDisabled:D,isHidden:P,goTo:A,label:R},j={isDisabled:M,isHidden:N,goTo:O,label:Z},[B,q]=m?[U,j]:[j,U],z=null!=(n=null==E?void 0:E.previousIconButton)?n:x,W=(0,h.Z)({elementType:z,externalSlotProps:null==_?void 0:_.previousIconButton,additionalProps:{size:"medium",title:B.label,"aria-label":B.label,disabled:B.isDisabled,edge:"end",onClick:B.goTo},ownerState:(0,i.Z)({},F,{hidden:B.isHidden}),className:V.button}),H=null!=(o=null==E?void 0:E.nextIconButton)?o:x,G=(0,h.Z)({elementType:H,externalSlotProps:null==_?void 0:_.nextIconButton,additionalProps:{size:"medium",title:q.label,"aria-label":q.label,disabled:q.isDisabled,edge:"start",onClick:q.goTo},ownerState:(0,i.Z)({},F,{hidden:q.isHidden}),className:V.button}),K=null!=(l=null==E?void 0:E.leftArrowIcon)?l:f.Xd,Y=(0,h.Z)({elementType:K,externalSlotProps:null==_?void 0:_.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),Q=(0,r.Z)(Y,w),X=null!=(p=null==E?void 0:E.rightArrowIcon)?p:f.ol,J=(0,h.Z)({elementType:X,externalSlotProps:null==_?void 0:_.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),$=(0,r.Z)(J,b);return(0,v.jsxs)(T,(0,i.Z)({ref:t,className:(0,s.Z)(V.root,C),ownerState:F},L,{children:[(0,v.jsx)(z,(0,i.Z)({},W,{children:m?(0,v.jsx)(X,(0,i.Z)({},$)):(0,v.jsx)(K,(0,i.Z)({},Q))})),k?(0,v.jsx)(a.Z,{variant:"subtitle1",component:"span",children:k}):(0,v.jsx)(I,{className:V.spacer,ownerState:F}),(0,v.jsx)(H,(0,i.Z)({},G,{children:m?(0,v.jsx)(K,(0,i.Z)({},Q)):(0,v.jsx)(X,(0,i.Z)({},$))}))]}))}))},7367:(e,t,n)=>{n.d(t,{e:()=>m});var r=n(7462),i=n(2791),o=n(8182),s=n(1889),a=n(890),l=n(6934),c=n(1402),u=n(4419),d=n(4710),h=n(184);const p=(0,l.ZP)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},n.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})})),f=(0,l.ZP)(s.ZP,{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{ownerState:t}=e;return(0,r.Z)({flex:1},!t.isLandscape&&{alignItems:"center"})})),m=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiPickersToolbar"}),{children:r,className:i,isLandscape:s,landscapeDirection:l="column",toolbarTitle:m,hidden:g,titleId:v}=n,y=n,w=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]};return(0,u.Z)(r,d.T,t)})(y);return g?null:(0,h.jsxs)(p,{ref:t,className:(0,o.Z)(w.root,i),ownerState:y,children:[(0,h.jsx)(a.Z,{color:"text.secondary",variant:"overline",id:v,children:m}),(0,h.jsx)(f,{container:!0,justifyContent:s?"flex-start":"space-between",className:w.content,ownerState:y,direction:s?l:"row",alignItems:s?"flex-start":"flex-end",children:r})]})}))},2372:(e,t,n)=>{n.d(t,{Dk:()=>s,SU:()=>u,Xd:()=>a,f:()=>c,ol:()=>l});var r=n(9201),i=n(2791),o=n(184);const s=(0,r.Z)((0,o.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),a=(0,r.Z)((0,o.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),l=(0,r.Z)((0,o.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),c=(0,r.Z)((0,o.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),u=(0,r.Z)((0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,o.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");(0,r.Z)((0,o.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),(0,r.Z)((0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,o.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time")},4710:(e,t,n)=>{n.d(t,{T:()=>i,U:()=>o});var r=n(1217);function i(e){return(0,r.Z)("MuiPickersToolbar",e)}const o=(0,n(5878).Z)("MuiPickersToolbar",["root","content","penIconButton","penIconButtonLandscape"])},219:(e,t,n)=>{n.d(t,{BR:()=>s,Fn:()=>a,Pl:()=>o,p2:()=>r,yh:()=>i});const r=36,i=2,o=320,s=358,a=232},406:(e,t,n)=>{n.d(t,{MS:()=>s,iC:()=>l,tw:()=>a});var r=n(2791),i=n(9818),o=n(6176);function s(e,t){let{disableFuture:n,maxDate:o}=t;const s=(0,i.nB)();return r.useMemo((()=>{const t=s.date(),r=s.startOfMonth(n&&s.isBefore(t,o)?t:o);return!s.isAfter(r,e)}),[n,o,e,s])}function a(e,t){let{disablePast:n,minDate:o}=t;const s=(0,i.nB)();return r.useMemo((()=>{const t=s.date(),r=s.startOfMonth(n&&s.isAfter(t,o)?t:o);return!s.isBefore(r,e)}),[n,o,e,s])}function l(e,t,n,s){const a=(0,i.nB)();return{meridiemMode:(0,o.xX)(e,a),handleMeridiemChange:r.useCallback((r=>{const i=null==e?null:(0,o.wp)(e,r,Boolean(t),a);n(i,null!=s?s:"partial")}),[t,e,n,s,a])}}},6774:(e,t,n)=>{n.d(t,{B:()=>wt});var r=n(7462),i=n(3366),o=n(2791),s=n(8069),a=n(8182),l=n(4419),c=n(4036),u=n(890),d=n(3840),h=n(2930),p=n(6934),f=n(5878),m=n(1217);function g(e){return(0,m.Z)("MuiInputAdornment",e)}const v=(0,f.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var y,w=n(1402),b=n(184);const T=["children","className","component","disablePointerEvents","disableTypography","position","variant"],I=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,c.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{["&.".concat(v.positionStart,"&:not(.").concat(v.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),x=o.forwardRef((function(e,t){const n=(0,w.Z)({props:e,name:"MuiInputAdornment"}),{children:s,className:p,component:f="div",disablePointerEvents:m=!1,disableTypography:v=!1,position:x,variant:S}=n,k=(0,i.Z)(n,T),C=(0,h.Z)()||{};let E=S;S&&C.variant,C&&!E&&(E=C.variant);const _=(0,r.Z)({},n,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:m,position:x,variant:E}),D=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&"position".concat((0,c.Z)(i)),s,r&&"hiddenLabel",o&&"size".concat((0,c.Z)(o))]};return(0,l.Z)(a,g,t)})(_);return(0,b.jsx)(d.Z.Provider,{value:null,children:(0,b.jsx)(I,(0,r.Z)({as:f,ownerState:_,className:(0,a.Z)(D.root,p),ref:t},k,{children:"string"!==typeof s||v?(0,b.jsxs)(o.Fragment,{children:["start"===x?y||(y=(0,b.jsx)("span",{className:"notranslate",children:"\u200b"})):null,s]}):(0,b.jsx)(u.Z,{color:"text.secondary",children:s})}))})}));var S=n(3400),k=n(8550),C=n(4121),E=n(3208),_=n(5527),D=n(7563),P=n(5721),A=n(9723);function R(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function M(e){return e instanceof R(e).Element||e instanceof Element}function N(e){return e instanceof R(e).HTMLElement||e instanceof HTMLElement}function O(e){return"undefined"!==typeof ShadowRoot&&(e instanceof R(e).ShadowRoot||e instanceof ShadowRoot)}var Z=Math.max,L=Math.min,F=Math.round;function V(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function U(){return!/^((?!chrome|android).)*safari/i.test(V())}function j(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&N(e)&&(i=e.offsetWidth>0&&F(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&F(r.height)/e.offsetHeight||1);var s=(M(e)?R(e):window).visualViewport,a=!U()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function B(e){var t=R(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function q(e){return e?(e.nodeName||"").toLowerCase():null}function z(e){return((M(e)?e.ownerDocument:e.document)||window.document).documentElement}function W(e){return j(z(e)).left+B(e).scrollLeft}function H(e){return R(e).getComputedStyle(e)}function G(e){var t=H(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function K(e,t,n){void 0===n&&(n=!1);var r=N(t),i=N(t)&&function(e){var t=e.getBoundingClientRect(),n=F(t.width)/e.offsetWidth||1,r=F(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=z(t),s=j(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==q(t)||G(o))&&(a=function(e){return e!==R(e)&&N(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:B(e);var t}(t)),N(t)?((l=j(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=W(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Y(e){var t=j(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Q(e){return"html"===q(e)?e:e.assignedSlot||e.parentNode||(O(e)?e.host:null)||z(e)}function X(e){return["html","body","#document"].indexOf(q(e))>=0?e.ownerDocument.body:N(e)&&G(e)?e:X(Q(e))}function J(e,t){var n;void 0===t&&(t=[]);var r=X(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=R(r),s=i?[o].concat(o.visualViewport||[],G(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(J(Q(s)))}function $(e){return["table","td","th"].indexOf(q(e))>=0}function ee(e){return N(e)&&"fixed"!==H(e).position?e.offsetParent:null}function te(e){for(var t=R(e),n=ee(e);n&&$(n)&&"static"===H(n).position;)n=ee(n);return n&&("html"===q(n)||"body"===q(n)&&"static"===H(n).position)?t:n||function(e){var t=/firefox/i.test(V());if(/Trident/i.test(V())&&N(e)&&"fixed"===H(e).position)return null;var n=Q(e);for(O(n)&&(n=n.host);N(n)&&["html","body"].indexOf(q(n))<0;){var r=H(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var ne="top",re="bottom",ie="right",oe="left",se="auto",ae=[ne,re,ie,oe],le="start",ce="end",ue="viewport",de="popper",he=ae.reduce((function(e,t){return e.concat([t+"-"+le,t+"-"+ce])}),[]),pe=[].concat(ae,[se]).reduce((function(e,t){return e.concat([t,t+"-"+le,t+"-"+ce])}),[]),fe=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function me(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ge(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var ve={placement:"bottom",modifiers:[],strategy:"absolute"};function ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function we(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?ve:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},ve,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:M(e)?J(e):e.contextElement?J(e.contextElement):[],popper:J(t)};var u=function(e){var t=me(e);return fe.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(ye(t,n)){i.rects={reference:K(t,te(n),"fixed"===i.options.strategy),popper:Y(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:ge((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!ye(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var be={passive:!0};function Te(e){return e.split("-")[0]}function Ie(e){return e.split("-")[1]}function xe(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Se(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Te(i):null,s=i?Ie(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case ne:t={x:a,y:n.y-r.height};break;case re:t={x:a,y:n.y+n.height};break;case ie:t={x:n.x+n.width,y:l};break;case oe:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?xe(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case le:t[c]=t[c]-(n[u]/2-r[u]/2);break;case ce:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var ke={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ce(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),w=oe,b=ne,T=window;if(c){var I=te(n),x="clientHeight",S="clientWidth";if(I===R(n)&&"static"!==H(I=z(n)).position&&"absolute"===a&&(x="scrollHeight",S="scrollWidth"),i===ne||(i===oe||i===ie)&&o===ce)b=re,m-=(d&&I===T&&T.visualViewport?T.visualViewport.height:I[x])-r.height,m*=l?1:-1;if(i===oe||(i===ne||i===re)&&o===ce)w=ie,p-=(d&&I===T&&T.visualViewport?T.visualViewport.width:I[S])-r.width,p*=l?1:-1}var k,C=Object.assign({position:a},c&&ke),E=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:F(n*i)/i||0,y:F(r*i)/i||0}}({x:p,y:m},R(n)):{x:p,y:m};return p=E.x,m=E.y,l?Object.assign({},C,((k={})[b]=y?"0":"",k[w]=v?"0":"",k.transform=(T.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",k)):Object.assign({},C,((t={})[b]=y?m+"px":"",t[w]=v?p+"px":"",t.transform="",t))}const Ee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=pe.reduce((function(e,n){return e[n]=function(e,t,n){var r=Te(e),i=[oe,ne].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[oe,ie].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var _e={left:"right",right:"left",bottom:"top",top:"bottom"};function De(e){return e.replace(/left|right|bottom|top/g,(function(e){return _e[e]}))}var Pe={start:"end",end:"start"};function Ae(e){return e.replace(/start|end/g,(function(e){return Pe[e]}))}function Re(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&O(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Me(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ne(e,t,n){return t===ue?Me(function(e,t){var n=R(e),r=z(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=U();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+W(e),y:l}}(e,n)):M(t)?function(e,t){var n=j(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Me(function(e){var t,n=z(e),r=B(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Z(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Z(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+W(e),l=-r.scrollTop;return"rtl"===H(i||n).direction&&(a+=Z(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(z(e)))}function Oe(e,t,n,r){var i="clippingParents"===t?function(e){var t=J(Q(e)),n=["absolute","fixed"].indexOf(H(e).position)>=0&&N(e)?te(e):e;return M(n)?t.filter((function(e){return M(e)&&Re(e,n)&&"body"!==q(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=Ne(e,n,r);return t.top=Z(i.top,t.top),t.right=L(i.right,t.right),t.bottom=L(i.bottom,t.bottom),t.left=Z(i.left,t.left),t}),Ne(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ze(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Le(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Fe(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?ue:c,d=n.elementContext,h=void 0===d?de:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=Ze("number"!==typeof g?g:Le(g,ae)),y=h===de?"reference":de,w=e.rects.popper,b=e.elements[f?y:h],T=Oe(M(b)?b:b.contextElement||z(e.elements.popper),l,u,s),I=j(e.elements.reference),x=Se({reference:I,element:w,strategy:"absolute",placement:i}),S=Me(Object.assign({},w,x)),k=h===de?S:I,C={top:T.top-k.top+v.top,bottom:k.bottom-T.bottom+v.bottom,left:T.left-k.left+v.left,right:k.right-T.right+v.right},E=e.modifiersData.offset;if(h===de&&E){var _=E[i];Object.keys(C).forEach((function(e){var t=[ie,re].indexOf(e)>=0?1:-1,n=[ne,re].indexOf(e)>=0?"y":"x";C[e]+=_[n]*t}))}return C}function Ve(e,t,n){return Z(e,L(t,n))}const Ue={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=Fe(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Te(t.placement),y=Ie(t.placement),w=!y,b=xe(v),T="x"===b?"y":"x",I=t.modifiersData.popperOffsets,x=t.rects.reference,S=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(I){if(o){var D,P="y"===b?ne:oe,A="y"===b?re:ie,R="y"===b?"height":"width",M=I[b],N=M+g[P],O=M-g[A],F=p?-S[R]/2:0,V=y===le?x[R]:S[R],U=y===le?-S[R]:-x[R],j=t.elements.arrow,B=p&&j?Y(j):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=q[P],W=q[A],H=Ve(0,x[R],B[R]),G=w?x[R]/2-F-H-z-C.mainAxis:V-H-z-C.mainAxis,K=w?-x[R]/2+F+H+W+C.mainAxis:U+H+W+C.mainAxis,Q=t.elements.arrow&&te(t.elements.arrow),X=Q?"y"===b?Q.clientTop||0:Q.clientLeft||0:0,J=null!=(D=null==E?void 0:E[b])?D:0,$=M+K-J,ee=Ve(p?L(N,M+G-J-X):N,M,p?Z(O,$):O);I[b]=ee,_[b]=ee-M}if(a){var se,ae="x"===b?ne:oe,ce="x"===b?re:ie,ue=I[T],de="y"===T?"height":"width",he=ue+g[ae],pe=ue-g[ce],fe=-1!==[ne,oe].indexOf(v),me=null!=(se=null==E?void 0:E[T])?se:0,ge=fe?he:ue-x[de]-S[de]-me+C.altAxis,ve=fe?ue+x[de]+S[de]-me-C.altAxis:pe,ye=p&&fe?function(e,t,n){var r=Ve(e,t,n);return r>n?n:r}(ge,ue,ve):Ve(p?ge:he,ue,p?ve:pe);I[T]=ye,_[T]=ye-ue}t.modifiersData[r]=_}},requiresIfExists:["offset"]};const je={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Te(n.placement),l=xe(a),c=[oe,ie].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return Ze("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Le(e,ae))}(i.padding,n),d=Y(o),h="y"===l?ne:oe,p="y"===l?re:ie,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=te(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,w=u[h],b=v-d[c]-u[p],T=v/2-d[c]/2+y,I=Ve(w,T,b),x=l;n.modifiersData[r]=((t={})[x]=I,t.centerOffset=I-T,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Re(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Be(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function qe(e){return[ne,ie,re,oe].some((function(t){return e[t]>=0}))}var ze=we({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=R(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,be)})),a&&l.addEventListener("resize",n.update,be),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,be)})),a&&l.removeEventListener("resize",n.update,be)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Se({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:Te(t.placement),variation:Ie(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ce(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ce(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];N(i)&&q(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});N(r)&&q(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},Ee,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=Te(g),y=l||(v===g||!f?[De(g)]:function(e){if(Te(e)===se)return[];var t=De(e);return[Ae(e),t,Ae(t)]}(g)),w=[g].concat(y).reduce((function(e,n){return e.concat(Te(n)===se?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?pe:l,u=Ie(r),d=u?a?he:he.filter((function(e){return Ie(e)===u})):ae,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=Fe(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[Te(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,T=t.rects.popper,I=new Map,x=!0,S=w[0],k=0;k<w.length;k++){var C=w[k],E=Te(C),_=Ie(C)===le,D=[ne,re].indexOf(E)>=0,P=D?"width":"height",A=Fe(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),R=D?_?ie:oe:_?re:ne;b[P]>T[P]&&(R=De(R));var M=De(R),N=[];if(o&&N.push(A[E]<=0),a&&N.push(A[R]<=0,A[M]<=0),N.every((function(e){return e}))){S=C,x=!1;break}I.set(C,N)}if(x)for(var O=function(e){var t=w.find((function(t){var n=I.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},Z=f?3:1;Z>0;Z--){if("break"===O(Z))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Ue,je,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Fe(t,{elementContext:"reference"}),a=Fe(t,{altBoundary:!0}),l=Be(s,r),c=Be(a,i,o),u=qe(l),d=qe(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),We=n(6174);function He(e){return(0,m.Z)("MuiPopper",e)}(0,f.Z)("MuiPopper",["root"]);var Ge=n(6826);const Ke=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Ye=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Qe(e){return"function"===typeof e?e():e}function Xe(e){return void 0!==e.nodeType}const Je={},$e=o.forwardRef((function(e,t){var n;const{anchorEl:a,children:c,direction:u,disablePortal:d,modifiers:h,open:p,placement:f,popperOptions:m,popperRef:g,slotProps:v={},slots:y={},TransitionProps:w}=e,T=(0,i.Z)(e,Ke),I=o.useRef(null),x=(0,D.Z)(I,t),S=o.useRef(null),k=(0,D.Z)(S,g),C=o.useRef(k);(0,P.Z)((()=>{C.current=k}),[k]),o.useImperativeHandle(g,(()=>S.current),[]);const E=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(f,u),[_,A]=o.useState(E),[R,M]=o.useState(Qe(a));o.useEffect((()=>{S.current&&S.current.forceUpdate()})),o.useEffect((()=>{a&&M(Qe(a))}),[a]),(0,P.Z)((()=>{if(!R||!p)return;let e=[{name:"preventOverflow",options:{altBoundary:d}},{name:"flip",options:{altBoundary:d}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;A(t.placement)}}];null!=h&&(e=e.concat(h)),m&&null!=m.modifiers&&(e=e.concat(m.modifiers));const t=ze(R,I.current,(0,r.Z)({placement:E},m,{modifiers:e}));return C.current(t),()=>{t.destroy(),C.current(null)}}),[R,d,h,p,m,E]);const N={placement:_};null!==w&&(N.TransitionProps=w);const O=(0,l.Z)({root:["root"]},(0,Ge.T)(He)),Z=null!=(n=y.root)?n:"div",L=(0,s.Z)({elementType:Z,externalSlotProps:v.root,externalForwardedProps:T,additionalProps:{role:"tooltip",ref:x},ownerState:e,className:O.root});return(0,b.jsx)(Z,(0,r.Z)({},L,{children:"function"===typeof c?c(N):c}))})),et=o.forwardRef((function(e,t){const{anchorEl:n,children:s,container:a,direction:l="ltr",disablePortal:c=!1,keepMounted:u=!1,modifiers:d,open:h,placement:p="bottom",popperOptions:f=Je,popperRef:m,style:g,transition:v=!1,slotProps:y={},slots:w={}}=e,T=(0,i.Z)(e,Ye),[I,x]=o.useState(!0);if(!u&&!h&&(!v||I))return null;let S;if(a)S=a;else if(n){const e=Qe(n);S=e&&Xe(e)?(0,A.Z)(e).body:(0,A.Z)(null).body}const k=h||!u||v&&!I?void 0:"none",C=v?{in:h,onEnter:()=>{x(!1)},onExited:()=>{x(!0)}}:void 0;return(0,b.jsx)(We.Z,{disablePortal:c,container:S,children:(0,b.jsx)($e,(0,r.Z)({anchorEl:n,direction:l,disablePortal:c,modifiers:d,ref:t,open:v?!I:h,placement:p,popperOptions:f,popperRef:m,slotProps:y,slots:w},T,{style:(0,r.Z)({position:"fixed",top:0,left:0,display:k},g),TransitionProps:C,children:s}))})}));var tt=n(9120);const nt=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],rt=(0,p.ZP)(et,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),it=o.forwardRef((function(e,t){var n;const o=(0,tt.Z)(),s=(0,w.Z)({props:e,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:u,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:T,slots:I,slotProps:x}=s,S=(0,i.Z)(s,nt),k=null!=(n=null==I?void 0:I.root)?n:null==c?void 0:c.Root,C=(0,r.Z)({anchorEl:a,container:d,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:T},S);return(0,b.jsx)(rt,(0,r.Z)({as:l,direction:null==o?void 0:o.direction,slots:{root:k},slotProps:null!=x?x:u},C,{ref:t}))}));var ot=n(2080),st=n(8956);function at(e){return(0,m.Z)("MuiPickersPopper",e)}(0,f.Z)("MuiPickersPopper",["root","paper"]);var lt=n(4273);const ct=(0,p.ZP)(it,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),ut=(0,p.ZP)(_.Z,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{ownerState:t}=e;return(0,r.Z)({transformOrigin:"top center",outline:0},"top"===t.placement&&{transformOrigin:"bottom center"})}));function dt(e){var t,n,i,a;const c=(0,w.Z)({props:e,name:"MuiPickersPopper"}),{anchorEl:u,children:d,containerRef:h=null,shouldRestoreFocus:p,onBlur:f,onDismiss:m,open:g,role:v,placement:y,slots:T,slotProps:I}=c;o.useEffect((()=>{function e(e){!g||"Escape"!==e.key&&"Esc"!==e.key||m()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[m,g]);const x=o.useRef(null);o.useEffect((()=>{"tooltip"===v||p&&!p()||(g?x.current=(0,lt.vY)(document):x.current&&x.current instanceof HTMLElement&&setTimeout((()=>{x.current instanceof HTMLElement&&x.current.focus()})))}),[g,v,p]);const[S,k,C]=function(e,t){const n=o.useRef(!1),r=o.useRef(!1),i=o.useRef(null),s=o.useRef(!1);o.useEffect((()=>{if(e)return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),s.current=!1};function t(){s.current=!0}}),[e]);const a=(0,st.Z)((e=>{if(!s.current)return;const o=r.current;r.current=!1;const a=(0,A.Z)(i.current);if(!i.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,a))return;if(n.current)return void(n.current=!1);let l;l=e.composedPath?e.composedPath().indexOf(i.current)>-1:!a.documentElement.contains(e.target)||i.current.contains(e.target),l||o||t(e)})),l=()=>{r.current=!0};return o.useEffect((()=>{if(e){const e=(0,A.Z)(i.current),t=()=>{n.current=!0};return e.addEventListener("touchstart",a),e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",t)}}}),[e,a]),o.useEffect((()=>{if(e){const e=(0,A.Z)(i.current);return e.addEventListener("click",a),()=>{e.removeEventListener("click",a),r.current=!1}}}),[e,a]),[i,l,l]}(g,null!=f?f:m),_=o.useRef(null),P=(0,D.Z)(_,h),R=(0,D.Z)(P,S),M=c,N=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"],paper:["paper"]},at,t)})(M),O=null!=(t=null==T?void 0:T.desktopTransition)?t:E.Z,Z=null!=(n=null==T?void 0:T.desktopTrapFocus)?n:ot.Z,L=null!=(i=null==T?void 0:T.desktopPaper)?i:ut,F=(0,s.Z)({elementType:L,externalSlotProps:null==I?void 0:I.desktopPaper,additionalProps:{tabIndex:-1,elevation:8,ref:R},className:N.paper,ownerState:{}}),V=null!=(a=null==T?void 0:T.popper)?a:ct,U=(0,s.Z)({elementType:V,externalSlotProps:null==I?void 0:I.popper,additionalProps:{transition:!0,role:v,open:g,anchorEl:u,placement:y,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),m())}},className:N.root,ownerState:c});return(0,b.jsx)(V,(0,r.Z)({},U,{children:e=>{let{TransitionProps:t,placement:n}=e;return(0,b.jsx)(Z,(0,r.Z)({open:g,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:"tooltip"===v,isEnabled:()=>!0},null==I?void 0:I.desktopTrapFocus,{children:(0,b.jsx)(O,(0,r.Z)({},t,null==I?void 0:I.desktopTransition,{children:(0,b.jsx)(L,(0,r.Z)({},F,{onClick:e=>{var t;k(e),null==(t=F.onClick)||t.call(F,e)},onTouchStart:e=>{var t;C(e),null==(t=F.onTouchStart)||t.call(F,e)},ownerState:(0,r.Z)({},M,{placement:n}),children:d}))}))}))}}))}var ht=n(9818),pt=n(293),ft=n(1652),mt=n(6784);const gt=["props","getOpenDialogAriaText"],vt=["ownerState"],yt=["ownerState"],wt=e=>{var t,n,a,l,c;let{props:u,getOpenDialogAriaText:d}=e,h=(0,i.Z)(e,gt);const{slots:p,slotProps:f,className:m,sx:g,format:v,formatDensity:y,label:w,inputRef:T,readOnly:I,disabled:E,autoFocus:_,localeText:D}=u,P=(0,ht.nB)(),A=o.useRef(null),R=o.useRef(null),M=(0,C.Z)(),N=null!=(t=null==f||null==(n=f.toolbar)?void 0:n.hidden)&&t,{open:O,actions:Z,hasUIView:L,layoutProps:F,renderCurrentView:V,shouldRestoreFocus:U,fieldProps:j}=(0,pt.Q)((0,r.Z)({},h,{props:u,inputRef:A,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),B=null!=(a=p.inputAdornment)?a:x,q=(0,s.Z)({elementType:B,externalSlotProps:null==f?void 0:f.inputAdornment,additionalProps:{position:"end"},ownerState:u}),z=(0,i.Z)(q,vt),W=null!=(l=p.openPickerButton)?l:S.Z,H=(0,s.Z)({elementType:W,externalSlotProps:null==f?void 0:f.openPickerButton,additionalProps:{disabled:E||I,onClick:Z.onOpen,"aria-label":d(j.value,P),edge:z.position},ownerState:u}),G=(0,i.Z)(H,yt),K=p.openPickerIcon,Y=p.field,Q=(0,s.Z)({elementType:Y,externalSlotProps:null==f?void 0:f.field,additionalProps:(0,r.Z)({},j,N&&{id:M},{readOnly:I,disabled:E,className:m,sx:g,format:v,formatDensity:y,label:w,autoFocus:_&&!u.open,focused:!!O||void 0}),ownerState:u});L&&(Q.InputProps=(0,r.Z)({},Q.InputProps,{ref:R,["".concat(z.position,"Adornment")]:(0,b.jsx)(B,(0,r.Z)({},z,{children:(0,b.jsx)(W,(0,r.Z)({},G,{children:(0,b.jsx)(K,(0,r.Z)({},null==f?void 0:f.openPickerIcon))}))}))}));const X=(0,r.Z)({textField:p.textField},Q.slots),J=null!=(c=p.layout)?c:mt.ce,$=(0,k.Z)(A,Q.inputRef,T);let ee=M;N&&(ee=w?"".concat(M,"-label"):void 0);const te=(0,r.Z)({},f,{toolbar:(0,r.Z)({},null==f?void 0:f.toolbar,{titleId:M}),popper:(0,r.Z)({"aria-labelledby":ee},null==f?void 0:f.popper)});return{renderPicker:()=>(0,b.jsxs)(ft._,{localeText:D,children:[(0,b.jsx)(Y,(0,r.Z)({},Q,{slots:X,slotProps:te,inputRef:$})),(0,b.jsx)(dt,(0,r.Z)({role:"dialog",placement:"bottom-start",anchorEl:R.current},Z,{open:O,slots:p,slotProps:te,shouldRestoreFocus:U,children:(0,b.jsx)(J,(0,r.Z)({},F,null==te?void 0:te.layout,{slots:p,slotProps:te,children:V()}))}))]})}}},1204:(e,t,n)=>{n.d(t,{U:()=>y});var r=n(7462),i=n(3366),o=n(2791),s=n(8559),a=n(8394),l=n(8550),c=n(3967),u=n(5402),d=n(9818),h=n(6668),p=n(8195);const f=e=>null!=e.saveQuery,m=e=>{let{sections:t,updateSectionValue:n,sectionsValueBoundaries:i,setTempAndroidValueStr:s}=e;const l=(0,d.nB)(),[c,u]=o.useState(null),p=(0,a.Z)((()=>u(null)));o.useEffect((()=>{var e;null!=c&&(null==(e=t[c.sectionIndex])?void 0:e.type)!==c.sectionType&&p()}),[t,c,p]),o.useEffect((()=>{if(null!=c){const e=setTimeout((()=>p()),5e3);return()=>{window.clearTimeout(e)}}return()=>{}}),[c,p]);const m=(e,n,r)=>{let{keyPressed:i,sectionIndex:o}=e;const s=i.toLowerCase(),a=t[o];if(null!=c&&(!r||r(c.value))&&c.sectionIndex===o){const e="".concat(c.value).concat(s),t=n(e,a);if(!f(t))return u({sectionIndex:o,value:e,sectionType:a.type}),t}const l=n(s,a);return f(l)&&!l.saveQuery?(p(),null):(u({sectionIndex:o,value:s,sectionType:a.type}),f(l)?null:l)};return{applyCharacterEditing:(0,a.Z)((e=>{const o=t[e.sectionIndex],a=!Number.isNaN(Number(e.keyPressed))?(e=>{const t=(e,t)=>{const n=Number("".concat(e)),r=i[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(n>r.maximum)return{saveQuery:!1};if(n<r.minimum)return{saveQuery:!0};const o=Number("".concat(e,"0"))>r.maximum||e.length===r.maximum.toString().length;return{sectionValue:(0,h.P$)(l,n,r,t),shouldGoToNextSection:o}};return m(e,((e,n)=>{if("digit"===n.contentType||"digit-with-letter"===n.contentType)return t(e,n);if("month"===n.type){const i=(0,h.Su)(l,"digit","month","MM"),o=t(e,{type:n.type,format:"MM",hasLeadingZerosInFormat:i,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(f(o))return o;const s=(0,h.Yo)(l,o.sectionValue,"MM",n.format);return(0,r.Z)({},o,{sectionValue:s})}if("weekDay"===n.type){const i=t(e,n);if(f(i))return i;const o=(0,h.R7)(l,n.format)[Number(i.sectionValue)-1];return(0,r.Z)({},i,{sectionValue:o})}return{saveQuery:!1}}),(e=>!Number.isNaN(Number(e))))})(e):(e=>{const t=(e,t,n)=>{const r=t.filter((e=>e.toLowerCase().startsWith(n)));return 0===r.length?{saveQuery:!1}:{sectionValue:r[0],shouldGoToNextSection:1===r.length}},n=(e,n,i,o)=>{const s=e=>(0,h.wk)(l,n.type,e);if("letter"===n.contentType)return t(n.format,s(n.format),e);if(i&&null!=o&&"letter"===(0,h.z1)(l,i).contentType){const n=s(i),a=t(0,n,e);return f(a)?{saveQuery:!1}:(0,r.Z)({},a,{sectionValue:o(a.sectionValue,n)})}return{saveQuery:!1}};return m(e,((e,t)=>{switch(t.type){case"month":{const r=e=>(0,h.Yo)(l,e,l.formats.month,t.format);return n(e,t,l.formats.month,r)}case"weekDay":{const r=(e,t)=>t.indexOf(e).toString();return n(e,t,l.formats.weekday,r)}case"meridiem":return n(e,t);default:return{saveQuery:!1}}}))})(e);null==a?s(null):n({activeSection:o,newSectionValue:a.sectionValue,shouldGoToNextSection:a.shouldGoToNextSection})})),resetCharacterQuery:p}};var g=n(4273);const v=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error"],y=e=>{const t=(0,d.nB)(),{state:n,selectedSectionIndexes:f,setSelectedSections:y,clearValue:w,clearActiveSection:b,updateSectionValue:T,updateValueFromValueStr:I,setTempAndroidValueStr:x,sectionsValueBoundaries:S,placeholder:k}=(e=>{var t;const n=(0,d.nB)(),i=(0,d.og)(),s=(0,d.Do)(),a="rtl"===(0,c.Z)().direction,{valueManager:l,fieldValueManager:u,valueType:f,validator:m,internalProps:g,internalProps:{value:v,defaultValue:y,onChange:w,format:b,formatDensity:T="dense",selectedSections:I,onSelectedSectionsChange:x,shouldRespectLeadingZeros:S=!1}}=e,k=o.useRef(y),C=null!=(t=null!=v?v:k.current)?t:l.emptyValue,E=o.useMemo((()=>(0,h.IE)(n)),[n]),_=o.useCallback((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.getSectionsFromValue(n,e,t,a,(e=>(0,h.nC)(n,i,b,e,T,S,a)))}),[u,b,i,a,S,n,T]),D=o.useMemo((()=>u.getValueStrFromSections(_(l.emptyValue),a)),[u,_,l.emptyValue,a]),[P,A]=o.useState((()=>{const e=_(C);return(0,h.wz)(e,f),{sections:e,value:C,referenceValue:u.updateReferenceValue(n,C,l.getTodayValue(n,f)),tempValueStrAndroid:null}})),[R,M]=(0,p.Z)({controlled:I,default:null,name:"useField",state:"selectedSectionIndexes"}),N=e=>{M(e),null==x||x(e),A((e=>(0,r.Z)({},e,{selectedSectionQuery:null})))},O=o.useMemo((()=>{if(null==R)return null;if("all"===R)return{startIndex:0,endIndex:P.sections.length-1,shouldSelectBoundarySelectors:!0};if("number"===typeof R)return{startIndex:R,endIndex:R};if("string"===typeof R){const e=P.sections.findIndex((e=>e.type===R));return{startIndex:e,endIndex:e}}return R}),[R,P.sections]),Z=e=>{let{value:t,referenceValue:n,sections:i}=e;if(A((e=>(0,r.Z)({},e,{sections:i,value:t,referenceValue:n,tempValueStrAndroid:null}))),w){const e={validationError:m({adapter:s,value:t,props:(0,r.Z)({},g,{value:t})})};w(t,e)}},L=(e,t)=>{const n=[...P.sections];return n[e]=(0,r.Z)({},n[e],{value:t,modified:!0}),(0,h.qc)(n,a)};return o.useEffect((()=>{l.areValuesEqual(n,P.value,C)||A((e=>(0,r.Z)({},e,{value:C,referenceValue:u.updateReferenceValue(n,C,e.referenceValue),sections:_(C)})))}),[C]),o.useEffect((()=>{const e=_(P.value);(0,h.wz)(e,f),A((t=>(0,r.Z)({},t,{sections:e})))}),[b,n.locale]),{state:P,selectedSectionIndexes:O,setSelectedSections:N,clearValue:()=>{l.areValuesEqual(n,P.value,l.emptyValue)||Z({value:l.emptyValue,referenceValue:P.referenceValue,sections:_(l.emptyValue)})},clearActiveSection:()=>{if(null==O)return;const e=P.sections[O.startIndex];if(""===e.value)return;const t=u.getActiveDateManager(n,P,e),i=1===t.getSections(P.sections).filter((e=>""!==e.value)).length,o=L(O.startIndex,""),s=i?null:n.date(new Date("")),a=t.getNewValuesFromNewActiveDate(s);(null!=s&&!n.isValid(s))!==(null!=t.date&&!n.isValid(t.date))?Z((0,r.Z)({},a,{sections:o})):A((e=>(0,r.Z)({},e,a,{sections:o,tempValueStrAndroid:null})))},updateSectionValue:e=>{let{activeSection:t,newSectionValue:i,shouldGoToNextSection:o}=e;o&&O&&O.startIndex<P.sections.length-1?N(O.startIndex+1):O&&O.startIndex!==O.endIndex&&N(O.startIndex);const s=u.getActiveDateManager(n,P,t),a=L(O.startIndex,i),l=s.getSections(a);let c,d,p=(0,h.lt)(n,l),f=!1;if(!n.isValid(p)){const e=(0,h._R)(n,l,E);null!=e&&(f=!0,p=(0,h.lt)(n,e))}if(null!=p&&n.isValid(p)){const e=(0,h.$9)(n,p,l,s.referenceDate,!0);c=s.getNewValuesFromNewActiveDate(e),d=!0}else c=s.getNewValuesFromNewActiveDate(p),d=(null!=p&&!n.isValid(p))!==(null!=s.date&&!n.isValid(s.date));const m=f?_(c.value,P.sections):a;return d?Z((0,r.Z)({},c,{sections:m})):A((e=>(0,r.Z)({},e,c,{sections:m,tempValueStrAndroid:null})))},updateValueFromValueStr:e=>{const t=u.parseValueStr(e,P.referenceValue,((e,t)=>{const r=n.parse(e,b);if(null==r||!n.isValid(r))return null;const o=(0,h.nC)(n,i,b,r,T,S,a);return(0,h.$9)(n,r,o,t,!1)})),r=u.updateReferenceValue(n,t,P.referenceValue);Z({value:t,referenceValue:r,sections:_(t,P.sections)})},setTempAndroidValueStr:e=>A((t=>(0,r.Z)({},t,{tempValueStrAndroid:e}))),sectionsValueBoundaries:E,placeholder:D}})(e),{inputRef:C,internalProps:E,internalProps:{readOnly:_=!1,unstableFieldRef:D},forwardedProps:{onClick:P,onKeyDown:A,onFocus:R,onBlur:M,onMouseUp:N,onPaste:O,error:Z},fieldValueManager:L,valueManager:F,validator:V}=e,U=(0,i.Z)(e.forwardedProps,v),{applyCharacterEditing:j,resetCharacterQuery:B}=m({sections:n.sections,updateSectionValue:T,sectionsValueBoundaries:S,setTempAndroidValueStr:x}),q=o.useRef(null),z=(0,l.Z)(C,q),W=o.useRef(void 0),H="rtl"===(0,c.Z)().direction,G=o.useMemo((()=>(0,h.N2)(n.sections,H)),[n.sections,H]),K=()=>{var e;if(_)return void y(null);const t=null!=(e=q.current.selectionStart)?e:0;let r;r=t<=n.sections[0].startInInput||t>=n.sections[n.sections.length-1].endInInput?1:n.sections.findIndex((e=>e.startInInput-e.startSeparator.length>t));const i=-1===r?n.sections.length-1:r-1;y(i)},Y=(0,a.Z)((function(){null==P||P(...arguments),K()})),Q=(0,a.Z)((e=>{null==N||N(e),e.preventDefault()})),X=(0,a.Z)((function(){null==R||R(...arguments);const e=q.current;clearTimeout(W.current),W.current=setTimeout((()=>{e&&e===q.current&&(null!=f||_||(e.value.length&&Number(e.selectionEnd)-Number(e.selectionStart)===e.value.length?y("all"):K()))}))})),J=(0,a.Z)((function(){null==M||M(...arguments),y(null)})),$=(0,a.Z)((e=>{if(null==O||O(e),_)return void e.preventDefault();const t=e.clipboardData.getData("text");if(f&&f.startIndex===f.endIndex){const r=n.sections[f.startIndex],i=/^[a-zA-Z]+$/.test(t),o=/^[0-9]+$/.test(t),s=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(t);if("letter"===r.contentType&&i||"digit"===r.contentType&&o||"digit-with-letter"===r.contentType&&s)return;if(i||o)return void e.preventDefault()}e.preventDefault(),I(t)})),ee=(0,a.Z)((e=>{if(_)return;const t=e.target.value,r=(0,h.EY)(t);if(null==f)return void I(r);let i;if(0===f.startIndex&&f.endIndex===n.sections.length-1)i=r;else{const e=(0,h.EY)(L.getValueStrFromSections(n.sections,H));let t=-1,o=-1;for(let n=0;n<e.length;n+=1)-1===t&&e[n]!==r[n]&&(t=n),-1===o&&e[e.length-n-1]!==r[r.length-n-1]&&(o=n);const s=n.sections[f.startIndex];if(t<s.start||e.length-o-1>s.end)return;const a=r.length-e.length+s.end-(0,h.EY)(s.endSeparator||"").length;i=r.slice(s.start,a)}(0,h.Dt)()&&0===i.length?x(t):j({keyPressed:i,sectionIndex:f.startIndex})})),te=(0,a.Z)((e=>{switch(null==A||A(e),!0){case"a"===e.key&&(e.ctrlKey||e.metaKey):e.preventDefault(),y("all");break;case"ArrowRight"===e.key:if(e.preventDefault(),null==f)y(G.startIndex);else if(f.startIndex!==f.endIndex)y(f.endIndex);else{const e=G.neighbors[f.startIndex].rightIndex;null!==e&&y(e)}break;case"ArrowLeft"===e.key:if(e.preventDefault(),null==f)y(G.endIndex);else if(f.startIndex!==f.endIndex)y(f.startIndex);else{const e=G.neighbors[f.startIndex].leftIndex;null!==e&&y(e)}break;case["Backspace","Delete"].includes(e.key):if(e.preventDefault(),_)break;null==f||0===f.startIndex&&f.endIndex===n.sections.length-1?w():b(),B();break;case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(e.key):{if(e.preventDefault(),_||null==f)break;const r=n.sections[f.startIndex],i=L.getActiveDateManager(t,n,r),o=(0,h.o$)(t,r,e.key,S,i.date);T({activeSection:r,newSectionValue:o,shouldGoToNextSection:!1});break}}}));(0,s.default)((()=>{if(null==f)return void(q.current.scrollLeft&&(q.current.scrollLeft=0));const e=n.sections[f.startIndex],t=n.sections[f.endIndex];let r=e.startInInput,i=t.endInInput;if(f.shouldSelectBoundarySelectors&&(r-=e.startSeparator.length,i+=t.endSeparator.length),r!==q.current.selectionStart||i!==q.current.selectionEnd){const e=q.current.scrollTop;q.current.setSelectionRange(r,i),q.current.scrollTop=e}}));const ne=(0,u.V)((0,r.Z)({},E,{value:n.value}),V,F.isSameError,F.defaultErrorState),re=o.useMemo((()=>void 0!==Z?Z:F.hasError(ne)),[F,ne,Z]);o.useEffect((()=>(q.current&&q.current===document.activeElement&&y("all"),()=>window.clearTimeout(W.current))),[]),o.useEffect((()=>{null!=n.tempValueStrAndroid&&null!=f&&(B(),b())}),[n.tempValueStrAndroid]);const ie=o.useMemo((()=>{var e;return null!=(e=n.tempValueStrAndroid)?e:L.getValueStrFromSections(n.sections,H)}),[n.sections,L,n.tempValueStrAndroid,H]),oe=o.useMemo((()=>null==f||"letter"===n.sections[f.startIndex].contentType?"text":"tel"),[f,n.sections]),se=!(q.current&&q.current===(0,g.vY)(document))&&F.areValuesEqual(t,n.value,F.emptyValue);return o.useImperativeHandle(D,(()=>({getSections:()=>n.sections,getActiveSectionIndex:()=>{var e,t;const r=null!=(e=q.current.selectionStart)?e:0,i=null!=(t=q.current.selectionEnd)?t:0;if(0===r&&0===i)return null;const o=r<=n.sections[0].startInInput?1:n.sections.findIndex((e=>e.startInInput-e.startSeparator.length>r));return-1===o?n.sections.length-1:o-1},setSelectedSections:e=>y(e)}))),(0,r.Z)({placeholder:k,autoComplete:"off"},U,{value:se?"":ie,inputMode:oe,readOnly:_,onClick:Y,onFocus:X,onBlur:J,onPaste:$,onChange:ee,onKeyDown:te,onMouseUp:Q,error:re,ref:z})}},6668:(e,t,n)=>{n.d(t,{$9:()=>S,Dt:()=>k,EY:()=>h,IE:()=>T,N2:()=>E,P$:()=>c,R7:()=>s,Su:()=>v,WE:()=>b,Yo:()=>m,_R:()=>C,lt:()=>w,nC:()=>y,o$:()=>u,qc:()=>p,wk:()=>a,wz:()=>I,z1:()=>o});var r=n(7462),i=n(1267);const o=(e,t)=>{const n=e.formatTokenMap[t];if(null==n)throw new Error(['MUI: The token "'.concat(t,'" is not supported by the Date and Time Pickers.'),"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join("\n"));return"string"===typeof n?{type:n,contentType:"meridiem"===n?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},s=(e,t)=>{const n=[],r=e.date(),i=e.startOfWeek(r),o=e.endOfWeek(r);let s=i;for(;e.isBefore(s,o);)n.push(s),s=e.addDays(s,1);return n.map((n=>e.formatByString(n,t)))},a=(e,t,n)=>{switch(t){case"month":return(0,i.SV)(e,e.date()).map((t=>e.formatByString(t,n)));case"weekDay":return s(e,n);case"meridiem":{const t=e.date();return[e.startOfDay(t),e.endOfDay(t)].map((t=>e.formatByString(t,n)))}default:return[]}},l=(e,t,n)=>{let r=t;for(r=Number(r).toString();r.length<n;)r="0".concat(r);return r},c=(e,t,n,r)=>{if("day"===r.type&&"digit-with-letter"===r.contentType){const i=e.setDate(n.longestMonth,t);return e.formatByString(i,r.format)}const i=t.toString();return r.hasLeadingZerosInInput?l(0,i,r.maxLength):i},u=(e,t,n,r,i)=>{const o=(e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}})(n),s="Home"===n,l="End"===n,u=""===t.value||s||l;return"digit"===t.contentType||"digit-with-letter"===t.contentType?(()=>{const n=r[t.type]({currentDate:i,format:t.format,contentType:t.contentType}),a=r=>c(e,r,n,t);if(u)return"year"!==t.type||l||s?a(o>0||s?n.minimum:n.maximum):e.formatByString(e.date(),t.format);const d=parseInt(t.value,10)+o;return d>n.maximum?a(n.minimum):d<n.minimum?a(n.maximum):a(d)})():(()=>{const n=a(e,t.type,t.format);if(0===n.length)return t.value;if(u)return o>0||s?n[0]:n[n.length-1];const r=n.indexOf(t.value);return n[(r+n.length+o)%n.length]})()},d=(e,t)=>{let n=e.value||e.placeholder;const r="non-input"===t?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;"non-input"===t&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(n=Number(n).toString());return["input-rtl","input-ltr"].includes(t)&&"digit"===e.contentType&&!r&&1===n.length&&(n="".concat(n,"\u200e")),"input-rtl"===t&&(n="\u2068".concat(n,"\u2069")),n},h=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),p=(e,t)=>{let n=0,i=t?1:0;const o=[];for(let s=0;s<e.length;s+=1){const a=e[s],l=d(a,t?"input-rtl":"input-ltr"),c="".concat(a.startSeparator).concat(l).concat(a.endSeparator),u=h(c).length,p=c.length,f=h(l),m=i+l.indexOf(f[0])+a.startSeparator.length,g=m+f.length;o.push((0,r.Z)({},a,{start:n,end:n+u,startInInput:m,endInInput:g})),n+=u,i+=p}return o},f=(e,t,n,r)=>{switch(n.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(),r).length});case"month":return t.fieldMonthPlaceholder({contentType:n.contentType});case"day":return t.fieldDayPlaceholder();case"weekDay":return t.fieldWeekDayPlaceholder({contentType:n.contentType});case"hours":return t.fieldHoursPlaceholder();case"minutes":return t.fieldMinutesPlaceholder();case"seconds":return t.fieldSecondsPlaceholder();case"meridiem":return t.fieldMeridiemPlaceholder();default:return r}},m=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),g=(e,t)=>4===e.formatByString(e.date(),t).length,v=(e,t,n,r)=>{if("digit"!==t)return!1;switch(n){case"year":if(g(e,r)){return"0001"===e.formatByString(e.setYear(e.date(),1),r)}return"01"===e.formatByString(e.setYear(e.date(),2001),r);case"month":return e.formatByString(e.startOfYear(e.date()),r).length>1;case"day":return e.formatByString(e.startOfMonth(e.date()),r).length>1;case"weekDay":return e.formatByString(e.startOfWeek(e.date()),r).length>1;case"hours":return e.formatByString(e.setHours(e.date(),1),r).length>1;case"minutes":case"seconds":return e.formatByString(e.setMinutes(e.date(),1),r).length>1;default:throw new Error("Invalid section type")}},y=(e,t,n,i,s,a,c)=>{let u="";const d=[],h=e.date(),p=n=>{if(""===n)return null;const s=o(e,n),c=v(e,s.contentType,s.type,n),p=a?c:"digit"===s.contentType,m=null!=i&&e.isValid(i);let g=m?e.formatByString(i,n):"",y=null;if(p)if(c)y=""===g?e.formatByString(h,n).length:g.length;else{if(null==s.maxLength)throw new Error("MUI: The token ".concat(n," should have a 'maxDigitNumber' property on it's adapter"));y=s.maxLength,m&&(g=l(0,g,y))}return d.push((0,r.Z)({},s,{format:n,maxLength:y,value:g,placeholder:f(e,t,s,n),hasLeadingZeros:c,hasLeadingZerosInFormat:c,hasLeadingZerosInInput:p,startSeparator:0===d.length?u:"",endSeparator:"",modified:!1})),null};let m=10,g=n,y=e.expandFormat(n);for(;y!==g;)if(g=y,y=e.expandFormat(g),m-=1,m<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const w=y,b=((e,t)=>{const n=[],{start:r,end:i}=e.escapedCharacters,o=new RegExp("(\\".concat(r,"[^\\").concat(i,"]*\\").concat(i,")+"),"g");let s=null;for(;s=o.exec(t);)n.push({start:s.index,end:o.lastIndex-1});return n})(e,w),T=new RegExp("^(".concat(Object.keys(e.formatTokenMap).join("|"),")"));let I="";for(let r=0;r<w.length;r+=1){const e=b.find((e=>e.start<=r&&e.end>=r)),t=w[r],n=null!=e,i="".concat(I).concat(w.slice(r));if(!n&&t.match(/([A-Za-z]+)/)&&T.test(i))I+=t;else{n&&(null==e?void 0:e.start)===r||(null==e?void 0:e.end)===r||(p(I),I="",0===d.length?u+=t:d[d.length-1].endSeparator+=t)}}return p(I),d.map((e=>{const t=e=>{let t=e;return c&&null!==t&&t.includes(" ")&&(t="\u2069".concat(t,"\u2066")),"spacious"===s&&["/",".","-"].includes(t)&&(t=" ".concat(t," ")),t};return e.startSeparator=t(e.startSeparator),e.endSeparator=t(e.endSeparator),e}))},w=(e,t)=>{const n=t.some((e=>"day"===e.type)),r=[],i=[];for(let a=0;a<t.length;a+=1){const e=t[a];n&&"weekDay"===e.type||(r.push(e.format),i.push(d(e,"non-input")))}const o=r.join(" "),s=i.join(" ");return e.parse(s,o)},b=(e,t)=>{const n=e.map((e=>{const n=d(e,t?"input-rtl":"input-ltr");return"".concat(e.startSeparator).concat(n).concat(e.endSeparator)})).join("");return t?"\u2066".concat(n,"\u2069"):n},T=e=>{const t=e.date(),n=e.endOfYear(t),{maxDaysInMonth:r,longestMonth:o}=(0,i.SV)(e,t).reduce(((t,n)=>{const r=e.getDaysInMonth(n);return r>t.maxDaysInMonth?{maxDaysInMonth:r,longestMonth:n}:t}),{maxDaysInMonth:0,longestMonth:null});return{year:t=>{let{format:n}=t;return{minimum:0,maximum:g(e,n)?9999:99}},month:()=>({minimum:1,maximum:e.getMonth(n)+1}),day:t=>{let{currentDate:n}=t;return{minimum:1,maximum:null!=n&&e.isValid(n)?e.getDaysInMonth(n):r,longestMonth:o}},weekDay:t=>{let{format:n,contentType:r}=t;if("digit"===r){const t=s(e,n).map(Number);return{minimum:Math.min(...t),maximum:Math.max(...t)}}return{minimum:1,maximum:7}},hours:r=>{let{format:i}=r;const o=e.getHours(n);return e.formatByString(e.endOfDay(t),i)!==o.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(t),i))}:{minimum:0,maximum:o}},minutes:()=>({minimum:0,maximum:e.getMinutes(n)}),seconds:()=>({minimum:0,maximum:e.getSeconds(n)}),meridiem:()=>({minimum:0,maximum:0})}};const I=(e,t)=>{0},x={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},S=(e,t,n,r,i)=>[...n].sort(((e,t)=>x[e.type]-x[t.type])).reduce(((n,r)=>!i||r.modified?((e,t,n,r)=>{switch(t.type){case"year":return e.setYear(r,e.getYear(n));case"month":return e.setMonth(r,e.getMonth(n));case"weekDay":{const r=s(e,t.format),i=e.formatByString(n,t.format),o=r.indexOf(i),a=r.indexOf(t.value)-o;return e.addDays(n,a)}case"day":return e.setDate(r,e.getDate(n));case"meridiem":{const t=e.getHours(n)<12,i=e.getHours(r);return t&&i>=12?e.addHours(r,-12):!t&&i<12?e.addHours(r,12):r}case"hours":return e.setHours(r,e.getHours(n));case"minutes":return e.setMinutes(r,e.getMinutes(n));case"seconds":return e.setSeconds(r,e.getSeconds(n));default:return r}})(e,r,t,n):n),r),k=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,C=(e,t,n)=>{if(!(t.every((e=>"weekDay"===e.type||""!==e.value))&&t.some((e=>"day"===e.type))))return null;const i=t.map((t=>{if("day"!==t.type)return t;const i=n.day({currentDate:null,format:t.format,contentType:t.contentType});return(0,r.Z)({},t,{value:c(e,i.minimum,i,t)})})),o=w(e,i);return null!=o&&e.isValid(o)?t.map((e=>{if("day"!==e.type)return e;const t=n.day({currentDate:o,format:e.format,contentType:e.contentType});return Number(e.value)<=t.maximum?e:(0,r.Z)({},e,{value:t.maximum.toString()})})):null},E=(e,t)=>{const n={};if(!t)return e.forEach(((t,r)=>{const i=0===r?null:r-1,o=r===e.length-1?null:r+1;n[r]={leftIndex:i,rightIndex:o}})),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},i={};let o=0,s=0,a=e.length-1;for(;a>=0;){s=e.findIndex(((e,t)=>{var n;return t>=o&&(null==(n=e.endSeparator)?void 0:n.includes(" "))&&" / "!==e.endSeparator})),-1===s&&(s=e.length-1);for(let e=s;e>=o;e-=1)i[e]=a,r[a]=e,a-=1;o=s+1}return e.forEach(((t,o)=>{const s=i[o],a=0===s?null:r[s-1],l=s===e.length-1?null:r[s+1];n[o]={leftIndex:a,rightIndex:l}})),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}}},7041:(e,t,n)=>{n.d(t,{s:()=>G});var r=n(7462),i=n(3366),o=n(2791),s=n(8069),a=n(8550),l=n(4121),c=n(8182),u=n(4419),d=n(6934),h=n(1402),p=n(5878),f=n(1217);function m(e){return(0,f.Z)("MuiDialogContent",e)}(0,p.Z)("MuiDialogContent",["root","dividers"]);const g=(0,p.Z)("MuiDialogTitle",["root"]);var v=n(184);const y=["className","dividers"],w=(0,d.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(g.root," + &")]:{paddingTop:0}})})),b=o.forwardRef((function(e,t){const n=(0,h.Z)({props:e,name:"MuiDialogContent"}),{className:o,dividers:s=!1}=n,a=(0,i.Z)(n,y),l=(0,r.Z)({},n,{dividers:s}),d=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,u.Z)(r,m,t)})(l);return(0,v.jsx)(w,(0,r.Z)({className:(0,c.Z)(d.root,o),ownerState:l,ref:t},a))}));var T=n(2003),I=n(6248),x=n(4036),S=n(3590),k=n(5527);function C(e){return(0,f.Z)("MuiDialog",e)}const E=(0,p.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const _=o.createContext({});var D=n(2739),P=n(3967);const A=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],R=(0,d.ZP)(D.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),M=(0,d.ZP)(S.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),N=(0,d.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat((0,x.Z)(n.scroll))]]}})((e=>{let{ownerState:t}=e;return(0,r.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),O=(0,d.ZP)(k.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat((0,x.Z)(n.scroll))],t["paperWidth".concat((0,x.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(E.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(E.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(E.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),Z=o.forwardRef((function(e,t){const n=(0,h.Z)({props:e,name:"MuiDialog"}),s=(0,P.Z)(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":d,BackdropComponent:p,BackdropProps:f,children:m,className:g,disableEscapeKeyDown:y=!1,fullScreen:w=!1,fullWidth:b=!1,maxWidth:S="sm",onBackdropClick:E,onClose:D,open:Z,PaperComponent:L=k.Z,PaperProps:F={},scroll:V="paper",TransitionComponent:U=T.Z,transitionDuration:j=a,TransitionProps:B}=n,q=(0,i.Z)(n,A),z=(0,r.Z)({},n,{disableEscapeKeyDown:y,fullScreen:w,fullWidth:b,maxWidth:S,scroll:V}),W=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container","scroll".concat((0,x.Z)(n))],paper:["paper","paperScroll".concat((0,x.Z)(n)),"paperWidth".concat((0,x.Z)(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,u.Z)(s,C,t)})(z),H=o.useRef(),G=(0,I.Z)(d),K=o.useMemo((()=>({titleId:G})),[G]);return(0,v.jsx)(M,(0,r.Z)({className:(0,c.Z)(W.root,g),closeAfterTransition:!0,components:{Backdrop:R},componentsProps:{backdrop:(0,r.Z)({transitionDuration:j,as:p},f)},disableEscapeKeyDown:y,onClose:D,open:Z,ref:t,onClick:e=>{H.current&&(H.current=null,E&&E(e),D&&D(e,"backdropClick"))},ownerState:z},q,{children:(0,v.jsx)(U,(0,r.Z)({appear:!0,in:Z,timeout:j,role:"presentation"},B,{children:(0,v.jsx)(N,{className:(0,c.Z)(W.container),onMouseDown:e=>{H.current=e.target===e.currentTarget},ownerState:z,children:(0,v.jsx)(O,(0,r.Z)({as:L,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":G},F,{className:(0,c.Z)(W.paper,F.className),ownerState:z,children:(0,v.jsx)(_.Provider,{value:K,children:m})}))})}))}))}));var L=n(219);const F=(0,d.ZP)(Z)({["& .".concat(E.container)]:{outline:0},["& .".concat(E.paper)]:{outline:0,minWidth:L.Pl}}),V=(0,d.ZP)(b)({"&:first-of-type":{padding:0}});function U(e){var t,n;const{children:i,onDismiss:o,open:s,slots:a,slotProps:l}=e,c=null!=(t=null==a?void 0:a.dialog)?t:F,u=null!=(n=null==a?void 0:a.mobileTransition)?n:T.Z;return(0,v.jsx)(c,(0,r.Z)({open:s,onClose:o},null==l?void 0:l.dialog,{TransitionComponent:u,TransitionProps:null==l?void 0:l.mobileTransition,PaperComponent:null==a?void 0:a.mobilePaper,PaperProps:null==l?void 0:l.mobilePaper,children:(0,v.jsx)(V,{children:i})}))}var j=n(293),B=n(4273),q=n(9818),z=n(1652),W=n(6784);const H=["props","getOpenDialogAriaText"],G=e=>{var t,n,c;let{props:u,getOpenDialogAriaText:d}=e,h=(0,i.Z)(e,H);const{slots:p,slotProps:f,className:m,sx:g,format:y,formatDensity:w,label:b,inputRef:T,readOnly:I,disabled:x,localeText:S}=u,k=(0,q.nB)(),C=o.useRef(null),E=(0,l.Z)(),_=null!=(t=null==f||null==(n=f.toolbar)?void 0:n.hidden)&&t,{open:D,actions:P,layoutProps:A,renderCurrentView:R,fieldProps:M}=(0,j.Q)((0,r.Z)({},h,{props:u,inputRef:C,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),N=p.field,O=(0,s.Z)({elementType:N,externalSlotProps:null==f?void 0:f.field,additionalProps:(0,r.Z)({},M,_&&{id:E},!(x||I)&&{onClick:P.onOpen,onKeyDown:(0,B.JW)(P.onOpen)},{readOnly:null==I||I,disabled:x,className:m,sx:g,format:y,formatDensity:w,label:b}),ownerState:u});O.inputProps=(0,r.Z)({},O.inputProps,{"aria-label":d(M.value,k)});const Z=(0,r.Z)({textField:p.textField},O.slots),L=null!=(c=p.layout)?c:W.ce,F=(0,a.Z)(C,O.inputRef,T);let V=E;_&&(V=b?"".concat(E,"-label"):void 0);const G=(0,r.Z)({},f,{toolbar:(0,r.Z)({},null==f?void 0:f.toolbar,{titleId:E}),mobilePaper:(0,r.Z)({"aria-labelledby":V},null==f?void 0:f.mobilePaper)});return{renderPicker:()=>(0,v.jsxs)(z._,{localeText:S,children:[(0,v.jsx)(N,(0,r.Z)({},O,{slots:Z,slotProps:G,inputRef:F})),(0,v.jsx)(U,(0,r.Z)({},P,{open:D,slots:p,slotProps:G,children:(0,v.jsx)(L,(0,r.Z)({},A,null==G?void 0:G.layout,{slots:p,slotProps:G,children:R()}))}))]})}}},293:(e,t,n)=>{n.d(t,{Q:()=>w});var r=n(7462),i=n(2791),o=n(8959),s=n(8394);var a=n(9818),l=n(5402);const c=e=>{let{props:t,valueManager:n,valueType:c,wrapperVariant:u,validator:d}=e;const{onAccept:h,onChange:p,value:f,defaultValue:m,closeOnSelect:g="desktop"===u,selectedSections:v,onSelectedSectionsChange:y}=t,{current:w}=i.useRef(m),{current:b}=i.useRef(void 0!==f);const T=(0,a.nB)(),I=(0,a.Do)(),[x,S]=(0,o.Z)({controlled:v,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:k,setIsOpen:C}=(e=>{let{open:t,onOpen:n,onClose:r}=e;const o=i.useRef("boolean"===typeof t).current,[s,a]=i.useState(!1);return i.useEffect((()=>{if(o){if("boolean"!==typeof t)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");a(t)}}),[o,t]),{isOpen:s,setIsOpen:i.useCallback((e=>{o||a(e),e&&n&&n(),!e&&r&&r()}),[o,n,r])}})(t),[E,_]=i.useState((()=>{let e;return e=void 0!==f?f:void 0!==w?w:n.emptyValue,{draft:e,lastPublishedValue:e,lastCommittedValue:e,lastControlledValue:f,hasBeenModifiedSinceMount:!1}}));(0,l.V)((0,r.Z)({},t,{value:E.draft}),d,n.isSameError,n.defaultErrorState);const D=(0,s.Z)((e=>{const i={action:e,dateState:E,hasChanged:t=>!n.areValuesEqual(T,e.value,t),isControlled:b,closeOnSelect:g},o=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i}=e,o=!i&&!r.hasBeenModifiedSinceMount;return"setValueFromField"===t.name||("setValueFromAction"===t.name?!(!o||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastPublishedValue):"setValueFromView"===t.name&&"shallow"!==t.selectionState&&(!!o||n(r.lastPublishedValue)))})(i),s=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i,closeOnSelect:o}=e,s=!i&&!r.hasBeenModifiedSinceMount;return"setValueFromAction"===t.name?!(!s||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastCommittedValue):!("setValueFromView"!==t.name||"finish"!==t.selectionState||!o)&&(!!s||n(r.lastCommittedValue))})(i),a=(e=>{const{action:t,closeOnSelect:n}=e;return"setValueFromAction"===t.name||"setValueFromView"===t.name&&"finish"===t.selectionState&&n})(i);if(_((t=>(0,r.Z)({},t,{draft:e.value,lastPublishedValue:o?e.value:t.lastPublishedValue,lastCommittedValue:s?e.value:t.lastCommittedValue,hasBeenModifiedSinceMount:!0}))),o&&p){const n={validationError:"setValueFromField"===e.name?e.context.validationError:d({adapter:I,value:e.value,props:(0,r.Z)({},t,{value:e.value})})};p(e.value,n)}s&&h&&h(e.value),a&&C(!1)}));if(void 0!==f&&(void 0===E.lastControlledValue||!n.areValuesEqual(T,E.lastControlledValue,f))){const e=n.areValuesEqual(T,E.draft,f);_((t=>(0,r.Z)({},t,{lastControlledValue:f},e?{}:{lastCommittedValue:f,lastPublishedValue:f,draft:f,hasBeenModifiedSinceMount:!0})))}const P=(0,s.Z)((()=>{D({value:n.emptyValue,name:"setValueFromAction",pickerAction:"clear"})})),A=(0,s.Z)((()=>{D({value:E.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})})),R=(0,s.Z)((()=>{D({value:E.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})})),M=(0,s.Z)((()=>{D({value:E.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})})),N=(0,s.Z)((()=>{D({value:n.getTodayValue(T,c),name:"setValueFromAction",pickerAction:"today"})})),O=(0,s.Z)((()=>C(!0))),Z=(0,s.Z)((()=>C(!1))),L=(0,s.Z)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"partial";return D({name:"setValueFromView",value:e,selectionState:t})})),F=(0,s.Z)(((e,t)=>D({name:"setValueFromField",value:e,context:t}))),V=(0,s.Z)((e=>{S(e),null==y||y(e)})),U={onClear:P,onAccept:A,onDismiss:R,onCancel:M,onSetToday:N,onOpen:O,onClose:Z},j={value:E.draft,onChange:F,selectedSections:x,onSelectedSectionsChange:V},B=i.useMemo((()=>n.cleanValue(T,E.draft)),[T,n,E.draft]);return{open:k,fieldProps:j,viewProps:{value:B,onChange:L,onClose:Z,open:k,onSelectedSectionsChange:V},layoutProps:(0,r.Z)({},U,{value:B,onChange:L,isValid:e=>{const i=d({adapter:I,value:e,props:(0,r.Z)({},t,{value:e})});return!n.hasError(i)}}),actions:U}};var u=n(3366),d=n(8559),h=n(8540),p=n(6176);const f=["className","sx"];var m=n(5721),g=n(4273);function v(){return"undefined"===typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"}const y=e=>{let{props:t,propsFromPickerValue:n,propsFromPickerViews:o,wrapperVariant:s}=e;const{orientation:a}=t,l=((e,t)=>{const[n,r]=i.useState(v);return(0,m.Z)((()=>{const e=()=>{r(v())};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}}),[]),!(0,g.kI)(e,["hours","minutes","seconds"])&&"landscape"===(t||n)})(o.views,a);return{layoutProps:(0,r.Z)({},o,n,{isLandscape:l,wrapperVariant:s,disabled:t.disabled,readOnly:t.readOnly})}},w=(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",n=!1;const r=Array.isArray(e)?e.join("\n"):e}(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),e=>{let{props:t,valueManager:n,valueType:o,wrapperVariant:a,inputRef:l,additionalViewProps:m,validator:g,autoFocusView:v}=e;const w=c({props:t,valueManager:n,valueType:o,wrapperVariant:a,validator:g}),b=(e=>{let{props:t,propsFromPickerValue:n,additionalViewProps:o,inputRef:a,autoFocusView:l}=e;const{onChange:c,open:m,onSelectedSectionsChange:g,onClose:v}=n,{views:y,openTo:w,onViewChange:b,disableOpenPicker:T,viewRenderers:I}=t,x=(0,u.Z)(t,f),{view:S,setView:k,defaultView:C,focusedView:E,setFocusedView:_,setValueAndGoToNextView:D}=(0,h.B)({view:void 0,views:y,openTo:w,onChange:c,onViewChange:b,autoFocus:l}),{hasUIView:P,viewModeLookup:A}=i.useMemo((()=>y.reduce(((e,t)=>{let n;return n=T?"field":null!=I[t]?"UI":"field",e.viewModeLookup[t]=n,"UI"===n&&(e.hasUIView=!0),e}),{hasUIView:!1,viewModeLookup:{}})),[T,I,y]),R=i.useMemo((()=>y.reduce(((e,t)=>null!=I[t]&&(0,p.Is)(t)?e+1:e),0)>1),[I,y]),M=A[S],N=(0,s.Z)((()=>"UI"===M)),[O,Z]=i.useState("UI"===M?S:null);return O!==S&&"UI"===A[S]&&Z(S),(0,d.default)((()=>{"field"===M&&m&&(v(),g("hours"),setTimeout((()=>{null==a||a.current.focus()})))}),[S]),(0,d.default)((()=>{if(!m)return;let e=S;"field"===M&&null!=O&&(e=O),e!==C&&"UI"===A[e]&&"UI"===A[C]&&(e=C),e!==S&&k(e),_(e,!0)}),[m]),{hasUIView:P,shouldRestoreFocus:N,layoutProps:{views:y,view:O,onViewChange:k},renderCurrentView:()=>{if(null==O)return null;const e=I[O];return null==e?null:e((0,r.Z)({},x,o,n,{views:y,onChange:D,view:O,onViewChange:k,focusedView:E,onFocusedViewChange:_,showViewSwitcher:R}))}}})({props:t,inputRef:l,additionalViewProps:m,autoFocusView:v,propsFromPickerValue:w.viewProps}),T=y({props:t,wrapperVariant:a,propsFromPickerValue:w.layoutProps,propsFromPickerViews:b.layoutProps});return{open:w.open,actions:w.actions,fieldProps:w.fieldProps,renderCurrentView:b.renderCurrentView,hasUIView:b.hasUIView,shouldRestoreFocus:b.shouldRestoreFocus,layoutProps:T.layoutProps}})},9818:(e,t,n)=>{n.d(t,{PP:()=>d,og:()=>h,Do:()=>c,mX:()=>p,nB:()=>u});var r=n(7462),i=n(2791),o=n(1652);const s={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>"Select ".concat(e,". ").concat(null===t?"No time selected":"Selected time is ".concat(n.format(t,"fullTime"))),hoursClockNumberText:e=>"".concat(e," hours"),minutesClockNumberText:e=>"".concat(e," minutes"),secondsClockNumberText:e=>"".concat(e," seconds"),selectViewText:e=>"Select ".concat(e),calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>"Week ".concat(e),calendarWeekNumberText:e=>"".concat(e),openDatePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?"Choose date, selected date is ".concat(t.format(e,"fullDate")):"Choose date",openTimePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?"Choose time, selected time is ".concat(t.format(e,"fullTime")):"Choose time",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},a=s;l=s,(0,r.Z)({},l);var l;const c=()=>{const e=i.useContext(o.y);if(null===e)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(null===e.utils)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const t=i.useMemo((()=>(0,r.Z)({},a,e.localeText)),[e.localeText]);return i.useMemo((()=>(0,r.Z)({},e,{localeText:t})),[e,t])},u=()=>c().utils,d=()=>c().defaultDates,h=()=>c().localeText,p=()=>{const e=u();return i.useRef(e.date()).current}},5402:(e,t,n)=>{n.d(t,{V:()=>o});var r=n(2791),i=n(9818);function o(e,t,n,o){const{value:s,onError:a}=e,l=(0,i.Do)(),c=r.useRef(o),u=t({adapter:l,value:s,props:e});return r.useEffect((()=>{a&&!n(u,c.current)&&a(u,s),c.current=u}),[n,a,c,u,s]),u}},8540:(e,t,n)=>{n.d(t,{B:()=>s});var r=n(2791),i=n(8394),o=n(8959);function s(e){let{onChange:t,onViewChange:n,openTo:s,view:a,views:l,autoFocus:c,focusedView:u,onFocusedViewChange:d}=e;var h,p;const f=r.useRef(s),m=r.useRef(l),g=r.useRef(l.includes(s)?s:l[0]),[v,y]=(0,o.Z)({name:"useViews",state:"view",controlled:a,default:g.current}),w=r.useRef(c?v:null),[b,T]=(0,o.Z)({name:"useViews",state:"focusedView",controlled:u,default:w.current});r.useEffect((()=>{(f.current&&f.current!==s||m.current&&m.current.some((e=>!l.includes(e))))&&(y(l.includes(s)?s:l[0]),m.current=l,f.current=s)}),[s,y,v,l]);const I=l.indexOf(v),x=null!=(h=l[I-1])?h:null,S=null!=(p=l[I+1])?p:null,k=(0,i.Z)((e=>{e!==v&&(y(e),n&&n(e))})),C=(0,i.Z)(((e,t)=>{T(t?e:t=>e===t?null:t),null==d||d(e,t)})),E=(0,i.Z)((()=>{S&&k(S),C(S,!0)})),_=(0,i.Z)(((e,n,r)=>{const i="finish"===n,o=r?l.indexOf(r)<l.length-1:Boolean(S);t(e,i&&o?"partial":n),i&&E()})),D=(0,i.Z)(((e,n,r)=>{t(e,n?"partial":"finish",r),n&&(k(n),C(n,!0))}));return{view:v,setView:k,focusedView:b,setFocusedView:C,nextView:S,previousView:x,defaultView:g.current,goToNextView:E,setValueAndGoToNextView:_,setValueAndGoToView:D}}},1267:(e,t,n)=>{n.d(t,{LZ:()=>a,SV:()=>l,US:()=>s,ai:()=>o,uZ:()=>i,xP:()=>r,zu:()=>c});const r=e=>{let{date:t,disableFuture:n,disablePast:r,maxDate:i,minDate:o,isDateDisabled:s,utils:a}=e;const l=a.startOfDay(a.date());r&&a.isBefore(o,l)&&(o=l),n&&a.isAfter(i,l)&&(i=l);let c=t,u=t;for(a.isBefore(t,o)&&(c=o,u=null),a.isAfter(t,i)&&(u&&(u=i),c=null);c||u;){if(c&&a.isAfter(c,i)&&(c=null),u&&a.isBefore(u,o)&&(u=null),c){if(!s(c))return c;c=a.addDays(c,1)}if(u){if(!s(u))return u;u=a.addDays(u,-1)}}return null},i=(e,t,n,r)=>e.isBefore(t,n)?n:e.isAfter(t,r)?r:t,o=(e,t)=>null!=t&&e.isValid(t)?t:null,s=(e,t,n)=>null!=t&&e.isValid(t)?t:n,a=(e,t,n)=>!e.isValid(t)&&null!=t&&!e.isValid(n)&&null!=n||e.isEqual(t,n),l=(e,t)=>{const n=[e.startOfYear(t)];for(;n.length<12;){const t=n[n.length-1];n.push(e.addMonths(t,1))}return n},c=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r}},8243:(e,t,n)=>{n.d(t,{_:()=>s});var r=n(7462),i=n(7812);const o=["value","defaultValue","format","formatDensity","onChange","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],s=(e,t)=>{const n=(0,r.Z)({},e),s={},a=e=>{n.hasOwnProperty(e)&&(s[e]=n[e],delete n[e])};return o.forEach(a),"date"===t?i.I.forEach(a):"time"===t?i.Rk.forEach(a):"date-time"===t&&(i.I.forEach(a),i.Rk.forEach(a),i.Gf.forEach(a)),{forwardedProps:n,internalProps:s}}},7278:(e,t,n)=>{n.d(t,{S:()=>i});var r=n(7462);const i=e=>{if(void 0!==e)return Object.keys(e).reduce(((t,n)=>(0,r.Z)({},t,{["".concat(n.slice(0,1).toLowerCase()).concat(n.slice(1))]:e[n]})),{})}},6176:(e,t,n)=>{n.d(t,{Is:()=>i,X4:()=>c,b_:()=>s,wp:()=>a,xX:()=>o});const r=["hours","minutes","seconds"],i=e=>r.includes(e),o=(e,t)=>e?t.getHours(e)>=12?"pm":"am":null,s=(e,t,n)=>{if(n){if((e>=12?"pm":"am")!==t)return"am"===t?e-12:e+12}return e},a=(e,t,n,r)=>{const i=s(r.getHours(e),t,n);return r.setHours(e,i)},l=(e,t)=>3600*t.getHours(e)+60*t.getMinutes(e)+t.getSeconds(e),c=(e,t)=>(n,r)=>e?t.isAfter(n,r):l(n,t)>l(r,t)},4273:(e,t,n)=>{function r(e,t){return Array.isArray(t)?t.every((t=>-1!==e.indexOf(t))):-1!==e.indexOf(t)}n.d(t,{Hr:()=>s,JW:()=>i,kI:()=>r,vY:()=>o});const i=(e,t)=>n=>{"Enter"!==n.key&&" "!==n.key||(e(n),n.preventDefault(),n.stopPropagation()),t&&t(n)},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.activeElement;return t?t.shadowRoot?o(t.shadowRoot):t:null},s="@media (pointer: fine)"},7812:(e,t,n)=>{n.d(t,{Gf:()=>o,I:()=>r,Rk:()=>i,f_:()=>a});const r=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],i=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],o=["minDateTime","maxDateTime"],s=[...r,...i,...o],a=e=>s.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})},3564:(e,t,n)=>{n.d(t,{a:()=>s,h:()=>o});var r=n(1267),i=n(6668);const o={emptyValue:null,getTodayValue:(e,t)=>"date"===t?e.startOfDay(e.date()):e.date(),cleanValue:r.ai,areValuesEqual:r.LZ,isSameError:(e,t)=>e===t,hasError:e=>null!=e,defaultErrorState:null},s={updateReferenceValue:(e,t,n)=>null!=t&&e.isValid(t)?t:n,getSectionsFromValue:(e,t,n,r,o)=>!e.isValid(t)&&!!n?n:(0,i.qc)(o(t),r),getValueStrFromSections:i.WE,getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:null!=n&&e.isValid(n)?n:t.referenceValue})}),parseValueStr:(e,t,n)=>n(e.trim(),t)}},4458:(e,t,n)=>{n.d(t,{$M:()=>r,bn:()=>i,dK:()=>o});const r=e=>1===e.length&&"year"===e[0],i=e=>2===e.length&&-1!==e.indexOf("month")&&-1!==e.indexOf("year"),o=e=>{let{openTo:t,defaultOpenTo:n,views:r,defaultViews:i}=e;const o=null!=r?r:i;let s;if(null!=t)s=t;else if(o.includes(n))s=n;else{if(!(o.length>0))throw new Error("MUI: The `views` prop must contain at least one view");s=o[0]}return{views:o,openTo:s}}},1535:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},i={p:r,P:function(e,t){var i,o=e.match(/(P+)(p+)?/)||[],s=o[1],a=o[2];if(!a)return n(e,t);switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",n(s,t)).replace("{{time}}",r(a,t))}};t.default=i,e.exports=t.default},542:(e,t,n)=>{function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=n(9271),o=r(n(2791)),s=n(2610);n(2007),n(5501);var a=r(n(90));function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function u(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createBrowserHistory(t.props),t}return c(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createHashHistory(t.props),t}return c(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component),p=function(e,t){return"function"==typeof e?e(t):e},f=function(e,t){return"string"==typeof e?s.createLocation(e,null,null,t):e},m=function(e){return e},g=o.forwardRef;void 0===g&&(g=m);var v=g((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,s=u(e,["innerRef","navigate","onClick"]),a=s.target,c=l({},s,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return c.ref=m!==g&&t||n,o.createElement("a",c)})),y=g((function(e,t){var n=e.component,r=void 0===n?v:n,s=e.replace,c=e.to,d=e.innerRef,h=u(e,["component","replace","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||a(!1);var n=e.history,i=f(p(c,e.location),e.location),u=i?n.createHref(i):"",v=l({},h,{href:u,navigate:function(){var t=p(c,e.location);(s?n.replace:n.push)(t)}});return m!==g?v.ref=t||d:v.innerRef=d,o.createElement(r,v)}))})),w=function(e){return e},b=o.forwardRef;void 0===b&&(b=w);var T=b((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,s=e.activeClassName,c=void 0===s?"active":s,d=e.activeStyle,h=e.className,m=e.exact,g=e.isActive,v=e.location,T=e.sensitive,I=e.strict,x=e.style,S=e.to,k=e.innerRef,C=u(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||a(!1);var n=v||e.location,s=f(p(S,n),n),u=s.pathname,E=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=E?i.matchPath(n.pathname,{path:E,exact:m,sensitive:T,strict:I}):null,D=!!(g?g(_,n):_),P=D?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(h,c):h,A=D?l({},x,{},d):x,R=l({"aria-current":D&&r||null,className:P,style:A,to:s},C);return w!==b?R.ref=t||k:R.innerRef=k,o.createElement(y,R)}))}));Object.defineProperty(t,"k6",{enumerable:!0,get:function(){return i.useHistory}})},8875:(e,t,n)=>{n.d(t,{ZP:()=>v});var r=n(3366),i=n(4578),o=n(2791),s=n(4164);const a=!1;var l=n(5545),c=n(8852),u="unmounted",d="exited",h="entering",p="entered",f="exiting",m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=d,r.appearStatus=h):i=p:i=t.unmountOnExit||t.mountOnEnter?u:d,r.state={status:i},r.nextCallback=null,r}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==p&&(t=h):n!==h&&n!==p||(t=f)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===h){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&(0,c.Q)(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],o=i[0],l=i[1],c=this.getTimeouts(),u=r?c.appear:c.enter;!e&&!n||a?this.safeSetState({status:p},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,l),this.safeSetState({status:h},(function(){t.props.onEntering(o,l),t.onTransitionEnd(u,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(o,l)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!a?(this.props.onExit(r),this.safeSetState({status:f},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(l.Z.Provider,{value:null},"function"===typeof n?n(e,i):o.cloneElement(o.Children.only(n),i))},t}(o.Component);function g(){}m.contextType=l.Z,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},m.UNMOUNTED=u,m.EXITED=d,m.ENTERING=h,m.ENTERED=p,m.EXITING=f;const v=m},8852:(e,t,n)=>{n.d(t,{Q:()=>r});var r=function(e){return e.scrollTop}},166:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(5854),i=n(3258),o=n(7825),s=n(6781);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,o._addComponent)(e,new i.wA("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,o._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,o._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},c=new r.LL("app-compat","Firebase",l);const u=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=o.initializeApp(i,s);if((0,r.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:i,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){const s=t.name,a=s.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw c.create("invalid-app-argument",{appName:s});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){const e=this._getService.bind(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:o}};function i(e){if(e=e||o._DEFAULT_ENTRY_NAME,!(0,r.r3)(t,e))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),d=new s.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=u;var p;(0,o.registerVersion)("@firebase/app-compat","0.2.10",p)},7825:(e,t,n)=>{n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>U,_DEFAULT_ENTRY_NAME:()=>E,_addComponent:()=>A,_addOrOverwriteComponent:()=>R,_apps:()=>D,_clearComponents:()=>Z,_components:()=>P,_getProvider:()=>N,_registerComponent:()=>M,_removeServiceInstance:()=>O,deleteApp:()=>z,getApp:()=>B,getApps:()=>q,initializeApp:()=>j,onLog:()=>H,registerVersion:()=>W,setLogLevel:()=>G});var r=n(3258),i=n(6781),o=n(5854),s=n(1413);let a,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),v(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(y(this),t,...r);return d.set(o,t.sort?t.sort():[t]),v(o)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));u.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,f):e);var t}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(v(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),p.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),p.set(t,e)),t}const y=e=>p.get(e);const w=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],T=new Map;function I(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(T.get(t))return T.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!w.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return T.set(t,o),o}f=(e=>(0,s.Z)((0,s.Z)({},e),{},{get:(t,n,r)=>I(t,n)||e.get(t,n,r),has:(t,n)=>!!I(t,n)||e.has(t,n)}))(f);class x{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const S="@firebase/app",k="0.9.10",C=new i.Yd("@firebase/app"),E="[DEFAULT]",_={[S]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},D=new Map,P=new Map;function A(e,t){try{e.container.addComponent(t)}catch(n){C.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function R(e,t){e.container.addOrOverwriteComponent(t)}function M(e){const t=e.name;if(P.has(t))return C.debug("There were multiple attempts to register component ".concat(t,".")),!1;P.set(t,e);for(const n of D.values())A(n,e);return!0}function N(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function O(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;N(e,t).clearInstance(n)}function Z(){P.clear()}const L={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},F=new o.LL("app","Firebase",L);class V{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw F.create("app-deleted",{appName:this._name})}}const U="9.22.0";function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:E,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!==typeof s||!s)throw F.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.aH)()),!n)throw F.create("no-options");const a=D.get(s);if(a){if((0,o.vZ)(n,a.options)&&(0,o.vZ)(i,a.config))return a;throw F.create("duplicate-app",{appName:s})}const l=new r.H0(s);for(const r of P.values())l.addComponent(r);const c=new V(n,i,l);return D.set(s,c),c}function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;const t=D.get(e);if(!t&&e===E&&(0,o.aH)())return j();if(!t)throw F.create("no-app",{appName:e});return t}function q(){return Array.from(D.values())}async function z(e){const t=e.name;D.has(t)&&(D.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function W(e,t,n){var i;let o=null!==(i=_[e])&&void 0!==i?i:e;n&&(o+="-".concat(n));const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void C.warn(e.join(" "))}M(new r.wA("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}function H(e,t){if(null!==e&&"function"!==typeof e)throw F.create("invalid-log-argument");(0,i.Am)(e,t)}function G(e){(0,i.Ub)(e)}const K="firebase-heartbeat-store";let Y=null;function Q(){return Y||(Y=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=v(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(v(s.result),e.oldVersion,e.newVersion,v(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(K)}}).catch((e=>{throw F.create("idb-open",{originalErrorMessage:e.message})}))),Y}async function X(e,t){try{const n=(await Q()).transaction(K,"readwrite"),r=n.objectStore(K);await r.put(t,J(e)),await n.done}catch(n){if(n instanceof o.ZR)C.warn(n.message);else{const e=F.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});C.warn(e.message)}}}function J(e){return"".concat(e.name,"!").concat(e.options.appId)}const $=1024;class ee{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ne(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=te();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=te(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),re(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),re(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,o.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function te(){return(new Date).toISOString().substring(0,10)}class ne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.hl)()&&(0,o.eu)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await Q();return await t.transaction(K).objectStore(K).get(J(e))}catch(t){if(t instanceof o.ZR)C.warn(t.message);else{const e=F.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});C.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return X(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return X(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function re(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}var ie;ie="",M(new r.wA("platform-logger",(e=>new x(e)),"PRIVATE")),M(new r.wA("heartbeat",(e=>new ee(e)),"PRIVATE")),W(S,k,ie),W(S,k,"esm2017"),W("fire-js","")},3258:(e,t,n)=>{n.d(t,{H0:()=>a,wA:()=>i});var r=n(5854);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},6781:(e,t,n)=>{n.d(t,{Am:()=>d,Ub:()=>u,Yd:()=>c,in:()=>i});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function u(e){r.forEach((t=>{t.setLogLevel(e)}))}function d(e,t){for(const n of r){let r=null;t&&t.level&&(r=o[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];const l=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:l,args:s,type:t.name})}}}},181:(e,t,n)=>{n.d(t,{Z:()=>r.Z});var r=n(166);r.Z.registerVersion("firebase","9.22.0","app-compat")},7591:(e,t,n)=>{var r=n(166),i=n(5854),o=n(7825);function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var a=n(6781),l=n(3258);const c="facebook.com",u="github.com",d="google.com",h="password",p="twitter.com",f="EMAIL_SIGNIN",m="PASSWORD_RESET",g="RECOVER_EMAIL",v="REVERT_SECOND_FACTOR_ADDITION",y="VERIFY_AND_CHANGE_EMAIL",w="VERIFY_EMAIL";function b(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},I=b,x=new i.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),S=new a.Yd("@firebase/auth");function k(e){if(S.logLevel<=a.in.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];S.error("Auth (".concat(o.SDK_VERSION,"): ").concat(e),...n)}}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw P(e,...n)}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return P(e,...n)}function _(e,t,n){const r=Object.assign(Object.assign({},I()),{[t]:n});return new i.LL("auth","Firebase",r).create(t,{appName:e.name})}function D(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&C(e,"argument-error"),_(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return x.create(e,...n)}function A(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw P(t,...r)}}function R(e){const t="INTERNAL ASSERTION FAILED: "+e;throw k(t),new Error(t)}function M(e,t){e||R(t)}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function O(){return"http:"===Z()||"https:"===Z()}function Z(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class L{constructor(e,t){this.shortDelay=e,this.longDelay=t,M(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(O()||(0,i.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function F(e,t){M(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class V{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void R("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void R("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void R("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const U={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},j=new L(3e4,6e4);function B(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function q(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return z(e,o,(async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=(0,i.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),V.fetch()(H(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))}))}async function z(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},U),t);try{const t=new G(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw K(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw K(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw K(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw K(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw _(e,a,s);C(e,a)}}catch(o){if(o instanceof i.ZR)throw o;C(e,"network-request-failed",{message:String(o)})}}async function W(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await q(e,t,n,r,i);return"mfaPendingCredential"in o&&C(e,"multi-factor-auth-required",{_serverResponse:o}),o}function H(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?F(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class G{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(E(this.auth,"network-request-failed"))),j.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function K(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=E(e,t,r);return i.customData._tokenResponse=n,i}function Y(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Q(e){return 1e3*Number(e)}function X(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return k("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.tV)(n);return e?JSON.parse(e):(k("Failed to decode base64 JWT payload"),null)}catch(o){return k("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}async function J(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return t;try{return await t}catch(r){throw r instanceof i.ZR&&$(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function $(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Y(this.lastLoginAt),this.creationTime=Y(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ne(e){var t;const n=e.auth,r=await e.getIdToken(),i=await J(e,async function(e,t){return q(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));A(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const l=(c=e.providerData,u=a,[...c.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var c,u;const d=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===l||void 0===l?void 0:l.length),p=!!d&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new te(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(e,f)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A("undefined"!==typeof e.idToken,"internal-error"),A("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=X(e);return A(t,"internal-error"),A("undefined"!==typeof t.exp,"internal-error"),A("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return A(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await z(e,{},(async()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=H(e,r,"/v1/token","key=".concat(o)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",V.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new re;return n&&(A("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(A("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(A("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return R("not implemented")}}function ie(e,t){A("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class oe{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new te(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await J(this,this.stsTokenManager.getToken(this.auth,e));return A(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.m9)(e),r=await n.getIdToken(t),o=X(r);A(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:Y(Q(o.auth_time)),issuedAtTime:Y(Q(o.iat)),expirationTime:Y(Q(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.m9)(e);await ne(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oe(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ne(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await J(this,async function(e,t){return q(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:T,stsTokenManager:I}=t;A(y&&I,e,"internal-error");const x=re.fromJSON(this.name,I);A("string"===typeof y,e,"internal-error"),ie(u,e.name),ie(d,e.name),A("boolean"===typeof w,e,"internal-error"),A("boolean"===typeof b,e,"internal-error"),ie(h,e.name),ie(p,e.name),ie(f,e.name),ie(m,e.name),ie(g,e.name),ie(v,e.name);const S=new oe({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:x,createdAt:g,lastLoginAt:v});return T&&Array.isArray(T)&&(S.providerData=T.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new re;r.updateFromServerResponse(t);const i=new oe({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ne(i),i}}const se=new Map;function ae(e){M(e instanceof Function,"Expected a class definition");let t=se.get(e);return t?(M(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,se.set(e,t),t)}class le{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}le.type="NONE";const ce=le;function ue(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class de{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ue(this.userKey,r.apiKey,i),this.fullPersistenceKey=ue("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oe._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new de(ae(ce),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ae(ce);const o=ue(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=oe._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new de(i,e,n)):new de(i,e,n)}}function he(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ge(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ye(t))return"Blackberry";if(we(t))return"Webos";if(fe(t))return"Safari";if((t.includes("chrome/")||me(t))&&!t.includes("edge/"))return"Chrome";if(ve(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/firefox\//i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/crios\//i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/iemobile/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/android/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/blackberry/i.test(e)}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/webos/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();var t;return be(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function Ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return be(e)||ve(e)||we(e)||ye(e)||/windows phone/i.test(e)||ge(e)}function xe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=he((0,i.z$)());break;case"Worker":t="".concat(he((0,i.z$)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(o.SDK_VERSION,"/").concat(r)}async function Se(e,t){return q(e,"GET","/v2/recaptchaConfig",B(e,t))}function ke(e){return void 0!==e&&void 0!==e.getResponse}function Ce(e){return void 0!==e&&void 0!==e.enterprise}class Ee{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function _e(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=E("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function De(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Pe{constructor(e){this.type="recaptcha-enterprise",this.auth=Ne(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ce(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Se(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ee(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ce(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));_e("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ae(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Pe(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class Re{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Me{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oe(this),this.idTokenSubscription=new Oe(this),this.beforeStateQueue=new Re(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ae(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await de.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return A(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ne(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,i.m9)(e):null;return t&&A(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&A(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ae(e))}))}async initializeRecaptchaConfig(){const e=await Se(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Ee(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Pe(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ae(e)||this._popupRedirectResolver;A(t,this,"argument-error"),this.redirectPersistenceManager=await de.create(this,[ae(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(S.logLevel<=a.in.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];S.warn("Auth (".concat(o.SDK_VERSION,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ne(e){return(0,i.m9)(e)}class Oe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)((e=>this.observer=e))}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ze(e,t,n){const r=Ne(e);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Le(t),{host:s,port:a}=function(e){const t=Le(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Fe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Fe(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Le(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ve{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return R("not implemented")}_getIdTokenResponse(e){return R("not implemented")}_linkToIdToken(e,t){return R("not implemented")}_getReauthenticationResolver(e){return R("not implemented")}}async function Ue(e,t){return q(e,"POST","/v1/accounts:resetPassword",B(e,t))}async function je(e,t){return q(e,"POST","/v1/accounts:update",t)}async function Be(e,t){return W(e,"POST","/v1/accounts:signInWithPassword",B(e,t))}async function qe(e,t){return q(e,"POST","/v1/accounts:sendOobCode",B(e,t))}async function ze(e,t){return qe(e,t)}async function We(e,t){return qe(e,t)}class He extends Ve{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new He(e,t,"password")}static _fromEmailAndCode(e,t){return new He(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ae(e,n,"signInWithPassword");return Be(e,t)}return Be(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ae(e,n,"signInWithPassword");return Be(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return W(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}(e,{email:this._email,oobCode:this._password});default:C(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return je(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return W(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:C(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ge(e,t){return W(e,"POST","/v1/accounts:signInWithIdp",B(e,t))}class Ke extends Ve{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ke(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):C("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ke(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Ge(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ge(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ge(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}const Ye={USER_NOT_FOUND:"user-not-found"};class Qe extends Ve{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return W(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await W(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t));if(n.temporaryProof)throw K(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return W(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ye)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Qe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Xe{constructor(e){var t,n,r,o,s,a;const l=(0,i.zd)((0,i.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);A(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,i.zd)((0,i.pd)(e)).link,n=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(e)).deep_link_id;return(r?(0,i.zd)((0,i.pd)(r)).link:null)||r||n||t||e}(e);try{return new Xe(t)}catch(n){return null}}}class Je{constructor(){this.providerId=Je.PROVIDER_ID}static credential(e,t){return He._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xe.parseLink(t);return A(n,"argument-error"),He._fromEmailAndCode(e,n.code,n.tenantId)}}Je.PROVIDER_ID="password",Je.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Je.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $e{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class et extends $e{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tt extends et{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return A("providerId"in t&&"signInMethod"in t,"argument-error"),Ke._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return A(e.idToken||e.accessToken,"argument-error"),Ke._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new tt(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(l){return null}}}class nt extends et{constructor(){super("facebook.com")}static credential(e){return Ke._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nt.credential(t.oauthAccessToken)}catch(n){return null}}}nt.FACEBOOK_SIGN_IN_METHOD="facebook.com",nt.PROVIDER_ID="facebook.com";class rt extends et{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ke._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rt.credential(n,r)}catch(i){return null}}}rt.GOOGLE_SIGN_IN_METHOD="google.com",rt.PROVIDER_ID="google.com";class it extends et{constructor(){super("github.com")}static credential(e){return Ke._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return it.credential(t.oauthAccessToken)}catch(n){return null}}}it.GITHUB_SIGN_IN_METHOD="github.com",it.PROVIDER_ID="github.com";class ot extends Ve{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ge(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ge(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ge(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new ot(n,i):null}static _create(e,t){return new ot(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class st extends $e{constructor(e){A(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return st.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return st.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ot.fromJSON(e);return A(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return ot._create(r,n)}catch(i){return null}}}class at extends et{constructor(){super("twitter.com")}static credential(e,t){return Ke._fromParams({providerId:at.PROVIDER_ID,signInMethod:at.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return at.credentialFromTaggedObject(e)}static credentialFromError(e){return at.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return at.credential(n,r)}catch(i){return null}}}async function lt(e,t){return W(e,"POST","/v1/accounts:signUp",B(e,t))}at.TWITTER_SIGN_IN_METHOD="twitter.com",at.PROVIDER_ID="twitter.com";class ct{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await oe._fromIdTokenResponse(e,n,r),o=ut(n);return new ct({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ut(n);return new ct({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ut(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class dt extends i.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,dt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new dt(e,t,n,r)}}function ht(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw dt._fromErrorAndOperation(e,n,t,r);throw n}))}function pt(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function ft(e,t){const n=(0,i.m9)(e);await gt(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return q(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),o=pt(r||[]);return n.providerData=n.providerData.filter((e=>o.has(e.providerId))),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function mt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await J(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ct._forOperation(e,"link",r)}async function gt(e,t,n){await ne(t);const r=!1===e?"provider-already-linked":"no-such-provider";A(pt(t.providerData).has(n)===e,t.auth,r)}async function vt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await J(e,ht(r,i,t,e),n);A(o.idToken,r,"internal-error");const s=X(o.idToken);A(s,r,"internal-error");const{sub:a}=s;return A(e.uid===a,r,"user-mismatch"),ct._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&C(r,"user-mismatch"),o}}async function yt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await ht(e,r,t),o=await ct._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function wt(e,t){return yt(Ne(e),t)}async function bt(e,t){const n=(0,i.m9)(e);return await gt(!1,n,t.providerId),mt(n,t)}async function Tt(e,t){return vt((0,i.m9)(e),t)}async function It(e,t){const n=Ne(e),r=await async function(e,t){return W(e,"POST","/v1/accounts:signInWithCustomToken",B(e,t))}(n,{token:t,returnSecureToken:!0}),i=await ct._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class xt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?St._fromServerResponse(e,t):"totpInfo"in t?kt._fromServerResponse(e,t):C(e,"internal-error")}}class St extends xt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new St(t)}}class kt extends xt{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new kt(t)}}function Ct(e,t,n){var r;A((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),A("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(A(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(A(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Et(e,t){await async function(e,t){return q(e,"POST","/v1/accounts:update",B(e,t))}((0,i.m9)(e),{oobCode:t})}async function _t(e,t){const n=(0,i.m9)(e),r=await Ue(n,{oobCode:t}),o=r.requestType;switch(A(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":A(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":A(r.mfaInfo,n,"internal-error");default:A(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=xt._fromServerResponse(Ne(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:o}}async function Dt(e,t){const n={identifier:t,continueUri:O()?N():"http://localhost"},{signinMethods:r}=await async function(e,t){return q(e,"POST","/v1/accounts:createAuthUri",B(e,t))}((0,i.m9)(e),n);return r||[]}async function Pt(e,t){const n=(0,i.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ct(n.auth,r,t);const{email:o}=await async function(e,t){return qe(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function At(e,t,n){const r=(0,i.m9)(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Ct(r.auth,o,n);const{email:s}=await async function(e,t){return qe(e,t)}(r.auth,o);s!==e.email&&await e.reload()}async function Rt(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=(0,i.m9)(e),s={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await J(o,async function(e,t){return q(e,"POST","/v1/accounts:update",t)}(o.auth,s));o.displayName=a.displayName||null,o.photoURL=a.photoUrl||null;const l=o.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),await o._updateTokensIfNecessary(a)}async function Mt(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await J(e,je(r,i));await e._updateTokensIfNecessary(o,!0)}class Nt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ot extends Nt{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Zt extends Nt{constructor(e,t){super(e,"facebook.com",t)}}class Lt extends Ot{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Ft extends Nt{constructor(e,t){super(e,"google.com",t)}}class Vt extends Ot{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Ut(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=X(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Nt(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Zt(o,i);case"github.com":return new Lt(o,i);case"google.com":return new Ft(o,i);case"twitter.com":return new Vt(o,i,e.screenName||null);case"custom":case"anonymous":return new Nt(o,null);default:return new Nt(o,r,i)}}(n)}class jt{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new jt("enroll",e,t)}static _fromMfaPendingCredential(e){return new jt("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return jt._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return jt._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Bt{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ne(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>xt._fromServerResponse(n,e)));A(r.mfaPendingCredential,n,"internal-error");const o=jt._fromMfaPendingCredential(r.mfaPendingCredential);return new Bt(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await ct._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return A(t.user,n,"internal-error"),ct._forOperation(t.user,t.operationType,s);default:C(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class qt{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>xt._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new qt(e)}async getSession(){return jt._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await J(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await J(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},q(r,"POST","/v2/accounts/mfaEnrollment:withdraw",B(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var r,i}}const zt=new WeakMap;const Wt="__sak";class Ht{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wt,"1"),this.storage.removeItem(Wt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Gt extends Ht{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,i.z$)();return fe(e)||be(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ie(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gt.type="LOCAL";const Kt=Gt;class Yt extends Ht{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Yt.type="SESSION";const Qt=Yt;class Xt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Xt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Jt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xt.receivers=[];class $t{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Jt("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function en(){return window}function tn(){return"undefined"!==typeof en().WorkerGlobalScope&&"function"===typeof en().importScripts}const nn="firebaseLocalStorageDb",rn="firebaseLocalStorage",on="fbase_key";class sn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function an(e,t){return e.transaction([rn],t?"readwrite":"readonly").objectStore(rn)}function ln(){const e=indexedDB.open(nn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(rn,{keyPath:on})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(rn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(nn);return new sn(e).toPromise()}(),t(await ln()))}))}))}async function cn(e,t,n){const r=an(e,!0).put({[on]:t,value:n});return new sn(r).toPromise()}function un(e,t){const n=an(e,!0).delete(t);return new sn(n).toPromise()}class dn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ln()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xt._getInstance(tn()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new $t(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ln();return await cn(e,Wt,"1"),await un(e,Wt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>cn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=an(e,!1).get(t),r=await new sn(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>un(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=an(e,!1).getAll();return new sn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}dn.type="LOCAL";const hn=dn;const pn=1e12;class fn{constructor(e){this.auth=e,this.counter=pn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new mn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||pn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||pn;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||pn;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class mn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;A(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gn=De("rcb"),vn=new L(3e4,6e4);class yn{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=en().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return A(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ke(en().grecaptcha)?Promise.resolve(en().grecaptcha):new Promise(((n,r)=>{const o=en().setTimeout((()=>{r(E(e,"network-request-failed"))}),vn.get());en()[gn]=()=>{en().clearTimeout(o),delete en()[gn];const i=en().grecaptcha;if(!i||!ke(i))return void r(E(e,"internal-error"));const s=i.render;i.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};_e("".concat("https://www.google.com/recaptcha/api.js?","?").concat((0,i.xO)({onload:gn,render:"explicit",hl:t}))).catch((()=>{clearTimeout(o),r(E(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=en().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wn{async load(e){return new fn(e)}clearedOneInstance(){}}const bn="recaptcha",Tn={theme:"light",type:"image"};class In{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Tn),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=bn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ne(n),this.isInvisible="invisible"===this.parameters.size,A("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;A(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wn:new yn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){A(!this.parameters.sitekey,this.auth,"argument-error"),A(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),A("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=en()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){A(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){A(O()&&!tn(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await q(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);A(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return A(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Qe._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Sn(e,t,n){var r;const i=await n.verify();try{let o;if(A("string"===typeof i,e,"argument-error"),A(n.type===bn,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){A("enroll"===t.type,e,"internal-error");const n=await function(e,t){return q(e,"POST","/v2/accounts/mfaEnrollment:start",B(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{A("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;A(n,e,"missing-multi-factor-info");const s=await function(e,t){return q(e,"POST","/v2/accounts/mfaSignIn:start",B(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return q(e,"POST","/v1/accounts:sendVerificationCode",B(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class kn{constructor(e){this.providerId=kn.PROVIDER_ID,this.auth=Ne(e)}verifyPhoneNumber(e,t){return Sn(this.auth,e,(0,i.m9)(t))}static credential(e,t){return Qe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return kn.credentialFromTaggedObject(t)}static credentialFromError(e){return kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Qe._fromTokenResponse(n,r):null}}function Cn(e,t){return t?ae(t):(A(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}kn.PROVIDER_ID="phone",kn.PHONE_SIGN_IN_METHOD="phone";class En extends Ve{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ge(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ge(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ge(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _n(e){return yt(e.auth,new En(e),e.bypassAuthState)}function Dn(e){const{auth:t,user:n}=e;return A(n,t,"internal-error"),vt(n,new En(e),e.bypassAuthState)}async function Pn(e){const{auth:t,user:n}=e;return A(n,t,"internal-error"),mt(n,new En(e),e.bypassAuthState)}class An{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _n;case"linkViaPopup":case"linkViaRedirect":return Pn;case"reauthViaPopup":case"reauthViaRedirect":return Dn;default:C(this.auth,"internal-error")}}resolve(e){M(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){M(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rn=new L(2e3,1e4);class Mn extends An{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Mn.currentPopupAction&&Mn.currentPopupAction.cancel(),Mn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return A(e,this.auth,"internal-error"),e}async onExecution(){M(1===this.filter.length,"Popup operations only handle one event");const e=Jt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(E(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(E(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(E(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Rn.get())};e()}}Mn.currentPopupAction=null;const Nn=new Map;class On extends An{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Nn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Vn(t),r=Fn(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Nn.set(this.auth._key(),e)}return this.bypassAuthState||Nn.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Zn(e,t){return Fn(e)._set(Vn(t),"true")}function Ln(e,t){Nn.set(e._key(),t)}function Fn(e){return ae(e._redirectPersistence)}function Vn(e){return ue("pendingRedirect",e.config.apiKey,e.name)}function Un(e,t,n){return async function(e,t,n){const r=Ne(e);D(e,t,$e),await r._initializationPromise;const i=Cn(r,n);return await Zn(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function jn(e,t,n){return async function(e,t,n){const r=(0,i.m9)(e);D(r.auth,t,$e),await r.auth._initializationPromise;const o=Cn(r.auth,n);await Zn(o,r.auth);const s=await zn(r);return o._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Bn(e,t,n){return async function(e,t,n){const r=(0,i.m9)(e);D(r.auth,t,$e),await r.auth._initializationPromise;const o=Cn(r.auth,n);await gt(!1,r,t.providerId),await Zn(o,r.auth);const s=await zn(r);return o._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function qn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Ne(e),i=Cn(r,t),o=new On(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function zn(e){const t=Jt("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Wn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Gn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(E(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hn(e))}saveEventToCache(e){this.cachedEventUids.add(Hn(e)),this.lastProcessedEventTime=Date.now()}}function Hn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Gn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Kn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return q(e,"GET","/v1/projects",t)}const Yn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qn=/^https?/;function Xn(e){const t=N(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qn.test(n))return!1;if(Yn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jn=new L(3e4,6e4);function $n(){const e=en().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let er=null;function tr(e){return er=er||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){$n(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$n(),n(E(e,"network-request-failed"))},timeout:Jn.get()})}if(null===(i=null===(r=en().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=en().gapi)||void 0===o?void 0:o.load)){const t=De("iframefcb");return en()[t]=()=>{gapi.load?s():n(E(e,"network-request-failed"))},_e("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw er=null,e}))}(e),er}const nr=new L(5e3,15e3),rr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ir=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function or(e){const t=e.config;A(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?F(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},s=ir.get(e.config.apiHost);s&&(r.eid=s);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat((0,i.xO)(r).slice(1))}const sr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ar="_blank",lr="http://localhost";class cr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ur(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const dr="__/auth/handler",hr="emulator/auth/handler",pr=encodeURIComponent("fac");async function fr(e,t,n,r,s,a){A(e.config.authDomain,e,"auth-domain-config-required"),A(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:s};if(t instanceof $e){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof et){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];const u=await e._getAppCheckToken(),d=u?"#".concat(pr,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(dr);return F(t,hr)}(e),"?").concat((0,i.xO)(c).slice(1)).concat(d)}const mr="webStorageSupport";const gr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qt,this._completeRedirectFn=qn,this._overrideRedirectResult=Ln}async _openPopup(e,t,n,r){var o;M(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},sr),{width:r.toString(),height:o.toString(),top:s,left:a}),u=(0,i.z$)().toLowerCase();n&&(l=me(u)?ar:n),pe(u)&&(t=t||lr,c.scrollbars="yes");const d=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(Te(u)&&"_self"!==l)return ur(t||"",l),new cr(null);const h=window.open(t||"",l,d);A(h,e,"popup-blocked");try{h.focus()}catch(p){}return new cr(h)}(e,await fr(e,t,n,N(),r),Jt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){en().location.href=e}(await fr(e,t,n,N(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(M(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await tr(e),n=en().gapi;return A(n,e,"internal-error"),t.open({where:document.body,url:or(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=E(e,"network-request-failed"),o=en().setTimeout((()=>{r(i)}),nr.get());function s(){en().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Wn(e);return t.register("authEvent",(t=>{A(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mr,{type:mr},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),C(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Kn(e);for(const r of t)try{if(Xn(r))return}catch(n){}C(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ie()||fe()||be()}};class vr{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return R("unexpected MultiFactorSessionType")}}}class yr extends vr{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new yr(e)}_finalizeEnroll(e,t,n){return function(e,t){return q(e,"POST","/v2/accounts/mfaEnrollment:finalize",B(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return q(e,"POST","/v2/accounts/mfaSignIn:finalize",B(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class wr{constructor(){}static assertion(e){return yr._fromCredential(e)}}wr.FACTOR_ID="phone";var br="@firebase/auth",Tr="0.23.2";class Ir{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.Pz)("authIdTokenMaxAge");var xr;function Sr(){return window}xr="Browser",(0,o._registerComponent)(new l.wA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;A(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:xr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(xr)},c=new Me(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ae);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,o._registerComponent)(new l.wA("auth-internal",(e=>(e=>new Ir(e))(Ne(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(br,Tr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(xr)),(0,o.registerVersion)(br,Tr,"esm2017");async function kr(e,t,n){var r;const{BuildInfo:i}=Sr();M(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(M(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return be()?s.ibi=i.packageName:ve()?s.apn=i.packageName:C(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,fr(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function Cr(e){const{cordova:t}=Sr();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let o=null;r?t.plugins.browsertab.openUrl(e):o=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(o)}))}))}class Er extends Wn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function _r(e){const t=await Ar()._get(Rr(e));return t&&await Ar()._remove(Rr(e)),t}function Dr(e,t){var n,r;const i=function(e){const t=Mr(e),n=t.link?decodeURIComponent(t.link):void 0,r=Mr(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Mr(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Mr(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?E(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Pr(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ar(){return ae(Kt)}function Rr(e){return ue("authEvent",e.config.apiKey,e.name)}function Mr(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,i.zd)(n.join("?"))}const Nr=class{constructor(){this._redirectPersistence=Qt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qn,this._overrideRedirectResult=Ln}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Er(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){C(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=Sr();A("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),A("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),A("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),A("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),A("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Nn.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Pr(),postBody:null,tenantId:e.tenantId,error:E(e,"no-auth-event")}}(e,n,r);await function(e,t){return Ar()._set(Rr(e),t)}(e,o);const s=await kr(e,o,t);return async function(e,t,n){const{cordova:r}=Sr();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(E(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ve()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Cr(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Sr(),n={};be()?n.iosBundleId=t.packageName:ve()?n.androidPackageName=t.packageName:C(e,"operation-not-supported-in-this-environment"),await Kn(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Sr(),o=setTimeout((async()=>{await _r(e),t.onEvent(Or())}),500),s=async n=>{clearTimeout(o);const r=await _r(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Dr(r,n.url)),t.onEvent(i||Or())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");Sr().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Or(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:E("no-auth-event")}}function Zr(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return!("file:"!==Zr()&&"ionic:"!==Zr()&&"capacitor:"!==Zr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fr(){return(0,i.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/Edge\/\d+/.test(e)}function Ur(){try{const e=self.localStorage,t=Jt();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return Fr()||Vr(e)}()||(0,i.hl)()}catch(e){return jr()&&(0,i.hl)()}return!1}function jr(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Br(){return("http:"===Zr()||"https:"===Zr()||(0,i.ru)()||Lr())&&!((0,i.b$)()||(0,i.UG)())&&Ur()&&!jr()}function qr(){return Lr()&&"undefined"!==typeof document}const zr={LOCAL:"local",NONE:"none",SESSION:"session"},Wr=A,Hr="persistence";async function Gr(e){await e._initializationPromise;const t=Kr(),n=ue(Hr,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Kr(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Yr=A;class Qr{constructor(){this.browserResolver=ae(gr),this.cordovaResolver=ae(Nr),this.underlyingResolver=null,this._redirectPersistence=Qt,this._completeRedirectFn=qn,this._overrideRedirectResult=Ln}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return qr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yr(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!qr()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Xr(e){return e.unwrap()}function Jr(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new ni(e,function(e,t){var n;const r=(0,i.m9)(e),o=t;return A(t.customData.operationType,r,"argument-error"),A(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bt._fromError(r,o)}(e,t))}else if(r){const e=$r(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function $r(e){const{_tokenResponse:t}=e instanceof i.ZR?e.customData:e;if(!t)return null;if(!(e instanceof i.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return kn.credentialFromResult(e);const n=t.providerId;if(!n||n===h)return null;let r;switch(n){case d:r=rt;break;case c:r=nt;break;case u:r=it;break;case p:r=at;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?ot._create(n,s):Ke._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new tt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof i.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function ei(e,t){return t.catch((t=>{throw t instanceof i.ZR&&Jr(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,$r(r)),additionalUserInfo:Ut(e),user:ri.getOrCreate(n)};var r}))}async function ti(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ei(e,n.confirm(t))}}class ni{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ei(Xr(this.auth),this.resolver.resolveSignIn(e))}}class ri{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,i.m9)(e);return zt.has(t)||zt.set(t,qt._fromUser(t)),zt.get(t)}(e)}static getOrCreate(e){return ri.USER_MAP.has(e)||ri.USER_MAP.set(e,new ri(e)),ri.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ei(this.auth,bt(this._delegate,e))}async linkWithPhoneNumber(e,t){return ti(this.auth,async function(e,t,n){const r=(0,i.m9)(e);await gt(!1,r,"phone");const o=await Sn(r.auth,t,(0,i.m9)(n));return new xn(o,(e=>bt(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ei(this.auth,async function(e,t,n){const r=(0,i.m9)(e);D(r.auth,t,$e);const o=Cn(r.auth,n);return new Mn(r.auth,"linkViaPopup",t,o,r).executeNotNull()}(this._delegate,e,Qr))}async linkWithRedirect(e){return await Gr(Ne(this.auth)),Bn(this._delegate,e,Qr)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ei(this.auth,Tt(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ti(this.auth,async function(e,t,n){const r=(0,i.m9)(e),o=await Sn(r.auth,t,(0,i.m9)(n));return new xn(o,(e=>Tt(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ei(this.auth,async function(e,t,n){const r=(0,i.m9)(e);D(r.auth,t,$e);const o=Cn(r.auth,n);return new Mn(r.auth,"reauthViaPopup",t,o,r).executeNotNull()}(this._delegate,e,Qr))}async reauthenticateWithRedirect(e){return await Gr(Ne(this.auth)),jn(this._delegate,e,Qr)}sendEmailVerification(e){return Pt(this._delegate,e)}async unlink(e){return await ft(this._delegate,e),this}updateEmail(e){return function(e,t){return Mt((0,i.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Mt((0,i.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await mt((0,i.m9)(e),t)}(this._delegate,e)}updateProfile(e){return Rt(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return At(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ri.USER_MAP=new WeakMap;const ii=A;class oi{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;ii(n,"invalid-api-key",{appName:e.name}),ii(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Qr:void 0;this._delegate=t.initialize({options:{persistence:ai(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(T),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ri.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ze(this._delegate,e,t)}applyActionCode(e){return Et(this._delegate,e)}checkActionCode(e){return _t(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ue((0,i.m9)(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ei(this._delegate,async function(e,t,n){var r;const i=Ne(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ae(i,o,"signUpPassword");s=lt(i,e)}else s=lt(i,o).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Ae(i,o,"signUpPassword");return lt(i,e)}return Promise.reject(e)}));const a=await s.catch((e=>Promise.reject(e))),l=await ct._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Dt(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Xe.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){ii(Br(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Ne(e)._initializationPromise,qn(e,t,!1)}(this._delegate,Qr);return e?ei(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Ne(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=si(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=si(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=Ne(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){A(t.handleCodeInApp,i,"argument-error"),t&&Ct(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ae(i,o,"getOobCode",!0);s(e,n),await We(i,e)}else s(o,n),await We(i,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Ae(i,o,"getOobCode",!0);s(e,n),await We(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=Ne(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Ae(i,o,"getOobCode",!0);n&&Ct(i,e,n),await ze(i,e)}else n&&Ct(i,o,n),await ze(i,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Ae(i,o,"getOobCode",!0);n&&Ct(i,e,n),await ze(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Wr(Object.values(zr).includes(t),e,"invalid-persistence-type"),(0,i.b$)()?Wr(t!==zr.SESSION,e,"unsupported-persistence-type"):(0,i.UG)()?Wr(t===zr.NONE,e,"unsupported-persistence-type"):jr()?Wr(t===zr.NONE||t===zr.LOCAL&&(0,i.hl)(),e,"unsupported-persistence-type"):Wr(t===zr.NONE||Ur(),e,"unsupported-persistence-type")}(this._delegate,e),e){case zr.SESSION:t=Qt;break;case zr.LOCAL:t=await ae(hn)._isAvailable()?hn:Kt;break;case zr.NONE:t=ce;break;default:return C("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ei(this._delegate,async function(e){var t;const n=Ne(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ct({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await lt(n,{returnSecureToken:!0}),i=await ct._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ei(this._delegate,wt(this._delegate,e))}signInWithCustomToken(e){return ei(this._delegate,It(this._delegate,e))}signInWithEmailAndPassword(e,t){return ei(this._delegate,function(e,t,n){return wt((0,i.m9)(e),Je.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ei(this._delegate,async function(e,t,n){const r=(0,i.m9)(e),o=Je.credentialWithLink(t,n||N());return A(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),wt(r,o)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ti(this._delegate,async function(e,t,n){const r=Ne(e),o=await Sn(r,t,(0,i.m9)(n));return new xn(o,(e=>wt(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return ii(Br(),this._delegate,"operation-not-supported-in-this-environment"),ei(this._delegate,async function(e,t,n){const r=Ne(e);D(e,t,$e);const i=Cn(r,n);return new Mn(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Qr))}async signInWithRedirect(e){return ii(Br(),this._delegate,"operation-not-supported-in-this-environment"),await Gr(this._delegate),Un(this._delegate,e,Qr)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await _t((0,i.m9)(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function si(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&ri.getOrCreate(e)),error:t,complete:n}}function ai(e,t){const n=function(e,t){const n=Kr();if(!n)return[];const r=ue(Hr,e,t);switch(n.getItem(r)){case zr.NONE:return[ce];case zr.LOCAL:return[hn,Qt];case zr.SESSION:return[Qt];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(hn)||n.push(hn),"undefined"!==typeof window)for(const r of[Kt,Qt])n.includes(r)||n.push(r);return n.includes(ce)||n.push(ce),n}oi.Persistence=zr;class li{constructor(){this.providerId="phone",this._delegate=new kn(Xr(r.Z.auth()))}static credential(e,t){return kn.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}li.PHONE_SIGN_IN_METHOD=kn.PHONE_SIGN_IN_METHOD,li.PROVIDER_ID=kn.PROVIDER_ID;const ci=A;class ui{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Z.app();var i;ci(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new In(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var di;(di=r.Z).INTERNAL.registerComponent(new l.wA("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new oi(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:f,PASSWORD_RESET:m,RECOVER_EMAIL:g,REVERT_SECOND_FACTOR_ADDITION:v,VERIFY_AND_CHANGE_EMAIL:y,VERIFY_EMAIL:w}},EmailAuthProvider:Je,FacebookAuthProvider:nt,GithubAuthProvider:it,GoogleAuthProvider:rt,OAuthProvider:tt,SAMLAuthProvider:st,PhoneAuthProvider:li,PhoneMultiFactorGenerator:wr,RecaptchaVerifier:ui,TwitterAuthProvider:at,Auth:oi,AuthCredential:Ve,Error:i.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),di.registerVersion("@firebase/auth-compat","0.4.2")},2806:(e,t,n)=>{var r=n(166),i=n(3577),o=n(5854),s=n(3258);function a(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new i.WA("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function l(){if("undefined"===typeof Uint8Array)throw new i.WA("unimplemented","Uint8Arrays are not available in this environment.")}function c(){if(!(0,i.Me)())throw new i.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class u{constructor(e){this._delegate=e}static fromBase64String(e){return c(),new u(i.Jj.fromBase64String(e))}static fromUint8Array(e){return l(),new u(i.Jj.fromUint8Array(e))}toBase64(){return c(),this._delegate.toBase64()}toUint8Array(){return l(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function d(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class h{enableIndexedDbPersistence(e,t){return(0,i.ST)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,i.fH)(e._delegate)}clearIndexedDbPersistence(e){return(0,i.Fc)(e._delegate)}}class p{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof i.l7||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||(0,i.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.at)(this._delegate,e,t,n)}enableNetwork(){return(0,i.Ix)(this._delegate)}disableNetwork(){return(0,i.TF)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,(0,i.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,i.Mx)(this._delegate)}onSnapshotsInSync(e){return(0,i.sc)(this._delegate,e)}get app(){if(!this._appCompat)throw new i.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new E(this,(0,i.hJ)(this._delegate,e))}catch(t){throw w(t,"collection()","Firestore.collection()")}}doc(e){try{return new y(this,(0,i.JU)(this._delegate,e))}catch(t){throw w(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new S(this,(0,i.B$)(this._delegate,e))}catch(t){throw w(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,i.i3)(this._delegate,(t=>e(new m(this,t))))}batch(){return(0,i.qY)(this._delegate),new g(new i.PU(this._delegate,(e=>(0,i.GL)(this._delegate,e))))}loadBundle(e){return(0,i.Pb)(this._delegate,e)}namedQuery(e){return(0,i.L$)(this._delegate,e).then((e=>e?new S(this,e):null))}}class f extends i.u7{constructor(e){super(),this.firestore=e}convertBytes(e){return new u(new i.Jj(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return y.forKey(t,this.firestore,null)}}class m{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new f(e)}get(e){const t=_(e);return this._delegate.get(t).then((e=>new I(this._firestore,new i.xU(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=_(e);return n?(a("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=_(e);return this._delegate.delete(t),this}}class g{constructor(e){this._delegate=e}set(e,t,n){const r=_(e);return n?(a("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class v{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new i.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new x(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=v.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new v(e,new f(e),t),r.set(t,i)),i}}v.INSTANCES=new WeakMap;class y{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f(e)}static forPath(e,t,n){if(e.length%2!==0)throw new i.WA("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new y(t,new i.my(t._delegate,n,new i.Ky(e)))}static forKey(e,t,n){return new y(t,new i.my(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new E(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new E(this.firestore,(0,i.hJ)(this._delegate,e))}catch(t){throw w(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,o.m9)(e))instanceof i.my&&(0,i.Eo)(this._delegate,e)}set(e,t){t=a("DocumentReference.set",t);try{return t?(0,i.pl)(this._delegate,e,t):(0,i.pl)(this._delegate,e)}catch(n){throw w(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];try{return 1===arguments.length?(0,i.r7)(this._delegate,e):(0,i.r7)(this._delegate,e,t,...r)}catch(s){throw w(s,"updateDoc()","DocumentReference.update()")}}delete(){return(0,i.oe)(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=b(t),o=T(t,(e=>new I(this.firestore,new i.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return(0,i.cf)(this._delegate,r,o)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,i.kl)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,i.Xk)(this._delegate):(0,i.QT)(this._delegate),t.then((e=>new I(this.firestore,new i.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new y(this.firestore,e?this._delegate.withConverter(v.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function w(e,t,n){return e.message=e.message.replace(t,n),e}function b(e){for(const t of e)if("object"===typeof t&&!d(t))return t;return{}}function T(e,t){var n,r;let i;return i=d(e[0])?e[0]:d(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class I{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new y(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,i.qK)(this._delegate,e._delegate)}}class x extends I{data(e){const t=this._delegate.data(e);return(0,i.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class S{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f(e)}where(e,t,n){try{return new S(this.firestore,(0,i.IO)(this._delegate,(0,i.ar)(e,t,n)))}catch(r){throw w(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new S(this.firestore,(0,i.IO)(this._delegate,(0,i.Xo)(e,t)))}catch(n){throw w(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new S(this.firestore,(0,i.IO)(this._delegate,(0,i.b9)(e)))}catch(t){throw w(t,"limit()","Query.limit()")}}limitToLast(e){try{return new S(this.firestore,(0,i.IO)(this._delegate,(0,i.vh)(e)))}catch(t){throw w(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new S(this.firestore,(0,i.IO)(this._delegate,(0,i.e0)(...arguments)))}catch(e){throw w(e,"startAt()","Query.startAt()")}}startAfter(){try{return new S(this.firestore,(0,i.IO)(this._delegate,(0,i.TQ)(...arguments)))}catch(e){throw w(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new S(this.firestore,(0,i.IO)(this._delegate,(0,i.Lx)(...arguments)))}catch(e){throw w(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new S(this.firestore,(0,i.IO)(this._delegate,(0,i.Wu)(...arguments)))}catch(e){throw w(e,"endAt()","Query.endAt()")}}isEqual(e){return(0,i.iE)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,i.UQ)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,i.zN)(this._delegate):(0,i.PL)(this._delegate),t.then((e=>new C(this.firestore,new i.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=b(t),o=T(t,(e=>new C(this.firestore,new i.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return(0,i.cf)(this._delegate,r,o)}withConverter(e){return new S(this.firestore,e?this._delegate.withConverter(v.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class k{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new x(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class C{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new S(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new x(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new k(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new x(this._firestore,n))}))}isEqual(e){return(0,i.qK)(this._delegate,e._delegate)}}class E extends S{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new y(this.firestore,e):null}doc(e){try{return new y(this.firestore,void 0===e?(0,i.JU)(this._delegate):(0,i.JU)(this._delegate,e))}catch(t){throw w(t,"doc()","CollectionReference.doc()")}}add(e){return(0,i.ET)(this._delegate,e).then((e=>new y(this.firestore,e)))}isEqual(e){return(0,i.Eo)(this._delegate,e._delegate)}withConverter(e){return new E(this.firestore,e?this._delegate.withConverter(v.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function _(e){return(0,i.Cf)(e,i.my)}class D{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new i.Lz(...t)}static documentId(){return new D(i.Xb.keyField().canonicalString())}isEqual(e){return(e=(0,o.m9)(e))instanceof i.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}class P{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,i.Bt)();return e._methodName="FieldValue.serverTimestamp",new P(e)}static delete(){const e=(0,i.AK)();return e._methodName="FieldValue.delete",new P(e)}static arrayUnion(){const e=(0,i.vr)(...arguments);return e._methodName="FieldValue.arrayUnion",new P(e)}static arrayRemove(){const e=(0,i.Ab)(...arguments);return e._methodName="FieldValue.arrayRemove",new P(e)}static increment(e){const t=(0,i.nP)(e);return t._methodName="FieldValue.increment",new P(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const A={Firestore:p,GeoPoint:i.F8,Timestamp:i.EK,Blob:u,Transaction:m,WriteBatch:g,DocumentReference:y,DocumentSnapshot:I,Query:S,QueryDocumentSnapshot:x,QuerySnapshot:C,CollectionReference:E,FieldPath:D,FieldValue:P,setLogLevel:function(e){(0,i.Ub)(e)},CACHE_SIZE_UNLIMITED:i.IX};!function(e){var t;t=(e,t)=>new p(e,t,new h),e.INTERNAL.registerComponent(new s.wA("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},A))),e.registerVersion("@firebase/firestore-compat","0.3.9")}(r.Z)},1978:(e,t,n)=>{n.d(t,{Bt:()=>r.Bt,ET:()=>r.ET,hJ:()=>r.hJ});var r=n(3577)},276:(e,t,n)=>{n.d(t,{cF:()=>O});var r=n(7825),i=n(5854),o=n(3258);const s="firebasestorage.googleapis.com";class a extends i.ZR{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(u(e),"Firebase Storage: ".concat(t," (").concat(u(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var l,c;function u(e){return"storage/"+e}function d(){return new a(l.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function h(){return new a(l.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p(){return new a(l.CANCELED,"User canceled the upload/download.")}function f(e){return new a(l.INVALID_ARGUMENT,e)}function m(){return new a(l.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(l||(l={}));class g{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=g.makeFromUrl(e,t)}catch(i){return new g(e,"")}if(""===n.path)return n;throw r=e,new a(l.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const c=t.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(c,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===s?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let s=0;s<u.length;s++){const t=u[s],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new g(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new a(l.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class v{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function y(e,t,n,r){if(r<t)throw f("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw f("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function w(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function b(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(c||(c={}));class T{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new I(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===c.NO_ERROR,i=n.getStatus();if(!t||b(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===c.ABORT;return void e(!1,new I(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new I(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(o){r(o)}else if(null!==i){const e=d();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?m():p())}else{r(h())}};this.canceled_?t(0,new I(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(p,l())}),t)}function h(){o&&clearTimeout(o)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class I{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function x(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function S(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function k(e,t){t&&(e["X-Firebase-GMPID"]=t)}function C(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function E(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class _{constructor(e,t){this._service=e,this._location=t instanceof g?t:g.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _(e,t)}get root(){const e=new g(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new g(this._location.bucket,e);return new _(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new a(l.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function D(e,t){const n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:g.makeFromBucketSpec(n,e)}function P(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:(0,i.Sg)(o,e.app.options.projectId))}class A{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?g.makeFromBucketSpec(r,this._host):D(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=g.makeFromBucketSpec(this._url,e):this._bucket=D(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){y("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){y("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new v(m());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=w(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return k(c,t),x(c,n),S(c,o),C(c,r),new T(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const R="@firebase/storage",M="0.11.2",N="storage";function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.getApp)(),t=arguments.length>1?arguments[1]:void 0;e=(0,i.m9)(e);const n=(0,r._getProvider)(e,N),o=n.getImmediate({identifier:t}),s=(0,i.P0)("storage");return s&&Z(o,...s),o}function Z(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};P(e,t,n,r)}function L(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new A(i,o,s,n,r.SDK_VERSION)}(0,r._registerComponent)(new o.wA(N,L,"PUBLIC").setMultipleInstances(!0)),(0,r.registerVersion)(R,M,""),(0,r.registerVersion)(R,M,"esm2017")}}]);
//# sourceMappingURL=895.120c7215.chunk.js.map